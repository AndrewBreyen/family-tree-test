(self.webpackChunkstone_family_tree=self.webpackChunkstone_family_tree||[]).push([[559],{2350:function(e,t,n){"use strict";n.d(t,{$I:function(){return s},DL:function(){return b},DY:function(){return L},EE:function(){return E},En:function(){return I},F7:function(){return k},GE:function(){return A},GV:function(){return u},JG:function(){return y},JJ:function(){return o},ML:function(){return h},S9:function(){return v},SP:function(){return T},TK:function(){return O},Vn:function(){return R},X9:function(){return r},ZU:function(){return z},a3:function(){return m},ex:function(){return d},hZ:function(){return i},k0:function(){return F},lO:function(){return M},lz:function(){return S},qG:function(){return g},r7:function(){return c},sO:function(){return P},sj:function(){return C},vZ:function(){return x},vt:function(){return w},wL:function(){return a},xB:function(){return f},xj:function(){return l},zX:function(){return p}});var i={Auto:0,Left:2,Right:3},o={Connector:0,Shape:1,HighlightPath:2,Label:3,Background:4,Level:5},r={Auto:0,Vertical:1,Horizontal:2,Matrix:3},a={AliceBlue:"#f0f8ff",AntiqueWhite:"#faebd7",Aqua:"#00ffff",Aquamarine:"#7fffd4",Azure:"#f0ffff",Beige:"#f5f5dc",Bisque:"#ffe4c4",Black:"#000000",BlanchedAlmond:"#ffebcd",Blue:"#0000ff",BlueViolet:"#8a2be2",Brown:"#a52a2a",BurlyWood:"#deb887",Bronze:"#cd7f32",CadetBlue:"#5f9ea0",ChartReuse:"#7fff00",Chocolate:"#d2691e",Coral:"#ff7f50",CornflowerBlue:"#6495ed",Cornsilk:"#fff8dc",Crimson:"#dc143c",Cyan:"#00ffff",DarkBlue:"#00008b",DarkCyan:"#008b8b",DarkGoldenrod:"#b8860b",DarkGray:"#a9a9a9",DarkGreen:"#006400",DarkKhaki:"#bdb76b",DarkMagenta:"#8b008b",DarkOliveGreen:"#556b2f",Darkorange:"#ff8c00",DarkOrchid:"#9932cc",DarkRed:"#8b0000",DarkSalmon:"#e9967a",DarkSeaGreen:"#8fbc8f",DarkSlateBlue:"#483d8b",DarkSlateGray:"#2f4f4f",DarkTurquoise:"#00ced1",DarkViolet:"#9400d3",DeepPink:"#ff1493",DeepSkyBlue:"#00bfff",DimGray:"#696969",DodgerBlue:"#1e90ff",FireBrick:"#b22222",FloralWhite:"#fffaf0",ForestGreen:"#228b22",Fuchsia:"#ff00ff",Gainsboro:"#dcdcdc",GhostWhite:"#f8f8ff",Gold:"#ffd700",Goldenrod:"#daa520",Gray:"#808080",Green:"#008000",GreenYellow:"#adff2f",Honeydew:"#f0fff0",Hotpink:"#ff69b4",IndianRed:"#cd5c5c",Indigo:"#4b0082",Ivory:"#fffff0",Khaki:"#f0e68c",Lavender:"#e6e6fa",LavenderBlush:"#fff0f5",Lawngreen:"#7cfc00",Lemonchiffon:"#fffacd",LightBlue:"#add8e6",LightCoral:"#f08080",LightCyan:"#e0ffff",LightGoldenrodYellow:"#fafad2",LightGray:"#d3d3d3",LightGreen:"#90ee90",LightPink:"#ffb6c1",LightSalmon:"#ffa07a",LightSeaGreen:"#20b2aa",LightSkyBlue:"#87cefa",LightSlateGray:"#778899",LightSteelBlue:"#b0c4de",LightYellow:"#ffffe0",Lime:"#00ff00",Limegreen:"#32cd32",Linen:"#faf0e6",Magenta:"#ff00ff",Maroon:"#800000",MediumAquamarine:"#66cdaa",MediumBlue:"#0000cd",MediumOrchid:"#ba55d3",MediumPurple:"#9370d8",MediumSeaGreen:"#3cb371",MediumSlateBlue:"#7b68ee",MediumSpringGreen:"#00fa9a",MediumTurquoise:"#48d1cc",MediumVioletRed:"#c71585",MidnightBlue:"#191970",MintCream:"#f5fffa",MistyRose:"#ffe4e1",Moccasin:"#ffe4b5",NavajoWhite:"#ffdead",Navy:"#000080",Oldlace:"#fdf5e6",Olive:"#808000",Olivedrab:"#6b8e23",Orange:"#ffa500",OrangeRed:"#ff4500",Orchid:"#da70d6",PaleGoldenRod:"#eee8aa",PaleGreen:"#98fb98",PaleTurquoise:"#afeeee",PaleVioletRed:"#d87093",Papayawhip:"#ffefd5",Peachpuff:"#ffdab9",Peru:"#cd853f",Pink:"#ffc0cb",Plum:"#dda0dd",PowderBlue:"#b0e0e6",Purple:"#800080",Red:"#ff0000",RosyBrown:"#bc8f8f",RoyalBlue:"#4169e1",SaddleBrown:"#8b4513",Salmon:"#fa8072",SandyBrown:"#f4a460",SeaGreen:"#2e8b57",Seashell:"#fff5ee",Sienna:"#a0522d",Silver:"#c0c0c0",SkyBlue:"#87ceeb",SlateBlue:"#6a5acd",SlateGray:"#708090",Snow:"#fffafa",SpringGreen:"#00ff7f",SteelBlue:"#4682b4",Tan:"#d2b48c",Teal:"#008080",Thistle:"#d8bfd8",Tomato:"#ff6347",Turquoise:"#40e0d0",Violet:"#ee82ee",Wheat:"#f5deb3",White:"#ffffff",WhiteSmoke:"#f5f5f5",Yellow:"#ffff00",YellowGreen:"#9acd32"},l={From:0,Between:1,To:2},s={Offbeat:0,Straight:1},u={OneWay:0,TwoWay:1,BothWay:2},h={Extra:0,Regular:1,Highlight:2},c={Squared:0,Angular:1,Curved:2},d={None:0,Dot:1,Bevel:2,Round:3},f={Auto:0,True:1,False:2},p={None:0,Parents:1,Children:2},m={Center:0,Left:1,Right:2},g={Regular:0,Assistant:1,SubAssistant:4,Adviser:2,SubAdviser:5,GeneralPartner:6,LimitedPartner:7,AdviserPartner:8},y={Regular:0,Dummy:1,Fixed:2,None:3},v={LevelAnnotation:1,BackgroundAnnotation:2,BackgroundAnnotations:3,BackgroundConnectorAnnotation:4,BackgroundHighlightPathAnnotations:5,Connector:6,ForegroundHighlightPathAnnotations:7,Highlight:8,Marker:9,Label:10,Cursor:11,Item:12,ForegroundAnnotations:13,ForegroundConnectorAnnotation:14,Annotation:15,Controls:16},T={Solid:0,Dotted:1,Dashed:2},w={Default:0,CursorOnly:1,HighlightOnly:3,Inactive:2},b={ParentsAndChildren:0,ParentsChildrenSiblingsAndSpouses:1},k={Top:0,Bottom:1,Left:2,Right:3,None:4},C={None:0,PageWidth:1,PageHeight:2,FitToPage:3,AutoSize:5,SelectionOnly:6},O={Auto:0,TopLeft:8,Top:1,TopRight:2,RightTop:11,Right:3,RightBottom:12,BottomRight:4,Bottom:5,BottomLeft:6,LeftBottom:10,Left:7,LeftTop:9},P={Create:0,Update:1},x={Line:0,Move:1,QuadraticArc:2,CubicArc:3,Dot:4},S={None:0,FullStack:1},L={Rectangle:0,Oval:1,Triangle:2,CrossOut:3,Circle:4,Rhombus:5,Wedge:7,FramedOval:8,FramedTriangle:9,FramedWedge:10,FramedRhombus:11,None:6},I={Top:1,Right:2,Bottom:4,Left:8},A={Horizontal:0,RotateLeft:1,RotateRight:2,Auto:3},M={Recreate:0,Refresh:1,PositonHighlight:2},z={None:0,Null:1,Collinear:2,Opposite:3},R={Top:0,Middle:1,Bottom:2},E={Auto:0,Normal:1,Dot:2,Line:3,Invisible:4},F={Auto:0,Background:1,Foreground:2}},3558:function(e,t,n){"use strict";function i(e,t){switch(this.width=0,this.height=0,arguments.length){case 1:this.width=e.width,this.height=e.height;break;case 2:this.width=e,this.height=t}}n.d(t,{Z:function(){return i}}),i.prototype.isEmpty=function(){return null===this.width||null===this.height||this.width<0||this.height<0},i.prototype.invert=function(){var e=this.width;return this.width=this.height,this.height=e,this},i.prototype.scale=function(e){return this.width=this.width*e,this.height=this.height*e,this},i.prototype.space=function(){return this.width*this.height},i.prototype.getCSS=function(e){return e=void 0!==e?e:"px",{width:this.width+e,height:this.height+e}},i.prototype.cropBySize=function(e){return this.width=Math.min(this.width,e.width),this.height=Math.min(this.height,e.height),this},i.prototype.maxSize=function(e){return this.width=Math.max(this.width,e.width),this.height=Math.max(this.height,e.height),this},i.prototype.addThickness=function(e){return this.width=Math.max(0,this.width+e.left+e.right),this.height=Math.max(0,this.height+e.top+e.bottom),this},i.prototype.removeThickness=function(e){return this.width=Math.max(0,this.width-e.left-e.right),this.height=Math.max(0,this.height-e.top-e.bottom),this},i.prototype.validate=function(){if(isNaN(this.width)||isNaN(this.height))throw"Invalid size."}},9420:function(e,t,n){"use strict";n.r(t),n.d(t,{AdviserPlacementType:function(){return r.hZ},AnnotationType:function(){return r.JJ},BackgroundAnnotationConfig:function(){return Te},ChildrenPlacementType:function(){return r.X9},Colors:function(){return r.wL},ConnectorAnnotationConfig:function(){return we},ConnectorLabelPlacementType:function(){return r.xj},ConnectorPlacementType:function(){return r.$I},ConnectorShapeType:function(){return r.GV},ConnectorStyleType:function(){return r.ML},ConnectorType:function(){return r.r7},ElbowType:function(){return r.ex},Enabled:function(){return r.xB},FamConfig:function(){return ge},FamDiagram:function(){return jo},FamDiagramPdfkit:function(){return lr},FamEventArgs:function(){return ve},FamItemConfig:function(){return ye},FamTaskManagerFactory:function(){return Fo},Family:function(){return oe},FamilyAlignment:function(){return ae},FamilyMargins:function(){return re},FibonacciHeap:function(){return te},Graph:function(){return ne},GroupByType:function(){return r.zX},HeapResult:function(){return ee},HighlightPathAnnotationConfig:function(){return be},HorizontalAlignmentType:function(){return r.a3},Interval:function(){return D},ItemType:function(){return r.qG},JsonML:function(){return R},LCA:function(){return se},LabelAnnotationConfig:function(){return ke},LabelType:function(){return r.JG},Layers:function(){return r.S9},LevelAnnotationConfig:function(){return Pe},LineType:function(){return r.SP},LinkedHashItems:function(){return K},Matrix:function(){return F},NavigationMode:function(){return r.vt},NeighboursSelectionMode:function(){return r.DL},OrgConfig:function(){return fe},OrgDiagram:function(){return _i},OrgDiagramPdfkit:function(){return or},OrgEventArgs:function(){return me},OrgItemConfig:function(){return pe},OrgTaskManagerFactory:function(){return Ii},OrientationType:function(){return r.F7},PageFitMode:function(){return r.sj},PaletteItemConfig:function(){return Ce},Pile:function(){return ue},PlacementType:function(){return r.TK},Point:function(){return E},QuadTree:function(){return he},RMQ:function(){return le},Rect:function(){return j},RenderingMode:function(){return r.sO},SegmentType:function(){return r.vZ},SelectionPathMode:function(){return r.lz},ShapeAnnotationConfig:function(){return Oe},ShapeType:function(){return r.DY},SideFlag:function(){return r.En},Size:function(){return P.Z},SortedList:function(){return H},SpatialIndex:function(){return ce},TemplateConfig:function(){return xe},TextOrientationType:function(){return r.GE},Thickness:function(){return _},Tree:function(){return $},TreeLevels:function(){return de},UpdateMode:function(){return r.lO},Vector:function(){return B},VectorRelationType:function(){return r.ZU},VerticalAlignmentType:function(){return r.Vn},Visibility:function(){return r.EE},ZOrderType:function(){return r.k0},beforeOpacity:function(){return b},binarySearch:function(){return N},cloneObject:function(){return d},compareArrays:function(){return m},getBlue:function(){return w},getColorHexValue:function(){return g},getColorName:function(){return y},getCrossingRectangles:function(){return V},getElementOffset:function(){return L},getElementsByName:function(){return x},getFamilyLoops:function(){return W},getFamilyUnits:function(){return Z},getFixOfPixelAlignment:function(){return S},getGreen:function(){return T},getHashCode:function(){return p},getInnerSize:function(){return M},getLiniarBreaks:function(){return q},getMergedIntervals:function(){return Q},getMergedRectangles:function(){return X},getMinimumCrossingRows:function(){return Y},getRed:function(){return v},hasClass:function(){return I},highestContrast:function(){return C},isEmptyObject:function(){return c},isEven:function(){return a},isNullOrEmpty:function(){return l},isObject:function(){return h},loop:function(){return s},luminosity:function(){return O},mergeObjects:function(){return f},mergeSort:function(){return U},splitCamelCaseName:function(){return u},stopPropagation:function(){return A}});var i,o,r=n(2350);function a(e){return e%2==0}function l(e){var t=!0;return null!=e&&e.toString().length>0&&(t=!1),t}function s(e,t,n){var i,o,r;if(null!=n)if(Array.isArray(t))for(o=0,r=t.length;o<r&&!n.call(e,o,t[o]);o+=1);else for(i in t)if(t.hasOwnProperty(i)&&n.call(e,i,t[i]))break}function u(e){for(var t=[],n="",i=0;i<e.length;i+=1){var o=e[i];o>="A"&&o<="Z"?(""!==n&&t.push(n),n=o):n+=o}return""!==n&&t.push(n),t}function h(e){return null!==e&&"object"==typeof e}function c(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function d(e,t){var n;if(null===e)n=null;else if(Array.isArray(e))if(t)n=e.slice(0);else{n=[];for(var i=0,o=e.length;i<o;i+=1)n.push(d(e[i],t))}else if("object"==typeof e)for(var r in n={},e)e.hasOwnProperty(r)&&(n[r]=t?e[r]:d(e[r],t));else n=e;return n}function f(e,t){for(var n=1;n<arguments.length;n+=1){var i=arguments[n];if(void 0!==i)for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}return e}function p(e){var t,n=0;if(e.length>0)for(t=0;t<e.length;t+=1)n=(n<<5)-n+e.charCodeAt(t),n&=n;return n}function m(e,t,n){var i,o,r,a,l=!0;if(e.length!=t.length)l=!1;else{for(a={},i=0,o=e.length;i<o;i+=1)r=null!=n?n(e[i]):e[i],a.hasOwnProperty(r)?a[r]+=1:a[r]=1;for(i=0,o=t.length;i<o;i+=1){if(r=null!=n?n(t[i]):t[i],!a.hasOwnProperty(r)){l=!1;break}if(a[r]-=1,a[r]<0){l=!1;break}}}return l}function g(e){var t,n,o;if("#"===e.substr(0,1))return e;if(null!==(t=/(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(e))&&t.length>0)return n=(parseInt(t[2],10)<<16|parseInt(t[3],10)<<8|parseInt(t[4],10)).toString(16),t[1]+"000000".substr(0,6-n.length)+n;if(void 0===i)for(o in i={},0,r.wL)r.wL.hasOwnProperty(o)&&(i[o.toUpperCase()]=r.wL[o],1);return i[e.toUpperCase()]}function y(e){var t;if(e=g(e),void 0===o)for(t in o={},0,r.wL)r.wL.hasOwnProperty(t)&&(o[r.wL[t]]=t,1);return o[e]}function v(e){return"#"===e.substr(0,1)&&7===e.length?parseInt(e.substr(1,2),16):null}function T(e){return"#"===e.substr(0,1)&&7===e.length?parseInt(e.substr(3,2),16):null}function w(e){return"#"===e.substr(0,1)&&7===e.length?parseInt(e.substr(5,2),16):null}function b(e,t){var n;return e=g(e),n=(Math.ceil((v(e)-255*(1-t))/t)<<16|Math.ceil((T(e)-255*(1-t))/t)<<8|Math.ceil((w(e)-255*(1-t))/t)).toString(16),"#"+"000000".substr(0,6-n.length)+n}var k={};function C(e,t,n){var i=t,o=e+","+t+","+n;return k.hasOwnProperty(o)?i=k[o]:(O(t,e)<O(n,e)&&(i=n),k[o]=i),i}function O(e,t){var n=g(e),i=g(t),o=.2126*Math.pow(v(n)/255,2.2)+.7152*Math.pow(v(n)/255,2.2)+.0722*Math.pow(v(n)/255,2.2),r=.2126*Math.pow(v(i)/255,2.2)+.7152*Math.pow(v(i)/255,2.2)+.0722*Math.pow(v(i)/255,2.2);return o>r?(o+.05)/(r+.05):(r+.05)/(o+.05)}var P=n(3558);function x(e,t,n,i){for(var o=t.getElementsByTagName("*"),r=0;r<o.length;r+=1){var a=o[r];a.name==n&&i.call(e,a)}}function S(e){var t=e.getBoundingClientRect(),n=t.top+document.body.scrollTop,i=t.left+document.body.scrollLeft;return new P.Z(-i+Math.floor(i),-n+Math.floor(n))}function L(e){var t=e.getBoundingClientRect(),n=e.ownerDocument.documentElement;return{top:t.top+window.pageYOffset-n.clientTop,left:t.left+window.pageXOffset-n.clientLeft}}function I(e,t){var n=e.className;if(null!=n&&"string"==typeof n)for(var i=n.split(" "),o=0;o<i.length;o+=1)if(i[o]==t)return!0;return!1}function A(e){void 0!==e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble?e.cancelBubble=!0:void 0!==e.preventDefault&&e.preventDefault()}function M(e){var t=window.getComputedStyle(e);return new P.Z(parseInt(t.width,10),parseInt(t.height,10))}var z={};"undefined"!=typeof document&&function(e,t){var n={accesskey:"accessKey",bgcolor:"bgColor",cellpadding:"cellPadding",cellspacing:"cellSpacing",checked:"defaultChecked",class:"className",colspan:"colSpan",contenteditable:"contentEditable",defaultchecked:"defaultChecked",for:"htmlFor",formnovalidate:"formNoValidate",hidefocus:"hideFocus",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",readonly:"readOnly",rowspan:"rowSpan",spellcheck:"spellCheck",tabindex:"tabIndex",usemap:"useMap",willvalidate:"willValidate"},i={enctype:"encoding",onscroll:"DOMMouseScroll"},o={autocapitalize:1,autocomplete:1,autocorrect:1},r={async:1,autofocus:1,checked:1,defaultchecked:1,defer:1,disabled:1,formnovalidate:1,hidden:1,indeterminate:1,ismap:1,multiple:1,novalidate:1,readonly:1,required:1,spellcheck:1,willvalidate:1},a=/^[\r\n]+/,l=/[\r\n]+$/;function s(e){this.value=e}s.prototype.toString=function(){return this.value},e.raw=function(e){return new s(e)};var u=e.isRaw=function(e){return e instanceof s},h=Array.isArray||function(e){return e instanceof Array};function c(e){return"function"==typeof e}function d(e){switch(typeof e){case"object":return e?h(e)?2:u(e)?5:e instanceof Date?4:3:0;case"function":return 1;case"undefined":return 0;default:return 4}}var f=function(e){if(e){if("!"===e.charAt(0))return t.createComment("!"===e?"":e.substr(1)+" ")}else{if(t.createDocumentFragment)return t.createDocumentFragment();e=""}return"style"===e.toLowerCase()&&t.createStyleSheet?t.createStyleSheet():t.createElement(e)},p=function(e,t,n){switch("on"===t.substr(0,2)&&(t=t.substr(2)),typeof n){case"function":if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent&&0!==d(e[t]))e.attachEvent("on"+t,n);else{var i=e["on"+t]||e[t];e["on"+t]=e[t]=c(i)?function(e){return!1!==i.call(this,e)&&!1!==n.call(this,e)}:n}break;case"string":e["on"+t]=new Function("event",n)}},m=e.applyStyles=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);return e},g=function(e,a){if(a.name&&t.attachEvent&&!e.parentNode)try{var l=f("<"+e.tagName+' name="'+a.name+'">');e.tagName===l.tagName&&(e=l)}catch(y){}for(var s in a)if(a.hasOwnProperty(s)){var u=a[s],c=d(u);if(s)if(0===c&&(u="",c=4),"$"===(s=n[s.toLowerCase()]||s))u(e);else if("className"==s)if(h(u))for(var g=0;g<u.length;g+=1)e.className+=" "+u[g];else e.className+=" "+u;else"style"===s?0!==d(e.style.cssText)?"string"==typeof u?e.style.cssText=u:m(e,u):e.style=u:"on"===s.substr(0,2)?(p(e,s,u),(s=i[s])&&p(e,s,u)):o[s.toLowerCase()]||4===c&&"$"!==s.charAt(0)&&0===d(e[s])&&0===d(e[i[s]])?r[s.toLowerCase()]?u&&(e.setAttribute(s,s),(s=i[s])&&e.setAttribute(s,s)):(e.setAttribute(s,u),(s=i[s])&&e.setAttribute(s,u)):(e[s]=u,(s=i[s])&&(e[s]=u))}return e},y=e.appendDOM=function(e,n){if(n){var i=(e.tagName||"").toLowerCase();if(8===e.nodeType)3===n.nodeType&&(e.nodeValue+=n.nodeValue);else if("table"===i&&e.tBodies){if(!n.tagName){if(11===n.nodeType)for(;n.firstChild;)y(e,n.removeChild(n.firstChild));return}var o=n.tagName.toLowerCase();if(o&&"tbody"!==o&&"thead"!==o){var r=e.tBodies.length>0?e.tBodies[e.tBodies.length-1]:null;r||(r=f("th"===o?"thead":"tbody"),e.appendChild(r)),r.appendChild(n)}else!1!==e.canHaveChildren&&e.appendChild(n)}else if("style"===i&&t.createStyleSheet)e.cssText=n;else if(!1!==e.canHaveChildren)e.appendChild(n);else if("object"===i&&n.tagName&&"param"===n.tagName.toLowerCase()){try{e.appendChild(n)}catch(a){}try{e.object&&(e.object[n.name]=n.value)}catch(l){}}}},v=function(e){return!(!e||3!==e.nodeType||e.nodeValue&&/\S/.exec(e.nodeValue))},T=function(e,t){e&&3===e.nodeType&&t.exec(e.nodeValue)&&(e.nodeValue=e.nodeValue.replace(t,""))},w=function(e){if(e){for(;v(e.firstChild);)e.removeChild(e.firstChild);for(T(e.firstChild,a);v(e.lastChild);)e.removeChild(e.lastChild);T(e.lastChild,l)}},b=function(e){var t=f("div");if(t.innerHTML=""+e,w(t),1===t.childNodes.length)return t.firstChild;for(var n=f("");t.firstChild;)n.appendChild(t.firstChild);return n},k=function(e){return t.createTextNode("["+e+"]")};e.onerror=null;var C=e.patch=function(e,t,n){for(var i=1;i<t.length;i+=1)h(t[i])||"string"==typeof t[i]?y(e,O(t[i],n)):u(t[i])?y(e,b(t[i].value)):"object"==typeof t[i]&&null!==t[i]&&1===e.nodeType&&(e=g(e,t[i]));return e},O=e.toHTML=function(n,i){try{if(!n)return null;if("string"==typeof n)return t.createTextNode(n);if(u(n))return b(n.value);if(!h(n)||"string"!=typeof n[0])throw new SyntaxError("invalid JsonML");var o=n[0];if(!o){for(var r=f(""),a=1;a<n.length;a+=1)y(r,O(n[a],i));return w(r),1===r.childNodes.length?r.firstChild:r}if("style"===o.toLowerCase()&&t.createStyleSheet)return C(t.createStyleSheet(),n,i),null;var l=C(f(o),n,i);return w(l),l&&c(i)?i(l):l}catch(s){try{return(c(e.onerror)?e.onerror:k)(s,n,i)}catch(d){return t.createTextNode("["+d+"]")}}};e.toHTMLText=function(e,t){var n=O(e,t);if(n.outerHTML)return n.outerHTML;var i=f("div");i.appendChild(n);var o=i.innerHTML;return i.removeChild(n),o}}(z,document);var R=z;function E(e,t){switch(this.x=null,this.y=null,this.context=null,arguments.length){case 1:this.x=e.x,this.y=e.y,this.context=e.context;break;case 2:this.x=e,this.y=t}}function F(e,t,n,i){switch(this.a1=null,this.b1=null,this.a2=null,this.b2=null,arguments.length){case 1:this.a1=e.a1,this.b1=e.b1,this.a2=e.a2,this.b2=e.b2;break;case 4:this.a1=e,this.b1=t,this.a2=n,this.b2=i}}function B(e,t){switch(this.from=null,this.to=null,this.context=null,arguments.length){case 1:this.from=e.from,this.to=e.to;break;case 2:this.from=e,this.to=t}}function D(e,t,n){switch(this.from=null,this.to=null,this.context=null,arguments.length){case 1:this.from=e.from,this.to=e.to,this.context=e.context;break;case 2:this.from=e,this.to=t;break;case 3:this.from=e,this.to=t,this.context=n}}function j(e,t,n,i){switch(this.x=null,this.y=null,this.width=null,this.height=null,this.context=null,arguments.length){case 1:this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height;break;case 2:this.x=Math.min(e.x,t.x),this.y=Math.min(e.y,t.y),this.width=Math.abs(t.x-e.x),this.height=Math.abs(t.y-e.y);break;case 4:this.x=e,this.y=t,this.width=n,this.height=i}}function _(e,t,n,i){switch(this.left=0,this.top=0,this.right=0,this.bottom=0,arguments.length){case 1:null!==e&&"object"==typeof e?(this.left=e.left,this.top=e.top,this.right=e.right,this.bottom=e.bottom):(this.left=e,this.top=e,this.right=e,this.bottom=e);break;case 4:this.left=e,this.top=t,this.right=n,this.bottom=i}return this}function N(e,t,n,i){var o,r,a,l,s=null,u=n||0,h=i||e.length-1;if(e.length>0&&(s={index:u,item:l=e[u]},(o=t(l,u))>0))if(r=Math.abs(o),(o=t(l=e[h],h))>=0)s={index:h,item:l};else for(r>(o=Math.abs(o))&&(r=o,s={index:h,item:l});u+1<h;){if(0===(o=t(l=e[a=Math.round((u+h)/2)],a))){s={index:a,item:l};break}o>0?u=a:h=a,r>(o=Math.abs(o))&&(r=o,s={index:a,item:l})}return s}function H(){var e=null;function t(e,t){this.value=e,this.context=t,this.left=null,this.right=null,this.balance=0}function n(e){var t;if(2==e.balance){var n=e.right;(t=n.balance)>=0?function(e,t){i(e,t),1==e.balance?(t.balance=0,e.balance=0):(t.balance=-1,e.balance=1)}(n,e):function(e,t){var n=e.left;switch(o(n,e),i(e,t),t.balance=0,n.balance){case 1:e.balance=-1,n.balance=0;break;case 0:n.balance=0,e.balance=0;break;default:n.balance=1,e.balance=0}}(n,e)}else if(-2==e.balance){(t=e.left.balance)<=0?function(e,t){o(e,t),-1==e.balance?(t.balance=0,e.balance=0):(t.balance=1,e.balance=-1)}(e.left,e):function(e,t){var n=e.right;switch(i(n,e),o(e,t),t.balance=0,n.balance){case-1:n.balance=0,e.balance=1;break;case 0:n.balance=0,e.balance=0;break;default:n.balance=-1,e.balance=0}}(e.left,e)}return t}function i(e,t){a(e,t),t.right=e.right,e.right=e.left,e.left=t.left,t.left=e}function o(e,t){a(e,t),t.left=e.left,e.left=e.right,e.right=t.right,t.right=e}function r(t,n){var i=null!=t.right?t.right:t.left;null!=n?n.value>t.value?n.left=i:n.right=i:e=i}function a(e,t){var n=e.value;e.value=t.value,t.value=n;var i=e.context;e.context=t.context,t.context=i}function l(t,n,i){if(null!=i){for(var o=[],r=null,a=e;null!=a;)(r=a).value>=n||null==n?(o.push(r),a=r.left):a=r.right;for(;null!=(r=o.pop());){if(i.call(t,r.value,r.context))return;for(a=r.right;null!=a;)if(null!=(r=a).left)o.push(r),a=r.left;else{if(i.call(t,r.value,r.context))return;a=r.right}}}}function s(t,n,i){if(null!=i){for(var o=[],r=null,a=e;null!=a;)(r=a).value<=n||null==n?(o.push(r),a=r.right):a=r.left;for(;null!=(r=o.pop());){if(i.call(t,r.value,r.context))return;for(a=r.left;null!=a;)if(null!=(r=a).right)o.push(r),a=r.right;else{if(i.call(t,r.value,r.context))return;a=r.left}}}}function u(e){var t=[],n=0;if(null!=e)for(t.push(e);t.length>0;){for(var i=[],o=0;o<t.length;o+=1)null!=(e=t[o]).left&&i.push(e.left),null!=e.right&&i.push(e.right);t=i,n+=1}return n}return{add:function(i,o,r,a){if(null==e)e=new t(i,o);else{for(var l=[],s=null,u=e;null!=u;)if(null!=s&&l.push(s),(s=u).value==i){if(null==a)throw"Structure does not support duplicates.";a.call(r,s.context)}else u=s.value>i?s.left:s.right;l.push(s);var h=new t(i,o);for(s.value>i?s.left=h:s.right=h,s=h;null!=(u=l.pop());){if(s.value<u.value){if(u.balance<0){u.balance-=1,n(u);break}if(u.balance>0){u.balance-=1;break}u.balance-=1}else{if(u.balance>0){u.balance+=1,n(u);break}if(u.balance<0){u.balance+=1;break}u.balance+=1}s=u}}},remove:function(t){for(var i,o,a=[],l=e;null!=l;){if(l.value==t){if(null!=l.right&&null!=l.left){a.push(l);for(var s=l.right;null!=s.left;)a.push(s),s=s.left;i=s,(o=l).value=i.value,o.context=i.context,r(s,a[a.length-1]),a.push(s)}else r(l,a[a.length-1]),a.push(l);for(var u=a.length-2;u>=0;u-=1){var h=a[u];if(l=a[u+1],h.value>l.value)if(h.balance>0){if(h.balance+=1,0===n(h))break}else{if(0===h.balance){h.balance+=1;break}h.balance+=1}else if(h.balance<0){if(h.balance-=1,0===n(h))break}else{if(0===h.balance){h.balance-=1;break}h.balance-=1}}break}a.push(l),l=l.value>t?l.left:l.right}},loopForward:l,loopBackward:s,nextContext:function(e){var t=null;return l(this,e,(function(e,n){return t=n,!0})),t},previousContext:function(e){var t=null;return s(this,e,(function(e,n){return t=n,!0})),t},validate:function(){if(null!=e)for(var t=[e];t.length>0;){for(var n=[],i=0;i<t.length;i+=1){var o=t[i];if(null==o.value)return!1;if(null!=o.left&&(n.push(o.left),o.left.value>=o.value))return!1;if(null!=o.right&&(n.push(o.right),o.right.value<=o.value))return!1;if(o.balance!=u(o.right)-u(o.left))return console.log("Disbalanced node: "+o.value+" - "+JSON.stringify(e)),!1}t=n}return!0}}}function V(e,t,n){function i(e,t,n,i){this.isStart=e,this.index=t,this.x=n,this.rect=i}function o(){this.count=0,this.rectangles={},this.add=function(e){this.count+=1,this.rectangles[e]=!0},this.remove=function(e){return this.count-=1,delete this.rectangles[e],0==this.count}}function r(i,o,r,a,l){i.loopForward(this,o,(function(i,o){if(i>r)return!0;for(var s in o.rectangles)if(o.rectangles.hasOwnProperty(s)){var u=a>s?a+"-"+s:s+"-"+a;c.hasOwnProperty(u)||(c[u]=!0,n.call(e,l,t[s]))}}))}if(null!=n){for(var a=[],l=0;l<t.length;l+=1){var s=t[l];a.push(new i(1,l,s.x,s)),a.push(new i(0,l,s.right(),s))}a.sort((function(e,t){return e.x==t.x?t.isStart-e.isStart:e.x-t.x}));var u=H(),h={},c={};for(l=0;l<a.length;l+=1){var d=a[l],f=[d.rect.y,d.rect.bottom()];if(1==d.isStart){r(u,f[0],f[1],d.index,d.rect);for(var p=0,m=f.length;p<m;p+=1){var g=f[p],y=h[g];null==y&&(y=new o,h[g]=y,u.add(g,y)),y.add(d.index)}}else{for(p=0,m=f.length;p<m;p+=1)(y=h[g=f[p]]).remove(d.index)&&(delete h[g],u.remove(g));r(u,f[0],f[1],d.index,d.rect)}}}}function G(e,t){this.from=e,this.to=t}function W(e,t){var n,i,o,r,a,l,s,u,h=[],c=e.clone();e.loopTopo(this,(function(e){c.removeNode(e)})),e.loopTopoReversed(this,(function(e){c.removeNode(e)}));var d=c.clone();for(d.loop(this,(function(e){if(null!=c.node(e)){c.loopParents(this,e,(function(t){return h.push(new G(t,e)),c.removeChildRelation(t,e),c.SKIP}));var t=[];c.loopTopo(this,(function(e){t.push(e)})),c.loopTopoReversed(this,(function(e){t.push(e)}));for(var n=0;n<t.length;n+=1)c.removeNode(t[n])}})),i=0,o=h.length;i<o;i+=1)if(n=h[i],!d.removeChildRelation(n.from,n.to))throw"Relation does not exists";if(t&&d.hasLoops())throw"Failed to clean loops in family";var f=d.getGraph(this,(function(e,t){return{from:e,to:t,capacity:1,flow:0}})),p="__1000__",m="__2000__",g=h.length;for(i=0,o=h.length;i<o;i+=1)n=h[i],null==(u=f.edge(n.from,m))?f.addEdge(n.from,m,{from:n.from,to:m,capacity:1,flow:0,tos:[n.to]}):(u.capacity+=1,u.tos.push(n.to)),null==(u=f.edge(p,n.to))?f.addEdge(p,n.to,{from:p,to:n.to,capacity:1,flow:0,froms:[n.from]}):(u.capacity+=1,u.froms.push(n.from));for(var y=0,v=null;v=f.getLevelGraph(this,p,(function(e,t,n){return e==n.from?n.capacity>n.flow:n.flow>0})),v.hasNode(m);)for(;;){var T=f.dfsPath(this,p,m,(function(e,t,n){return e==n.from?n.capacity>n.flow:n.flow>0}));if(0==T.length)break;var w=1/0;for(i=0,o=T.length;i<o-1;i+=1){l=T[i],s=T[i+1];var b=0;if(0==(b=(u=f.edge(l,s)).from==l?u.capacity-u.flow:u.flow))throw"Broken flow path";w=Math.min(w,b)}for(i=0,o=T.length;i<o-1;i+=1)l=T[i],s=T[i+1],(u=f.edge(l,s)).from==l?u.flow+=w:u.flow-=w;y+=w}if(y<g){var k=f.getLevelGraph(this,p,(function(e,t,n){return e==n.from&&n.capacity>n.flow})),C=[];k.loopNodes(this,p,(function(e){f.loopNodeEdges(this,e,(function(t,n){if(n.to==t&&!k.hasNode(t)){var i=!1;f.dfsLoop(this,t,(function(e,t,n){return n.from==e&&!k.hasNode(e)}),(function(e){return e==m&&(i=!0,!0)})),i&&C.push(new G(e,t))}}))}));var O=[],P=0;for(i=0,o=C.length;i<o;i+=1){var x=C[i];if(x.from==p)for(r=0,a=(u=f.edge(x.from,x.to)).froms.length;r<a;r+=1)O.push(new G(u.froms[r],x.to)),P+=1;else if(x.to==m)for(r=0,a=(u=f.edge(x.from,x.to)).tos.length;r<a;r+=1)O.push(new G(x.from,u.tos[r])),P+=1;else O.push(x),P+=1}P==y&&(h=O)}return h}function Z(e){var t,n,i=[],o={};function r(){this.fromIndex=0,this.toIndex=0,this.items=[],this.hash={}}function a(e){this.id=e,this.parents=new r,this.children=new r,this.loopSiblings=function(e,t,n){this._loop(e,this.parents.hash.hasOwnProperty(t)?this.parents.items:this.children.items,n)},this.loopNonSiblings=function(e,t,n){this._loop(e,this.parents.hash.hasOwnProperty(t)?this.children.items:this.parents.items,n)},this.loop=function(e,t){this._loop(e,this.parents.items,t),this._loop(e,this.children.items,t)},this._loop=function(e,t,n){if(null!=n)for(var i=0,o=t.length;i<o;i+=1){var r=t[i];n.call(e,r)}},this.addParent=function(e){this._add(e,this.parents)},this.addChild=function(e){this._add(e,this.children)},this._add=function(e,t){t.hash.hasOwnProperty(e)||(t.items.push(e),t.hash[e]=!0)}}t=0,e.loop(this,(function(n,r){var l=e.countChildren(n);if(l>0&&!o.hasOwnProperty(n)){var s=new a(t);t+=1,s.addParent(n),e.loopChildren(this,n,(function(t,n){return s.addChild(t),1==l&&e.loopParents(this,t,(function(t){return s.addParent(t),o[t]=s,e.SKIP})),e.SKIP})),i.push(s),o[n]=s}}));var l={};for(t=0,n=i.length;t<n;t+=1){var s=i[t];s.loop(this,(function(e){l.hasOwnProperty(e)?l[e].push(s):l[e]=[s]}))}return l}function q(e){for(var t=[],n=e.length,i=0,o=0;o<n;o+=1)i+=e[o],t[o]=i;function r(n,i){var o=0,r=(t[i]-t[n]+e[n])/(i-n+1),a=N(e,(function(e){return r-e}),n,i);return a.item<=r?(o+=r*(a.index+1-n)-(t[a.index]-t[n]+e[n]),o+=t[i]-t[a.index]-r*(i-a.index)):(o+=r*(a.index-n)-(t[a.index]-t[n]-e[a.index]+e[n]),o+=t[i]-t[a.index]+e[a.index]-r*(i-a.index+1)),o}function a(e,t){var i=0;return i+=r(0,e),t>e+1&&(i+=r(e+1,t-1)),i+=r(t,n-1)}for(var l=0,s=n-1,u=a(l,s);l<s+1;){var h=a(l+1,s),c=a(l,s-1);if(h<c){if(h>=u)break;l+=1,u=h}else{if(c>=u)break;s-=1,u=c}}return[l,s-1,n-1]}function K(){var e={},t={},n={},i=null,o=null;function r(r,a){if(e.hasOwnProperty(r))throw"Duplicate segments are not supported!";e[r]=a,t[r]=null,null==o?(i=r,n[r]=null):(t[o]=r,n[r]=o),o=r}function a(r,a){if(e.hasOwnProperty(r))throw"Duplicate segments are not supported!";e[r]=a,n[r]=null,null==i?(o=r,t[r]=null):(n[i]=r,t[r]=i),i=r}function l(i,o,l){if(e.hasOwnProperty(o))throw"Duplicate segments are not supported!";if(null==i)a(o,l);else{var s=t[i];null==s?r(o,l):(e[o]=l,t[i]=o,t[o]=s,n[s]=o,n[o]=i)}}function s(r,a,l,s){var u,h=l;if(null==h&&(h=r?i:o),null!=a)for(;null!=h;){if(null!=(u=e[h])&&a(u,h))return;h=h==s?null:r?t[h]:n[h]}}function u(e,t,n){s(!0,e,t,n)}return{add:r,item:function(t){return e[t]},nextKey:function(e){return t[e]},prevKey:function(e){return n[e]},startKey:function(){return i},endKey:function(){return o},unshift:a,insertAfter:l,insertBefore:function(t,i,o){if(e.hasOwnProperty(i))throw"Duplicate segments are not supported!";if(null==t||!e.hasOwnProperty(t))throw"Before key should be defined!";var r=n[t];null==r?a(i,o):l(r,i,o)},remove:function(r){var a=n[r],l=t[r];null!=a?t[a]=l:i=l,null!=l?n[l]=a:o=a,delete e[r],delete t[r],delete n[r]},isEmpty:function(){return null==i},attach:function(e){e.iterate((function(e,t){r(t,e)}))},iterate:u,iterateBack:function(e,t,n){s(!1,e,t,n)},empty:function(){e={},t={},n={},i=null,o=null},toArray:function(){var e=[];return u((function(t){e.push(t)})),e},validate:function(r){var a,l,s;for(a in e)if(e.hasOwnProperty(a)&&(!t.hasOwnProperty(a)||!n.hasOwnProperty(a)))return null!=r&&(r.message="Orphant key found!"),!1;if(!e.hasOwnProperty(i)||!e.hasOwnProperty(o))return null!=r&&(r.message="Start or end values are missing!"),!1;for(a in t)if(t.hasOwnProperty(a)){if(!e.hasOwnProperty(a)||!n.hasOwnProperty(a))return null!=r&&(r.message="Orphant key found!"),!1;if((s=t[a])&&!t.hasOwnProperty(s))return null!=r&&(r.message="Next key not found!"),!1}for(a in n)if(n.hasOwnProperty(a)){if(!e.hasOwnProperty(a)||!t.hasOwnProperty(a))return null!=r&&(r.message="Orphant key found!"),!1;if((l=n[a])&&!n.hasOwnProperty(l))return null!=r&&(r.message="Prev key not found!"),!1}return!0}}}function X(e,t,n){var i,o,r,a,l;t.sort((function(e,t){return e.x==t.x?e.y-t.y:e.x-t.x}));var s=[],u={};for(i=0,o=t.length;i<o;i+=1)for(var h=t[i],c=[h.x,h.right()],d=0;d<c.length;d+=1){var f=c[d];null==(l=u[f])&&(l={x:f,add:[],remove:[]},u[f]=l,s.push(l)),f==h.x?l.add.push(i):l.remove.push(i)}function p(e,t){this.start=e,this.startHead=null,this.end=t,this.endHead=null,this.overlap=function(e){return!(this.end<e.start||this.start>e.end)}}function m(e,t){this.x=e,this.ranges=t}s.sort((function(e,t){return e.x-t.x}));var g={},y=[];for(y.push(new m(null,[])),i=0,o=s.length;i<o;i+=1){for(r=0,a=(l=s[i]).add.length;r<a;r+=1)g[l.add[r]]=!0;for(r=0,a=l.remove.length;r<a;r+=1)delete g[l.remove[r]];var v=[];for(var T in g)g.hasOwnProperty(T)&&v.push(t[T]);v.sort((function(e,t){return e.y-t.y}));var w=[],b=null,k=null;for(r=0,a=v.length;r<a;r+=1){var C=v[r];null==b?(b=C.y,k=C.bottom()):k<C.y?(w.push(new p(b,k)),b=C.y,k=C.bottom()):k=Math.max(k,C.bottom())}null!=b&&w.push(new p(b,k)),y.push(new m(l.x,w))}var O=[],P={},x=1;function S(e,t){this.isHead=e,this.list=t,P.hasOwnProperty(t)||(P[t]=[]),P[t].push(this),this.add=function(e){e.from.equalTo(e.to)||(this.isHead?(O[this.list].add(x,e),x+=1):(O[this.list].unshift(x,e),x+=1))},this.getTail=function(){return new S(!this.isHead,this.list)},this.attach=function(e){if(this.list!=e.list){O[this.list].attach(O[e.list]);var t=P[e.list];if(delete P[e.list],null!=t)for(var n=0,i=t.length;n<i;n+=1){var o=t[n];o!=e&&(o.list=this.list,P[this.list].push(o))}}}}function L(e){return O.push(new K),new S(e,O.length-1)}for(i=1,o=y.length;i<o;i+=1)for(var I=y[i-1],A=y[i],M=0,z=0;M<I.ranges.length||z<A.ranges.length;){var R=M<I.ranges.length?I.ranges[M]:null,F=z<A.ranges.length?A.ranges[z]:null;if(null!=F)if(null!=R)if(F.overlap(R)){for(s=[new E(I.x,R.start),new E(A.x,R.start),new E(A.x,F.start)],V=1;V<s.length;V+=1)R.startHead.add(new B(s[V],s[V-1]));F.startHead=R.startHead;for(var D=!0;D;)if(D=!1,R.end>F.end){var j=z+1<A.ranges.length?A.ranges[z+1]:null;if(null!=j&&j.overlap(R)){var _=new E(A.x,j.start),N=new E(A.x,F.end);F.endHead=L(!0),F.endHead.add(new B(_,N)),j.startHead=F.endHead.getTail(),z+=1,F=j,D=!0}}else{var H=M+1<I.ranges.length?I.ranges[M+1]:null;if(null!=H&&H.overlap(F)){for(s=[new E(I.x,R.end),new E(A.x,R.end),new E(A.x,H.start),new E(I.x,H.start)],V=1;V<s.length;V+=1)R.endHead.add(new B(s[V-1],s[V]));R.endHead.attach(H.startHead),M+=1,R=H,D=!0}}for(s=[new E(I.x,R.end),new E(A.x,R.end),new E(A.x,F.end)],V=1;V<s.length;V+=1)R.endHead.add(new B(s[V-1],s[V]));F.endHead=R.endHead,M+=1,z+=1}else{if(R.start<F.start){for(s=[new E(I.x,R.end),new E(A.x,R.end),new E(A.x,R.start),new E(I.x,R.start)],V=1;V<s.length;V+=1)R.endHead.add(new B(s[V-1],s[V]));R.endHead.attach(R.startHead),M+=1;continue}F.endHead=L(!0),F.endHead.add(new B(new E(A.x,F.start),new E(A.x,F.end))),F.startHead=F.endHead.getTail(),z+=1}else F.endHead=L(!0),F.endHead.add(new B(new E(A.x,F.start),new E(A.x,F.end))),F.startHead=F.endHead.getTail(),z+=1;else{s=[new E(I.x,R.end),new E(A.x,R.end),new E(A.x,R.start),new E(I.x,R.start)];for(var V=1;V<s.length;V+=1)R.endHead.add(new B(s[V-1],s[V]));R.endHead.attach(R.startHead),M+=1}}if(null!=n)for(i=0;i<O.length;i+=1)if(P.hasOwnProperty(i)){var G=O[i];s=[],G.iterate((function(e,t){0==s.length?(s.push(e.from),s.push(e.to)):s.push(e.to)})),n.call(e,s)}}function Y(e,t,n){var i=null,o=null;if(null!=n){t.sort((function(e,t){return e.y-t.y}));for(var r=0;r<t.length;r+=1){var a=t[r],l=a.bottom();null===i?(i=a.y,o=l):a.y>=o?(n.call(e,i),i=a.y,o=l):(a.y>i&&(i=a.y),l<o&&(o=l))}null!==i&&n.call(e,i)}}function U(e,t,n){var i,o,r,a,l,s,u,h,c,d,f,p,m,g=null;if(0===e.length)g=[];else{for(i=[],a=0;a<e.length;a+=1){for(o=e[a],r=[],u=i.length,h=o.length,l=0,s=0,c=null,f=null,d=null,p=null,u>0&&(c=i[l],f=t?t(c):c),h>0&&(d=o[s],p=t?t(d):d),m=null;l<u||s<h;)l>=u?(n&&m==d||(r.push(d),m=d),(s+=1)<h&&(d=o[s],p=t?t(d):d)):s>=h||f<p?(n&&m==c||(r.push(c),m=c),(l+=1)<u&&(c=i[l],f=t?t(c):c)):(n&&m==d||(r.push(d),m=d),(s+=1)<h&&(d=o[s],p=t?t(d):d));i=r}g=i}return g}function J(e,t,n){this.value=e,this.index=t,this.isStart=n}function Q(e,t,n){for(var i=[],o=0;o<t.length;o+=1){var r=t[o];i.push(new J(r.from,o,!0)),i.push(new J(r.to,o,!1))}i.sort((function(e,t){return e.value===t.value?t.isStart-e.isStart:e.value-t.value}));for(var a=0,l=null,s=null,u=(o=0,i.length);o<u;o+=1){var h=i[o];null==l&&(l=new D(t[h.index])),l.to=h.value,h.isStart?(a++,(null===s||s>h.index)&&(s=h.index,l.context=t[h.index].context)):a--,a||(null!=n&&n.call(e,l),l=null,s=null)}}function $(e){var t={},n={},i={},o={},r={};function a(e,n,o){var r,a,l,s;if(null!=t[n]&&null!=(r=i[n]))for(l=0,s=r.length;l<s&&(a=r[l],!o.call(e,a,t[a],l,s-1));l+=1);}function l(e){var t=null;return null!=n[e]&&(t=n[e]),t}function s(e,t){var n,i=e.length;for(n=0;n<i;n+=1)if(e[n]==t)return e.splice(n,1),i-1;return i}function u(e){return t[e]}function f(e,n,i){if(null!=i&&t.hasOwnProperty(n)){var o=l(n);if(null!=o&&i.call(e,o,t[o]))return;a(e,o,(function(t,o){t==n||i.call(e,t,o)})),a(e,n,(function(t,n){i.call(e,t,n)}))}}return function(e){h(e)&&(t=d(e.nodes,!0),n=d(e.parents,!0),i=d(e.children,!1),o=d(e.roots,!1),r=d(e.rootChildren,!0))}(e),{loop:function(e,n){var i;if(null!=n)for(i in t)if(t.hasOwnProperty(i)&&n.call(e,i,t[i]))break},loopLevels:function(e,n,o){var a,l,s,u,h,c,d=0,f=[];switch(arguments.length){case 2:l=n;break;case 3:a=n,l=o}if(null!=l){if(null==a)for(u in r)r.hasOwnProperty(u)&&(f=f.concat(r[u]));else null!=i[a]&&(f=f.concat(i[a]));for(;f.length>0;){for(s=[],h=0,c=f.length;h<c;h+=1)switch(a=f[h],l.call(e,a,t[a],d)){case 1:s=[];break;case 2:break;default:null!=i[a]&&(s=s.concat(i[a]))}f=s,d+=1}}},loopParents:function(e,i,o,r){var a=i;if(null!=t[a]&&null!=o){if(!0===r&&o.call(e,a,t[a]))return;for(;null!=(a=n[a])&&!o.call(e,a,t[a]););}},loopChildren:a,loopChildrenRange:function(e,n,o,r,a){var l,s,u;if(null!=t[n]&&null!=(l=i[n]))if(o<r)for(o=Math.max(o,0),r=Math.min(r,l.length-1),u=o;u<=r&&(s=l[u],!a.call(e,s,t[s],u,NaN));u+=1);else for(o=Math.min(o,l.length-1),r=Math.max(0,r),u=o;u>=r&&(s=l[u],!a.call(e,s,t[s],u,NaN));u-=1);},loopChildrenReversed:function(e,n,o){var r,a,l,s;if(null!=t[n]&&(s=(r=i[n]).length-1,null!=r))for(l=s;l>=0&&(a=r[l],!o.call(e,a,t[a],l,s));l-=1);},loopPostOrder:function(e,o){var a,l,s,u,h,c=[];if(null!=o){for(l in r)r.hasOwnProperty(l)&&(c=c.concat(r[l]));for(;c.length>0;)if((a=c[c.length-1])!=u&&null!=(h=i[a]))for(s=h.length-1;s>=0;s-=1)c.push(h[s]);else if(c.pop(),u=n[a],o.call(e,a,t[a],u,t[u]))break}},loopPreOrder:function(e,o,a){var l,s,h,c,d,f,p,m,g=[];switch(arguments.length){case 2:m=o;break;case 3:p=o,m=a}if(null!=m){if(u(p))g.push(p);else for(s in r)r.hasOwnProperty(s)&&(g=g.concat(r[s]));for(;g.length>0&&((l=g[g.length-1])==d||(c=n[l],!m.call(e,l,t[l],c,t[c])));)if(l!=d&&null!=(f=i[l]))for(h=f.length-1;h>=0;h-=1)g.push(f[h]);else g.pop(),d=n[l]}},loopEulerWalk:function(e,o){var a,l,s,u,h,c,d=[],f=[],p=0;if(null!=o){for(l in r)if(r.hasOwnProperty(l))for(s=0,u=(c=r[l]).length;s<u;s+=1)d.push(c[s]),f.push(0);for(;d.length>0&&(a=d[s=d.length-1],p=f[s],!o.call(e,a,t[a],p));)if(a!=h&&null!=(c=i[a]))for(s=c.length-1;s>=0;s-=1)d.push(c[s]),f.push(p+1),s>0&&(d.push(a),f.push(p));else d.pop(),f.pop(),h=n[a]}},loopNeighbours:function(e,n,i,o){var r,a={},l=[n],s=0;if(null!=o&&t.hasOwnProperty(n))for(a[n]=!0;l.length>0;){r=[];for(var u=0,h=l.length;u<h;u+=1){var c=l[u];if(s>0&&o.call(e,c,t[c],s))return;s<i&&f(this,c,(function(e,t){a.hasOwnProperty(e)||(r.push(e),a[e]=!0)}))}l=r,s+=1}},zipUp:function(e,t,i,o){var r,a;if(null!=o)for(;null!=t&&null!=i&&t!=i&&(r=n[t],a=n[i],!o.call(e,t,r,i,a));)t=r,i=a},parentid:l,parent:function(e){var i=null;return null!=n[e]&&(i=t[n[e]]),i},adopt:function(e,a){if(null==t[e]||null==t[a])throw"Both parent and child should be in hierarchy!";if(e==a)throw"Item cannot be parent of itself!";o.hasOwnProperty(a)&&(s(r[o[a]],a)||delete r[o[a]],delete o[a]),n.hasOwnProperty(a)&&(s(i[n[a]],a)||delete i[n[a]]),n[a]=e,null!=i[e]?i[e].push(a):i[e]=[a]},moveChildren:function(e,o){null!=t[e]&&null!=t[o]&&e!=o&&null!=i[e]&&(a(this,e,(function(e,t,i){n[e]=o})),null!=i[o]?i[o]=i[o].concat(i[e]):i[o]=i[e],delete i[e])},node:u,add:function(e,a,l,s){var u,h,c,d;if(null!=t[a])throw"Node already exists";if(null!=a&&null!=l&&null==t[a]&&(null!=t[e]?(n[a]=e,null!=i[e]?null==s?i[e].push(a):i[e].splice(s,0,a):i[e]=[a]):(o[a]=e,null!=r[e]?null==s?r[e].push(a):r[e].splice(s,0,a):r[e]=[a]),t[a]=l,null!=r[a]))for(i[a]=r[a],delete r[a],u=0,h=(c=i[a]).length;u<h;u+=1)d=c[u],delete o[d],n[d]=a},insert:function(e,o,r){null!=t[e]&&null!=o&&null==t[o]&&null!=r&&(t[o]=r,null!=i[e]&&(i[o]=i[e]),i[e]=[o],a(this,o,(function(e,t,i){n[e]=o})),n[o]=e)},hasNodes:function(){return!c(r)},hasChildren:function(e){return null!=i[e]},countChildren:function(e){return null!=i[e]?i[e].length:0},countSiblings:function(e){var t=l(e);return null!=t?i[t].length:0},indexOf:function(e){var t=l(e);return null!=t?i[t].findIndex((function(t){return t===e})):null},getChild:function(e,n){var o,r=null;return null!=(o=i[e])&&(r=t[o[n]]),r},arrangeChildren:function(e,o){var r,a,l;if(o=o.slice(0),null!=t[e])if(null!=i[e]){if(i[e].length!=o.length)throw"Collections of children don't match each other!";for(a=0,l=o.length;a<l;a+=1)if(r=o[a],n[r]!=e)throw"Child "+r+" does not belong to given node!";i[e]=o}else if(o.length>0)throw"Collections of children don't match each other!"},validate:function(){var e,t=!0;for(e in o)if(o.hasOwnProperty(e)&&null!=o[e]){t=!1;break}return t},clone:function(){return $({nodes:t,parents:n,children:i,roots:o,rootChildren:r})},BREAK:1,SKIP:2}}function ee(e){this.key=e.key,this.priority=e.priority,this.item=e.item}function te(e){var t=null,n={};function i(e,t,n){this.key=e,this.priority=t,this.item=n,this.degree=0,this.marked=!1,this.parent=null,this.child=null,this.left=null,this.right=null}function o(e,t){var i=n[e.right];t.right=e.right,t.left=e.key,e.right=t.key,i.left=t.key}function r(e){var t=n[e.left],i=n[e.right];t.right=i.key,i.left=t.key,e.right=e.key,e.left=e.key}function a(){var e=null;return null!=t&&(e=new ee(n[t])),e}function l(){var e=a();if(null!=e){var i=n[t],o=n[i.right];if(null!=i.child){var l=n[i.child],u=n[l.left];i.right=l.key,o.left=u.key,l.left=i.key,u.right=o.key,r(i),delete n[i.key],t=null,s(l.key)}else r(i),delete n[i.key],t=null,o.key!=i.key&&s(o.key);1}return e}function s(i){for(var o,r=[],a={},l=i;!a.hasOwnProperty(l);){var s=n[l],h=s.right;for(a[l]=!0,s.parent=null;null!=(o=r[s.degree]);)(e?s.priority>o.priority:s.priority<o.priority)?u(s,o):(u(o,s),s=o),r[s.degree-1]=null;r[s.degree]=s,(null==t||null==n[t]||(e?n[t].priority<=s.priority:n[t].priority>=s.priority))&&(t=s.key),l=h}}function u(t,i){t.degree+=1,r(i);var a=n[t.child];null!=a?(o(a,i),(e?a.priority<i.priority:a.priority>i.priority)&&(t.child=i.key)):t.child=i.key,i.parent=t.key}function h(i,o){var r=n[i];if(e?r.priority>o:r.priority<o)throw"Priority increase is not supported";if(r.priority=o,null!=r.parent){var a=n[r.parent];(e?a.priority<r.priority:a.priority>r.priority)&&(c(a,r),d(a))}(e?n[t].priority<r.priority:n[t].priority>r.priority)&&(t=r.key)}function c(e,i){i.marked=!1,i.parent=null,i.right==i.key?e.child=null:(e.child=i.right,r(i)),e.degree-=1,o(n[t],i)}function d(e){if(null!=e.parent)if(e.marked){var t=n[e.parent];c(t,e),d(t)}else e.marked=!0}return{add:function(r,a,l){if(n.hasOwnProperty(r))throw"Duplicate keys are not supported!";var s=new i(r,a,l);if(n[r]=s,null==t)s.left=r,s.right=r,t=r;else{var u=n[t];o(u,s),(e?u.priority<s.priority:u.priority>s.priority)&&(t=r)}1},getPriority:function(e){var t=null;return n.hasOwnProperty(e)&&(t=n[e].priority),t},setPriority:h,heapRoot:a,extractRoot:l,deleteKey:function(t){h(t,e?1/0:-1),l()},validate:function(){var e=0;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];if(e+=1,null!=o.child){if(!n.hasOwnProperty(o.child))throw"Child does not exists";var r=n[o.child];if(r.parent!=o.key)throw"Child references wrong parent"}if(null!=o.parent&&!n.hasOwnProperty(o.parent))throw"Parent does not exists";if(null!=o.left){if(!n.hasOwnProperty(o.left))throw"Left does not exists";if((r=n[o.left]).right!=o.key)throw"Left references wrong right"}if(null!=o.right){if(!n.hasOwnProperty(o.right))throw"Right does not exists";if((r=n[o.right]).left!=o.key)throw"Right references wrong left"}}if(null==t&&e>0)throw"Orphans";if(null!=t){if(!n.hasOwnProperty(t))throw"Root node does not exists";if(null!=(o=n[t]).parent)throw"Root node has parent reference";for(var a=[t],l={},s=0;a.length>0;){for(var u=[],h=0,c=a.length;h<c;h+=1)for(var d=n[a[h]];!l.hasOwnProperty(d.key);)l[d.key]=!0,s+=1,null!=d.child&&u.push(d.child),d=n[d.right];a=u}if(e!=s)throw"Tree has loops or orpants"}}}}function ne(){var e={};function t(t,n,i,o){var r,a,l,s,u,h,c=[];if(c.push(n),i[n]=!0,null!=o)for(;c.length>0;){for(a=[],l=0,s=c.length;l<s;l+=1){if(r=c[l],o.call(t,r))return;for(h in u=e[r])u.hasOwnProperty(h)&&!i.hasOwnProperty(h)&&(i[h]=!0,a.push(h))}c=a}}function n(t,n){var i,o,r,a=null,l=0,s=null;for(i in e)if(e.hasOwnProperty(i)){for(r in l=0,o=e[i])o.hasOwnProperty(r)&&(l+=n.call(t,o[r],i,r));(l>s||null==s)&&(a=i,s=l)}return a}function i(t,i,o,r,a){var l,s,u,h,c,d,f,p,m,g,y={},v=[],T={},w=0;if(null!=o&&null!=r&&(null==i&&(i=n(t,o)),null!=i))for(r.call(t,i),y[i]=!0,w+=1,T[i]=null;w>0;){for(l in v=[],u=null,h=null,c={},y)if(y.hasOwnProperty(l)){for(f in s=!1,d=e[l])if(d.hasOwnProperty(f)&&!T.hasOwnProperty(f))switch(p=o.call(t,d[f],l,f),s=!0,a){case 1:null==c[f]&&(c[f]=0),c[f]+=p,(!h||c[f]>h)&&(u=f,h=c[f]);break;case 2:null==c[f]?c[f]=p:c[f]=Math.min(c[f],p),(!h||c[f]<h)&&(u=f,h=c[f])}s||v.push(l)}if(null==u)break;for(y[u]=!0,w+=1,T[u]=!0,r.call(t,u),m=0,g=v.length;m<g;m+=1)delete y[v[m]],w-=1}}return{addEdge:function(t,n,i){null!=e[t]&&null!=e[t][n]||null==i||(null==e[t]&&(e[t]={}),e[t][n]=i,null==e[n]&&(e[n]={}),e[n][t]=i)},edge:function(t,n){var i=null;return null!=e[t]&&e[t][n]&&(i=e[t][n]),i},hasNode:function(t){return e.hasOwnProperty(t)},loopNodes:function(n,i,o){var r={};if(null==i)for(i in e)e.hasOwnProperty(i)&&(r.hasOwnProperty[i]||t(n,i,r,o));else t(n,i,r,o)},loopNodeEdges:function(t,n,i){var o,r;if(null!=i&&null!=(o=e[n]))for(r in o)o.hasOwnProperty(r)&&i.call(t,r,o[r])},getSpanningTree:function(t,n){var i,o,r,a,l,s=$(),u=te(!0),h={};for(u.add(t,0,null),h[t]=null;null!=(i=u.extractRoot());){for(r in o=e[i.key])o.hasOwnProperty(r)&&!s.node(r)&&(a=null!=n?n(o[r]):o[r],null==(l=u.getPriority(r))?(u.add(r,a,null),h[r]=i.key.toString()):l<=a&&(u.setPriority(r,a),h[r]=i.key.toString()));s.add(h[i.key],i.key.toString(),{})}return s},getTotalWeightGrowthSequence:function(e,t,o){i(e,n(e,t),t,o,1)},getMinimumWeightGrowthSequence:function(e,t,n,o){i(e,t,n,o,2)},getShortestPath:function(t,n,i,o,r){var a,l,s,u,h,c,d,f,p,m=te(!1),g={},y={},v={},T=0,w=0;for(f=0,p=i.length;f<p;f+=1)l=i[f],v.hasOwnProperty(l)||(T+=1,v[l]=!0);for(m.add(n,0,null),y[n]=null;null!=(a=m.extractRoot());){for(l in s=e[a.key])s.hasOwnProperty(l)&&(h=1,null!=o?(h=o.call(t,s[l],a,l),u=a.priority+h):u=a.priority+1,h>=0&&(null!=(g=m.getPriority(l))?g>u&&(m.setPriority(l,u),y[l]=a.key):y.hasOwnProperty(l)||(m.add(l,u,null),y[l]=a.key)));if(v.hasOwnProperty(a.key)){for(c=[],d=a.key;null!=d;)c.push(d),d=y[d];if(r.call(t,c,a.key),(w+=1)>=T)break}}},dfsPath:function(t,n,i,o){var r=[],a={};if(r.push(n),a[n]=null,n!=i)for(;r.length>0&&!a.hasOwnProperty(i);){var l=r[r.length-1];r.length-=1;var s=e[l];for(var u in s)if(s.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&o.call(t,l,u,s[u])&&(r.push(u),a[u]=l,u==i))break}l=i;for(var h=[];a.hasOwnProperty(l);)h.push(l),l=a[l];var c=[];if(h.length>0)for(var d=h.length-1;d>=0;d-=1)c.push(h[d]);return c},getLevelGraph:function(t,n,i){var o,r,a,l={},s=[];for(s.push(n),l[n]=1;s.length>0;){for(var u=[],h=0,c=s.length;h<c;h+=1)for(var d in r=l[o=s[h]],a=e[o])a.hasOwnProperty(d)&&(l.hasOwnProperty(d)||i.call(t,o,d,a[d])&&(u.push(d),l[d]=r+1));s=u}var f=ne();for(o in e)if(l.hasOwnProperty(o))for(d in r=l[o],a=e[o]){if(l.hasOwnProperty(d))r+1==l[d]&&f.addEdge(o,d,a[d])}return f},dfsLoop:function(t,n,i,o){var r,a=[],l={};for(a.push(n),l[n]=!0;a.length>0;){r=a[a.length-1],a.length-=1;var s=e[r];for(var u in s)if(s.hasOwnProperty(u)&&!l.hasOwnProperty(u)&&i.call(t,r,u,s[u])&&(a.push(u),l[u]=!0,o.call(t,u)))return}}}}function ie(e,t){this.id=e,this.node=t}function oe(e){var t={},n={},i={},o={},r={},a={},l={};function s(e,t,n,i){var o,r;if(null!=i&&null!=(r=t[n]))for(o in r)if(r.hasOwnProperty(o)&&i.call(e,o,r[o]))break}function u(e,l){var s=!1;return null!=i[e]&&null!=i[e][l]&&(delete i[e][l],o[e]-=1,delete r[l][e],a[l]-=1,o[e]||(delete i[e],delete o[e]),r[l]||(delete r[l],delete a[l],null==t.null&&(t.null={},n.null=0),t.null[l]=!0,n.null+=1),s=!0),s}function f(e,t){var n;if(null!=t)for(n in l)if(l.hasOwnProperty(n)&&t.call(e,n,l[n]))break}function p(e,t,n,i){for(var o,r,a={},u=0,h=!0;h;){for(r in o={},h=!1,n)if(n.hasOwnProperty(r)&&!a[r])switch(a[r]=!0,i.call(e,r,l[r],u)){case 1:o={},h=!1;break;case 2:break;default:s(this,t,r,(function(e){a[e]||(o[e]=!0,h=!0)}))}n=o,u+=1}}function m(e,t,n){null!=n&&null!=t&&null!=l[t]&&null!=i[t]&&p(e,i,i[t],n)}function g(e,t,n){null!=n&&null!=t&&null!=l[t]&&null!=r[t]&&p(e,r,r[t],n)}function y(e,t,n,i,o,r){var a,u,h,c,d,f,p;if(null!=r){for(h in d=[],c={},l)l.hasOwnProperty(h)&&(c[h]=n[h]||0,c[h]||d.push(h));for(p=0;d.length>0;){for(f=[],a=0,u=d.length;a<u;a+=1){if(h=d[a],r.call(e,h,l[h],p)){f=[];break}p+=1,s(this,i,h,(function(e){c[e]-=1,0===c[e]&&f.push(e)}))}d=f}}}function v(e,t){y(e,0,a,i,0,t)}function T(e,t){y(e,0,o,r,0,t)}function w(e,t,n,i,o,r,a,s,u){var h,c,d,f=!1;if(null!=l[e]&&null!=a[e]){if(f=!0,u)for(h=0,c=t.length;h<c;h+=1)d=t[h],null!=l[d]&&null!=a[e][d]||(f=!1);if(f&&(null!=i&&(l[n]=i),null!=l[n]))for(o[n]||(o[n]={},r[n]=0),a[n]||(a[n]={},s[n]=0),o[n][e]||(o[n][e]=!0,r[n]+=1),a[e][n]||(a[e][n]=!0,s[e]+=1),h=0,c=t.length;h<c;h+=1)n!=(d=t[h])&&(null!=a[e][d]&&(delete a[e][d],s[e]-=1),null!=o[d][e]&&(delete o[d][e],r[d]-=1),o[d][n]||(o[d][n]=!0,r[d]+=1),a[n][d]||(a[n][d]=!0,s[n]+=1))}return f}function b(e,t,n,l){return w(e,t,n,l,r,a,i,o,!0)}function k(){this.id="",this.key="",this.children=[],this.childrenHash={},this.processed=!1}function C(e){this.items=[],this.weight=0,this.difference=0,arguments.length>0&&(this.difference=e)}function O(e){var t,n,o,a,l,u,h,c,d=ne(),f={};for(t in e)e.hasOwnProperty(t)&&s(this,i,t,(function(t){if(!f.hasOwnProperty(t))for(f[t]=!0,n=[],s(this,r,t,(function(e){n.push(e)})),o=0,l=n.length;o<l-1;o+=1)if(u=n[o],e.hasOwnProperty(u))for(a=o+1;a<l;a+=1)if(h=n[a],e.hasOwnProperty(h)){c=Math.abs(e[u].children.length-e[h].children.length);var i=d.edge(u,h);null==i&&(i=new C(c),d.addEdge(u,h,i)),i.items.push(t),i.weight+=1}}));return d}function P(e,t){this.parentid=e,this.childid=t,this.key=e+","+t}function x(e,t,n){this.from=e,this.to=t,this.distance=0}function S(e){return o[e]||0}function L(e){return a[e]||0}function I(e){var t=null,n=i[e]||{};for(t in n)if(n.hasOwnProperty(t))return t;return null}function A(e){var t=null,n=r[e]||{};for(t in n)if(n.hasOwnProperty(t))return t;return null}function M(e,t){this.parents=e,this.children=t,this.nodes=[]}function z(e,t,n){for(;1===a[t];){var i=A(t);if(1!==o[i])break;n.call(e,i),t=i}}function R(e,t,n){for(;1===o[t];){var i=I(t);if(1!==a[i])break;n.call(e,i),t=i}}function E(){return oe({roots:t,rootsCount:n,children:i,childrenCount:o,parents:r,parentsCount:a,nodes:l})}return function(e){h(e)&&(t=d(e.roots,!1),n=d(e.rootsCount,!0),i=d(e.children,!1),o=d(e.childrenCount,!0),r=d(e.parents,!1),a=d(e.parentsCount,!0),l=d(e.nodes,!0))}(e),{add:function(e,u,h){var c,d,f,p={};if(e&&0!==e.length||(e=[null]),null==l[u]&&null!=h){for(l[u]=h,c=0,d=e.length;c<d;c+=1)null==p[f=e[c]]&&f!=u&&(p[f]=!0,null!=l[f]?(null==r[u]&&(r[u]={},a[u]=0),r[u][f]||(r[u][f]=!0,a[u]+=1),null==i[f]&&(i[f]={},o[f]=0),i[f][u]||(i[f][u]=!0,o[f]+=1)):(null==t[f]&&(t[f]={},n[f]=0),t[f][u]||(t[f][u]=!0,n[f]+=1)));null!=t[u]&&(i[u]=t[u],o[u]=n[u],delete t[u],delete n[u],s(this,i,u,(function(e){null==r[e]&&(r[e]={},a[e]=0),r[e][u]||(r[e][u]=!0,a[e]+=1)})))}},adopt:function(e,t){var n,s,u;if(null==l[t])throw"Child should be in hierarchy!";for(n=0,s=e.length;n<s;n+=1){if(u=e[n],null==r[t]&&(r[t]={},a[t]=0),u==t||null==l[u])throw"Item cannot be parent of itself and parent should exist in the structure!";r[t][u]||(r[t][u]=!0,a[t]+=1),null==i[u]&&(i[u]={},o[u]=0),i[u][t]||(i[u][t]=!0,o[u]+=1)}},bundleChildren:b,bundleParents:function(e,t,n,l){return w(e,t,n,l,i,o,r,a,!0)},optimizeReferences:function(e){var t,n,u,h,d,f,p={},g={},y={},v=0,T=10;if(null!=e){for(t in l)v+=1,l.hasOwnProperty(t)&&(n=new k,s(this,i,t,(function(e){n.children.push(e),n.childrenHash[e]=!0})),n.children.sort(),n.id=t,n.key=n.children.join(","),y[n.id]=n);for(T=Math.pow(10,v.toString().length);!c(y);){for(t in u={},f={},h=O(y),y)y.hasOwnProperty(t)&&(y[t].processed||(d=h.getSpanningTree(t,(function(e){return e.weight*T+T-e.difference}))).loopLevels(this,(function(t,n,s){y[t].processed=!0,d.loopChildren(this,t,(function(s,c){var d,v,T,b,C,O,P,x=h.edge(t,s),S=null;if(y[s].processed=!0,x.weight>1){if(x.items.sort(),v=x.items.join(","),p.hasOwnProperty(v))S=p[v];else{for(d=e(),l[d.id]=d,(S=new k).id=d.id,S.key=v,T=0,b=x.items.length;T<b;T+=1)P=x.items[T],S.children.push(P),S.childrenHash[P]=!0,f[P]=!0;S.children.sort(),p[S.key]=S,g[S.id]=S,u[S.id]=S,f[S.id]=S,C=S.children.slice(0),m(this,n.replacementItem||t,(function(e,t,n){return S.childrenHash[e]||null==g[e]||(O=!0,m(this,e,(function(e,t,n){return S.childrenHash[e]?f.hasOwnProperty(e)?void 0:2:(O=!1,1)})),O&&C.push(e)),2})),w(n.replacementItem||t,C,S.id,d,r,a,i,o,!1),(o[t]||0)<=1&&null==n.replacementItem&&(n.replacementItem=S.id)}S.id!=s&&(C=S.children.slice(0),m(this,c.replacementItem||s,(function(e,t,n){return null==g[e]||S.childrenHash[e]||(O=!0,m(this,e,(function(e,t,n){return S.childrenHash[e]?(f.hasOwnProperty(e),2):(O=!1,1)})),O&&C.push(e)),2})),w(c.replacementItem||s,C,S.id,null,r,a,i,o,!1),(o[s]||0)<=1&&null==c.replacementItem&&(c.replacementItem=S.id))}}))})));y=u}}},eliminateManyToMany:function(e){var t,n;for(t in i)i.hasOwnProperty(t)&&(o[t]||0)>1&&s(this,i,t,(function(i){(a[i]||0)>1&&(n=e(),b(t,[i],n.id,n))}))},groupBy:function(e,t,n,i){if(null!=n){var r={},s={};for(var u in l)if(!s.hasOwnProperty(u)&&(s[u]=!0,(a[u]||0)<=1&&(o[u]||0)<=1)){var h=[new ie(u,l[u])];z(this,u,(function(e){s[e]=!0,h.unshift({id:e,node:l[e]})})),R(this,u,(function(e){s[e]=!0,h.push(new ie(e,l[e]))}));var c=null;if(null!=i&&(c=i.call(e,h)),-1!==c){var d=[];g(this,h[0].id,(function(e,t,n){if(0!=n)return 1;d.push(e)})),d.sort();var f=[];m(this,h[h.length-1].id,(function(e,t,n){if(0!=n)return 1;f.push(e)})),f.sort();var p=d.join(",")+" * "+f.join(",");null!==c&&(p+=" * "+c),r.hasOwnProperty(p)||(r[p]=new M(d,f)),r[p].nodes.push(h)}}for(p in r)if(r.hasOwnProperty(p)){var y=r[p];if(y.nodes.length>=t&&n.call(e,y.parents,y.children,y.nodes))break}}},getPlanarFamily:function(e){var t,n,i=new oe;return e.loopLevels(this,(function(o,r){var a=new K,l={},s={},u=[];e.loopLevelItems(this,o,(function(t,n,i){if(m(this,t,(function(n,i){var o=e.getItemPosition(n),r=new P(t,n);s[r.key]=r;var u=[];a.isEmpty()?a.add(o,[r]):(a.iterateBack((function(e,n){if(n<o)return a.insertAfter(n,o,[r]),!0;if(n==o)return e.push(r),!0;for(var i=0,l=e.length;i<l;i+=1){var s=e[i];s.parentid!=t&&u.push(s)}})),a.startKey()>o&&a.unshift(o,[r])),l[r.key]=u;for(var h=0,c=u.length;h<c;h+=1)l[u[h].key].push(r);return 2})),1==S(t)){var o=I(t);if(1==L(o)){var r=new P(t,o);u.push(r.key)}}}));var h,c=[];for(var d in l){var f=(h=l[d]).length;null!=c[f]?c[f].push(d):c[f]=[d]}var p={};c.unshift(u);for(var g=0,y=c.length;g<y;g+=1){var v=c[g];if(null!=v)for(t=0,n=v.length;t<n;t+=1)if(d=v[t],!p.hasOwnProperty(d)){p[d]=!0;var T=s[d];null==i.node(T.parentid)&&i.add(null,T.parentid,{}),null==i.node(T.childid)?i.add([T.parentid],T.childid,{}):i.adopt([T.parentid],T.childid);for(var w=0,b=(h=l[d]).length;w<b;w+=1)p[h[w].key]=!0}}})),i},getFamilyWithoutGrandParentsRelations:function(){var e=new oe,t={},n=[],i=0;for(var o in r)r.hasOwnProperty(o)&&s(this,r,o,(function(e){var r=t[o];if(null==r&&(r={},t[o]=r),!r.hasOwnProperty(e)){var a=new x(o,e,i);n.push(a),t[o][e]=a}}));for(;n.length>0;){var a=[];i+=1;for(var l=0,u=n.length;l<u;l+=1){var h=n[l];o=h.to,r.hasOwnProperty(o)&&s(this,r,o,(function(e){var n=t[h.from];if(null==n&&(n={},t[h.from]=n),n.hasOwnProperty(e))n[e].distance=i;else{var r=new x(o,e,i);a.push(r),n[e]=r}}))}n=a}return f(this,(function(n,i){var o=[];s(this,r,n,(function(e){0===t[n][e].distance&&o.push(e)})),e.add(o,n,i)})),e},getGraph:function(e,t){var n,o=ne();for(n in i)i.hasOwnProperty(n)&&s(this,i,n,(function(i){var r=o.edge(n,i);null==r&&(r=null==t?new C({}):t.call(e,n,i),o.addEdge(n,i,r))}));return o},removeNode:function(e){null!=l[e]&&(s(this,i,e,(function(i){delete r[i][e],a[i]-=1,a[i]||(delete r[i],delete a[i],null==t.null&&(t.null={},n.null=0),t.null[i]||(t.null[i]=!0,n.null+=1))})),s(this,r,e,(function(t){delete i[t][e],o[t]-=1,o[t]||(delete i[t],delete o[t])})),null!=t.null&&null!=t.null[e]&&(delete t.null[e],n.null-=1,n.null||(delete t.null,delete n.null)),delete i[e],delete o[e],delete r[e],delete a[e],delete l[e])},removeRelation:function(e,t){var n=!1;return null!=l[e]&&null!=l[t]&&(n=u(e,t)||u(t,e)),n},removeChildRelation:function(e,t){var n=!1;return null!=l[e]&&null!=l[t]&&(n=u(e,t)),n},node:function(e){return l[e]},loop:f,loopLevels:function(e,t,n){var o,a,u,h,c,d,f,p,m,g,y,w,b,k,C,O,P,x,S,L,I=[],A={},M={},z=[],R={},E={},F=null,B=t?v:T;function D(){this.items={},this.minimumLevel=null}function j(e,t,n){var i=E[t];i||(i=new D,E[t]=i),i.addItemToLevel(e,n),F=null==F?n:Math.min(F,n),R[e]=n,M[e]=!0}if(D.prototype.addItemToLevel=function(e,t){var n=this.items[t];n?n.push(e):(n=[e],this.items[t]=n),this.minimumLevel=null==this.minimumLevel?t:Math.min(this.minimumLevel,t)},null!=n){for(B(this,(function(e,t,n){I.push(e),A[e]=n})),p=0,m=I.length;p<m;p+=1)if(k=I[p],null==M[k])for(z.push(k),j(k,p,0);z.length>0;){for(C=null,O=null,P=null,x=!t,S=[],g=0,y=z.length;g<y;g+=1)w=z[g],b=R[w],L=!1,t?(s(this,r,w,(function(e){var t;M[e]||(L=!0,t=A[e],(null==C||!x||C<t||C==t&&P>b-1)&&(C=t,O=e,P=b-1,x=!0))})),s(this,i,w,(function(e){var t;M[e]||(L=!0,t=A[e],(null==C||!x&&(C>t||C==t&&P<b+1))&&(C=t,O=e,P=b+1,x=!1))}))):(s(this,i,w,(function(e){var t;M[e]||(L=!0,t=A[e],(null==C||x||C<t||C==t&&P<b+1)&&(C=t,O=e,P=b+1,x=!1))})),s(this,r,w,(function(e){var t;M[e]||(L=!0,t=A[e],(null==C||x&&(C>t||C==t&&P>b-1))&&(C=t,O=e,P=b-1,x=!0))}))),L&&S.push(w);null!=O&&(S.push(O),j(O,p,P)),z=S}for(a=!0,o=F;a;){for(h in u={},a=!1,E)if(E.hasOwnProperty(h)&&null!=(d=(c=E[h]).items[c.minimumLevel-F+o]))for(u[h]=c,a=!0,p=0,m=d.length;p<m;p+=1)if(f=d[p],n.call(e,f,l[f],o-F))return a=!1,!0;E=u,o+=1}}},loopTopo:v,loopTopoReversed:T,loopChildren:m,loopParents:g,findLargestRoot:function(){var e,t,n=null,i={},o={};return e=null,T(this,(function(r,l,s){i.hasOwnProperty(r)||(i[r]={},o[r]=0),i[r][r]=!0,o[r]+=1,t=!0,g(this,l.id,(function(e,n,l){var s,u;if(t=!1,i.hasOwnProperty(e)||(i[e]={},o[e]=0),o[e]||1!=a[r])for(u in s=i[r])s.hasOwnProperty(u)&&(i[e][u]=!0,o[e]+=1);else i[e]=i[r],o[e]=o[r];return 2})),t&&(!e||o[r]>e)&&(e=o[r],n=r)})),n},loopRoots:function(e,t){var n,i,o,r,s,u,h,c,d,f,p,m=null,y=0,v={},w={},b={},k={};for(u in T(this,(function(e,t,n){v.hasOwnProperty(e)||(v[e]={},w[e]=0),v[e][e]=!0,w[e]+=1,i=!0,g(this,t.id,(function(t,n,o){var r,l;if(i=!1,v.hasOwnProperty(t)||(v[t]={},w[t]=0),w[t]||1!=a[e])for(l in r=v[e])r.hasOwnProperty(l)&&(v[t][l]||(v[t][l]=!0,w[t]+=1));else v[t]=v[e],w[t]=w[e];return 2})),i&&(b[e]=!0,y+=1)})),h={},b)if(b.hasOwnProperty(u))for(r in s=v[u])s.hasOwnProperty(r)&&(h[r]||(h[r]=[]),h[r].push(u.toString()));for(;y>0;){for(o in n=null,b)b.hasOwnProperty(o)&&(!n||w[o]<n)&&(n=w[o],m=o);if(null!=m){for(r in null!=t&&t.call(e,m,l[m]),s=v[m])if(s.hasOwnProperty(r)&&!k[r]){for(f=0,p=(c=h[r]).length;f<p;f+=1)d=c[f],w[d]-=1;k[r]=!0}delete b[m],y-=1}}},hasNodes:function(){return!c(l)},hasCommonChild:function(e){var t,n,o,u,h,c,d,f=!1;for(t={},o=0,u=0,h=e.length;u<h;u+=1)c=e[u],null==l[c]||t[c]||(t[c]=!0,o+=1);for(c in n={},t)t.hasOwnProperty(c)&&s(this,i,c,(function(e){n[e]?n[e]+=1:n[e]=1}));for(d in n)if(n.hasOwnProperty(d)&&null!=r[d]&&(a[d]||0)==n[d]&&n[d]==o){f=!0;break}return f},loopNeighbours:function(e,t,n){var i={};null!=n&&(m(this,t,(function(t,o,r){return i.hasOwnProperty(t)||(i[t]=null,n.call(e,t,o,1)&&(i[t]=2),g(this,t,(function(t,o,r){return i.hasOwnProperty(t)||(i[t]=null,n.call(e,t,o,2)&&(i[t]=2)),i[t]}))),i[t]})),g(this,t,(function(t,o,r){return i.hasOwnProperty(t)||(i[t]=null,n.call(e,t,o,1)&&(i[t]=2),m(this,t,(function(t,o,r){return i.hasOwnProperty(t)||(i[t]=!0,n.call(e,t,o,2)&&(i[t]=2)),i[t]}))),i[t]})))},countChildren:S,countParents:L,firstParent:A,firstChild:I,validate:function(e){var u,h;function c(e){var t,n=0;if(null!=e)for(t in e)e.hasOwnProperty(t)&&(n+=1);return n}for(u in f(this,(function(t,n){s(this,i,t,(function(n){if(!r.hasOwnProperty(n)||!r[n].hasOwnProperty(t))return null!=e&&(e.message="Child #"+n+" does not reference parent #"+t),!1})),s(this,r,t,(function(n){if(!i.hasOwnProperty(n)||!i[n].hasOwnProperty(t))return null!=e&&(e.message="Parent #"+n+" does not reference child #"+t),!1}))})),r)if(r.hasOwnProperty(u)){if((a[u]||0)!=c(r[u]))return null!=e&&(e.message="Parents count for item #"+u+" missmatch."),!1;if(r.hasOwnProperty(u)&&!l.hasOwnProperty(u))return null!=e&&(e.message="Orphant parents for item #"+u),!1}for(h in i)if(i.hasOwnProperty(h)){if((o[h]||0)!=c(i[h]))return null!=e&&(e.message="Children count for item "+h+" missmatch."),!1;if(i.hasOwnProperty(h)&&!l.hasOwnProperty(h))return null!=e&&(e.message="Orphant children of item "+h),!1}for(h in t)if(t.hasOwnProperty(h)){if((n[h]||0)!=c(t[h]))return null!=e&&(e.message="Root children count for item @"+h+" missmatch."),!1;s(this,t,h,(function(t){if(!l.hasOwnProperty(t))return null!=e&&(e.message="Child #"+t+"of root #"+h+" does not exists."),!1}))}return!0},hasLoops:function(){var e=E();return v(this,(function(t,n,i){e.removeNode(t)})),e.hasNodes()},clone:E,BREAK:1,SKIP:2}}function re(){function e(e,t,n,i){this.left=e,this.right=t,this.leftIndex=n,this.rightIndex=i}this.items=[],this.add=function(t,n,i,o){switch(arguments.length){case 2:this.items.push(new e(-t/2,t/2,n,n));break;case 4:this.items.push(new e(t,n,i,o))}},this.merge=function(t,n){for(var i=this.getDistanceTo(t),o=0,r=0,a=this.items.length,l=t.items.length,s=Math.min(a,l),u=Math.max(a,l),h=0;h<s;h+=1){var c=this.items[a-1-h],d=t.items[l-1-h];if(0===h){var f=c.right-c.left+(i||0)+(n||0)+d.right-d.left;o=f/2+c.left,r=f/2-d.right}c.left-=o,c.right=d.right+r,c.rightIndex=d.rightIndex,this.items[u-1-h]=c}for(h=s;h<u;h+=1)c=this.items[a-1-h],d=t.items[l-1-h],null==c?this.items[u-1-h]=new e(d.left+r,d.right+r,d.leftIndex,d.rightIndex):(c.left-=o,c.right-=o);return i},this.attach=function(t,n){for(var i=this.getDistanceTo(t),o=n||0,r=this.items.length,a=t.items.length,l=Math.min(r,a),s=Math.max(r,a),u=0;u<l;u+=1){var h=this.items[r-1-u],c=t.items[a-1-u];0===u&&(o=h.right+(i||0)+(n||0)-c.left),h.right=c.right+o,h.rightIndex=c.rightIndex,this.items[s-1-u]=h}for(u=l;u<s;u+=1)null==(h=this.items[r-1-u])&&(c=t.items[a-1-u],this.items[s-1-u]=new e(c.left+o,c.right+o,c.leftIndex,c.rightIndex));return i},this.getDistanceTo=function(e){var t=null,n=0,i=this.items.length,o=e.items.length,r=Math.min(i,o);if(r>0){for(var a=0;a<r;a+=1){var l=this.items[i-1-a],s=e.items[o-1-a];0===a?t=n=l.right-s.left:l.rightIndex<s.leftIndex&&(t=Math.max(t,l.right-s.left))}t-=n}return t},this.loop=function(e,t){if(null!=t)for(var n=0,i=this.items.length;n<i;n+=1){var o=this.items[i-1-n];if(t.call(e,n,o.left,o.right,o.leftIndex,o.rightIndex))break}},this.getLeft=function(e){var t=this.items.length-1;if(t>=e)return this.items[t-e].left}}function ae(e,t,n,i){var o,r,a={};function l(e,t){var n=e[t];return null==n&&(n=new re,e[t]=n),n}function s(e,t,n,i,o,r,l,s){var u=r,h=r;n.loopSiblings(this,t,(function(e){var t=l.getItemPosition(e);u=Math.min(u,t),h=Math.max(h,t)}));for(var c=r-1;c>=u;c-=1){var d=l.getItemAtPosition(i,c);if(!e.hasOwnProperty(d)){var f=l.getItemAtPosition(i,c+1);e[d]=e[f]-(a[d]/2+(s[f]||0)+a[f]/2)}}for(c=r+1;c<=h;c+=1)d=l.getItemAtPosition(i,c),e.hasOwnProperty(d)||(f=l.getItemAtPosition(i,c-1),e[d]=e[f]+(a[f]/2+(s[d]||0)+a[d]/2));var p=e[d=l.getItemAtPosition(i,u)]-a[d]/2;p+=e[d=l.getItemAtPosition(i,h)]+a[d]/2,p/=2,u=null,h=null,n.loopNonSiblings(this,t,(function(e){var t=l.getItemPosition(e);u=null!=u?Math.min(u,t):t,h=null!=h?Math.max(h,t):t}));var m=0;for(c=u;c<=h;c+=1){var g=l.getItemAtPosition(o,c);m+=a[g],c>u&&(m+=s[g]||0)}var y=p-m/2;for(g=l.getItemAtPosition(o,u),e.hasOwnProperty(g)||(e[g]=y+a[g]/2),c=u+1;c<=h;c+=1)g=l.getItemAtPosition(o,c),e.hasOwnProperty(g)||(f=l.getItemAtPosition(o,c-1),e[g]=e[f]+(a[f]/2+(s[g]||0)+a[g]/2))}return null!=i&&n.loopItems(this,(function(t,n,o,r,l){a[t]=i.call(e,t,n)})),r=function(e,t){var n={},i={},o=null;return t.loopLevelsReversed(this,(function(r,s){var u=new re;null!=o&&(o.add(0,Number.MAX_VALUE),u.merge(o,0));var h=o=u;t.loopLevelItems(this,r,(function(o,r,s){var u=l(i,o);switch(u.add(a[o],s),e.countParents(o)){case 0:null!=h&&(n[o]=h.attach(u));break;case 1:e.loopParents(this,o,(function(t,r,a){var s=l(i,t);return n[o]=s.merge(u),h=s,e.BREAK}));break;default:var c=0,d=null,f=null,p={};e.loopParents(this,o,(function(n,i,o){if(o>0)return e.BREAK;c+=a[n];var r=t.getItemPosition(n);d=null==d?r:Math.min(d,r),f=null==f?r:Math.max(f,r),p[r]=n}));for(var m=-c/2,g=d;g<=f;g+=1){var y=p[g];m+=a[y]/2;var v=l(i,y);v.attach(u,-m),h=v,m+=a[y]/2}}}))})),n}(t,n),o=function(e,t,n){var i={},o=Z(e),r={};return t.loopLevels(this,(function(e,l){t.loopLevelItems(this,e,(function(l,u,h){if(!i.hasOwnProperty(l)){var c=0;if(0===h)null!=n[l]&&(c+=n[l]+a[l]/2);else{var d=t.getItemAtPosition(e,h-1);c+=i[d]+a[d]/2+(n[l]||0)+a[l]/2}i[l]=c}var f=o[l];if(null!=f)for(var p=0;p<f.length;p+=1){var m=f[p];r.hasOwnProperty(m.id)||(r[m.id]=!0,s(i,l,m,e,e+1,h,t,n))}}))})),i}(t,n,r),{getOffset:function(e){return o[e]}}}function le(e){var t=[],n=Math.log(2);function i(i,o){var r=Math.floor(Math.log(o-i+1)/n);return e[t[i][r]]<=e[t[o-(1<<r)+1][r]]?t[i][r]:t[o-(1<<r)+1][r]}return function(){for(var n,i=0,o=e.length;i<o;i+=1)t[i]=[i];for(n=1,o=e.length;1<<n<o;n+=1)for(i=0;i+(1<<n)-1<o;i+=1)e[t[i][n-1]]<e[t[i+(1<<n-1)][n-1]]?t[i][n]=t[i][n-1]:t[i][n]=t[i+(1<<n-1)][n-1]}(),{getRangeMinimumIndex:i,getRangeMinimum:function(t,n){return e[i(t,n)]}}}function se(e){var t,n=[],i=[],o={};return function(){var r=0;e.loopEulerWalk(this,(function(e,t,a){n.push(e),i.push(a),o.hasOwnProperty(e)||(o[e]=r),r+=1})),t=le(i)}(),{getLowestCommonAncestor:function(e,i){var r,a=o[e],l=o[i];return r=a<l?t.getRangeMinimumIndex(a,l):t.getRangeMinimumIndex(l,a),n[r]}}}function ue(){var e=[];function t(e,t,n,i){this.context=n,this.from=e,this.to=t,this.offset=null,this.direction=i}function n(e,t,i,o,r){if(e>=t.length)return 0;if(i.hasOwnProperty(e))return i[e];for(var a=t[e],l=n(e+1,t,i,o,r),s=e+1;s<t.length;){if(t[s].from>=a.to)break;s+=1}var u=1+n(s,t,i,o,r);return u>l?(i[e]=u,o[e]=s,r[e]=!0):(i[e]=l,o[e]=e+1,r[e]=!1),i[e]}return{add:function(n,i,o){n<i?e.push(new t(n,i,o,1)):e.push(new t(i,n,o,-1))},resolve:function(t,i){var o,r,a,l,s,u,h,c,d=0;if(null!=i){for((a=e.slice(0)).sort((function(e,t){return e.from-t.from})),u=[];a.length>0;){for(n(0,a,{},o={},r={}),s=[],u[d]=[],c=0;o.hasOwnProperty(c);)r[c]&&(s.push(c),u[d].push(a[c])),c=o[c];for(c=s.length-1;c>=0;c-=1)a.splice(s[c],1);d+=1}for(h=0;h<d;h+=1)for(s=u[h],c=0;c<s.length;c+=1)if(l=s[c],i.call(t,l.from,l.to,l.context,h,d,l.direction))return d}return d}}}function he(e){var t,n=Math.max(1,(t=e,Math.floor(Math.log(t)/Math.log(2)))),i=8,o=256,r=null;function a(e,t,n,i){this.x=e,this.y=t,this.scale=n,this.size=i,this.quadrants=[],this.points=[]}function l(e){var t=e.size/2;e.quadrants=[new a(e.x,e.y,e.scale-1,t),new a(e.x+t,e.y,e.scale-1,t),new a(e.x,e.y+t,e.scale-1,t),new a(e.x+t,e.y+t,e.scale-1,t)];for(var n=0,i=e.points.length;n<i;n+=1){var o=e.points[n],r=Math.floor(o.x),l=Math.floor(o.y);e.quadrants[e.getQuadrantIndex(r,l)].points.push(o)}e.points=null}return r=new a(0,0,i,o),a.prototype.notEnclosed=function(e){return this.x<e.x||this.x+this.size>e.x+e.width||this.y<e.y||this.y+this.size>e.y+e.height},a.prototype.overlaps=function(e){return!(this.x+this.size<e.x||e.x+e.width<this.x||this.y+this.size<e.y||e.y+e.height<this.y)},a.prototype.getQuadrantIndex=function(e,t){var n=this.scale-1;return e>>n&1|(t>>n&1)<<1},{addPoint:function(e){for(var t=Math.floor(e.x),s=Math.floor(e.y),u=Math.max(t,s);o<=u;){var h=new a(0,0,i+=1,o*=2);l(h),h.quadrants[0]=r,r=h}!function(e){var t=Math.floor(e.x),i=Math.floor(e.y),o=r;if(t<0||i<0)throw"Negative values are not supported in the quad tree.";for(;(null==o.points||o.points.length>0)&&(o.scale!=n||null==o.points);)null!=o.points&&o.points.length>0&&l(o),o=o.quadrants[o.getQuadrantIndex(t,i)];o.points.push(e)}(e)},loopArea:function(e,t,n){var i,o,a;if(null!=n)for(var l=[r],s=[];l.length>0||s.length>0;){var u=[],h=[];for(o=0,a=l.length;o<a;o+=1)if((i=l[o]).overlaps(t))if(i.notEnclosed(t))if(null==i.points)for(var c=0;c<4;c+=1)u.push(i.quadrants[c]);else for(var d=0,f=i.points.length;d<f;d+=1){var p=i.points[d];if(t.contains(p)&&n.call(e,p))return}else s.push(i);for(o=0,a=s.length;o<a;o+=1)if(null==(i=s[o]).points)for(c=0;c<4;c+=1)h.push(i.quadrants[c]);else for(d=0,f=i.points.length;d<f;d+=1)if(n.call(e,i.points[d]))return;l=u,s=h}},validate:function(){for(var e=[r];e.length>0;){for(var t=[],n=0,i=e.length;n<i;n+=1){var o=e[n],a=new j(o.x,o.y,o.size,o.size);if(null!=o.points&&o.quadrants.length>0)return!1;if(null==o.points)for(var l=0;l<4;l+=1)t.push(o.quadrants[l]);else for(var s=0,u=o.points.length;s<u;s+=1){var h=o.points[s];if(!a.contains(h))return!1}}e=t}return!0},getPositions:function(e){for(var t=[],n=[r];n.length>0;){for(var i=[],o=0,a=n.length;o<a;o+=1){var l=n[o],s=new j(l.x,l.y,l.size,l.size);s.context={isHighlighted:!1},1,null!=e&&e.overlaps(s)&&null!=l.points&&l.points.length>0&&(s.context.isHighlighted=!0),t.push(s);for(var u=0;u<4;u+=1){var h=l.quadrants[u];null!=h&&i.push(h)}}n=i}return t}}}function ce(e){var t=[];switch(e.sort((function(e,t){return e-t})),e.length){case 0:t.push(new s(0,1e6));break;case 1:var n=e[0];t.push(new s(0,n));break;case 2:n=e[0];var i=e[1];i>2*n?(t.push(new s(0,n)),t.push(new s(n,i))):t.push(new s(0,i));break;default:for(var o=q(e),r=0,a=0;a<o.length;a+=1){var l=e[o[a]];t.push(new s(r,l)),r=l}}function s(e,t){this.minimum=e,this.maximum=t,this.quadTree=he(2*t)}return{addRect:function(e){for(var n=Math.max(e.width,e.height),i=e.centerPoint(),o=0,r=t.length;o<r;o+=1){var a=t[o];if(n<=a.maximum||o==r-1){i.context=e,a.quadTree.addPoint(i);break}}},loopArea:function(e,n,i){if(null!=i)for(var o=0,r=t.length;o<r;o+=1){var a=t[o],l=new j(n);l.offset(a.maximum/2),a.quadTree.loopArea(this,l,(function(t){var o=t.context;if(n.overlaps(o))return i.call(e,o)}))}},validate:function(){for(var e=!0,n=0,i=t.length;n<i;n+=1){var o=t[n];e=e&&o.quadTree.validate()}return e},getPositions:function(e){for(var n=[],i=0,o=t.length;i<o;i+=1){var r=t[i];n=n.concat(r.quadTree.getPositions(e))}return n}}}function de(e){var t=[],n={},i=null,o=null;function r(e){this.context=e,this.items=[]}function a(e,t,n){this.context=e,this.positions={},this.positions[n]=t,this.startLevel=n,this.endLevel=n}function l(e){return null==t[e]&&(t[e]=new r(null),i=null===i?e:Math.min(i,e),o=null===o?e:Math.max(o,e)),t[e]}return function(e){h(e)&&(t=d(e.levels,!0),n=d(e.items,!0),i=d(e.minimum,!0),o=d(e.maximum,!0))}(e),{addlevel:function(e,t){l(e).context=t},hasLevel:function(e){return null!=t[e]},hasItem:function(e){return n.hasOwnProperty(e)},addItem:function(e,t,i){var o,r;n.hasOwnProperty(t)?((o=l(e)).items.push(t),(r=n[t]).positions[e]=o.items.length-1,r.startLevel=Math.min(r.startLevel,e),r.endLevel=Math.max(r.endLevel,e)):((o=l(e)).items.push(t),n[t]=new a(i,o.items.length-1,e))},getItemContext:function(e){var t=null;return n.hasOwnProperty(e)&&(t=n[e].context),t},getLevelIndex:function(e){return n.hasOwnProperty(e)?n[e].startLevel:null},getEndLevelIndex:function(e){return n.hasOwnProperty(e)?n[e].endLevel:null},getItemPosition:function(e,t){var i=n[e];return null!=i?null!=t?i.positions[t]:i.positions[i.startLevel]:null},getItemAtPosition:function(e,n){var i=t[e],o=null;return null!=i&&(o=i.items[n]),o},loopLevels:function(e,n){var r,a;if(null!=n)for(r=i;r<=o&&(null==(a=t[r])||!n.call(e,r,a.context));r+=1);},loopLevelsReversed:function(e,n){var r,a;if(null!=n)for(r=o;r>=i&&(null==(a=t[r])||!n.call(e,r,a.context));r-=1);},loopLevelItems:function(e,i,o){var r,a,l,s;if(null!=o&&null!=(l=t[i]))for(r=0,a=l.items.length;r<a&&(s=l.items[r],!o.call(e,s,n[s].context,r));r+=1);},getLevelLength:function(e){var n=0,i=t[e];return null!=i&&(n=i.items.length),n},loopItems:function(e,r){var a,l,s,u,h,c,d={};if(null!=r)for(u=i;u<=o;u+=1)if(null!=(s=t[u]))for(a=0,l=(h=s.items).length;a<l;a+=1)if(c=h[a],!d.hasOwnProperty(c)&&(d[c]=!0,r.call(e,c,n[c].context,a,u,s.context)))return},binarySearch:function(e,i,o){var r,a=null;return null!=o&&null!=(r=t[i])&&(a=N(r.items,(function(t){return o.call(e,t,n[t].context)}))),a.item},loopMerged:function(e,i,o){var r,a,l,s,u,h=[];for(r=0,a=t.length;r<a;r+=1)null!=(l=t[r])&&h.push(l.items);if(u=U(h,i,!0),null!=o)for(r=0,a=u.length;r<a&&(s=u[r],!o.call(e,s,n[s].context));r+=1);},loopFromItem:function(e,i,o,r,a){var l,s,u,h,c,d,f;if(n.hasOwnProperty(i)&&(l=n[i],d=a||l.startLevel,h=t[d].items,f=l.positions[d],null!=r))if(o)for(s=f-1;s>=0&&(c=h[s],!r.call(e,c,n[c].context));s-=1);else for(s=f+1,u=h.length;s<u&&(c=h[s],!r.call(e,c,n[c].context));s+=1);},loopLevelsFromItem:function(e,r,a,l){var s,u,h;if(n.hasOwnProperty(r)&&(s=n[r],null!=l))if(a)for(u=s.endLevel+1;u<=o&&(h=t[u],!l.call(e,u,null!=h?h.context:null));u+=1);else for(u=s.startLevel-1;u>=i&&(h=t[u],!l.call(e,u,null!=h?h.context:null));u-=1);},getPrevItem:function(e,i){var o=null;if(n.hasOwnProperty(e)){var r=n[e];i=i||r.startLevel,o=t[i].items[r.positions[i]-1]}return o},getNextItem:function(e,i){var o=null;if(n.hasOwnProperty(e)){var r=n[e];i=i||r.startLevel,o=t[i].items[r.positions[i]+1]}return o},length:function(){return t.length},isEmpty:function(){return!t.length},clone:function(){return de({levels:t,items:n,minimum:i,maximum:o})}}}function fe(e){this.name=void 0!==e?e:"OrgDiagram",this.classPrefix="orgdiagram",this.navigationMode=r.vt.Default,this.pageFitMode=r.sj.FitToPage,this.minimalVisibility=r.EE.Dot,this.minimumVisibleLevels=1,this.orientationType=r.F7.Top,this.horizontalAlignment=r.a3.Center,this.verticalAlignment=r.Vn.Middle,this.arrowsDirection=r.zX.None,this.showExtraArrows=!1,this.extraArrowsMinimumSpace=30,this.connectorType=r.r7.Squared,this.bevelSize=4,this.elbowType=r.ex.None,this.elbowDotSize=4,this.emptyDiagramMessage="Diagram is empty.",this.items=[],this.annotations=[],this.cursorItem=null,this.highlightItem=null,this.highlightGravityRadius=40,this.selectedItems=[],this.hasSelectorCheckbox=r.xB.Auto,this.selectCheckBoxLabel="Selected",this.selectionPathMode=r.lz.FullStack,this.showFrame=!1,this.frameInnerPadding=new _(2,2,2,2),this.frameOuterPadding=new _(2,2,2,2),this.padding=new _(10,10,10,10),this.templates=[],this.defaultTemplateName=null,this.hasButtons=r.xB.Auto,this.onButtonsRender=null,this.onHighlightChanging=null,this.onHighlightChanged=null,this.onCursorChanging=null,this.onCursorChanged=null,this.onSelectionChanging=null,this.onSelectionChanged=null,this.onButtonClick=null,this.onMouseClick=null,this.onMouseDblClick=null,this.onItemRender=null,this.onHighlightRender=null,this.onCursorRender=null,this.normalLevelShift=20,this.dotLevelShift=20,this.lineLevelShift=10,this.normalItemsInterval=10,this.dotItemsInterval=1,this.lineItemsInterval=2,this.cousinsIntervalMultiplier=5,this.itemTitleFirstFontColor=r.wL.White,this.itemTitleSecondFontColor=r.wL.Navy,this.minimizedItemShapeType=r.DY.None,this.linesColor=r.wL.Silver,this.linesWidth=1,this.linesType=r.SP.Solid,this.highlightLinesColor=r.wL.Red,this.highlightLinesWidth=1,this.highlightLinesType=r.SP.Solid,this.showCallout=!0,this.calloutMaximumVisibility=r.EE.Dot,this.calloutPlacementOffset=100,this.defaultCalloutTemplateName=null,this.calloutfillColor="#000000",this.calloutBorderColor=null,this.calloutOffset=4,this.calloutCornerRadius=4,this.calloutPointerWidth="10%",this.calloutLineWidth=1,this.calloutOpacity=.2,this.alignBranches=!1,this.childrenPlacementType=r.X9.Horizontal,this.leavesPlacementType=r.X9.Horizontal,this.placeAssistantsAboveChildren=!0,this.placeAdvisersAboveChildren=!0,this.maximumColumnsInMatrix=6,this.buttonsPanelSize=28,this.groupTitlePanelSize=24,this.checkBoxPanelSize=24,this.groupTitlePlacementType=r.hZ.Left,this.groupTitleOrientation=r.GE.RotateRight,this.groupTitleVerticalAlignment=r.Vn.Middle,this.groupTitleHorizontalAlignment=r.a3.Center,this.groupTitleFontSize="12px",this.groupTitleFontFamily="Arial",this.groupTitleColor=r.wL.RoyalBlue,this.groupTitleFontWeight="normal",this.groupTitleFontStyle="normal",this.onGroupTitleRender=null,this.levelTitlePanelSize=24,this.levelTitlePlacementType=r.hZ.Left,this.levelTitlePlaceInside=!1,this.levelTitleOrientation=r.GE.Auto,this.levelTitleVerticalAlignment=r.Vn.Middle,this.levelTitleHorizontalAlignment=r.a3.Center,this.levelTitleFontSize="12px",this.levelTitleFontFamily="Arial",this.levelTitleFontColor=r.wL.White,this.levelTitleColor=r.wL.RoyalBlue,this.levelTitleFontWeight="normal",this.levelTitleFontStyle="normal",this.onLevelTitleRender=null,this.onLevelBackgroundRender=null,this.distance=3,this.scale=1,this.minimumScale=.5,this.maximumScale=2,this.showLabels=r.xB.Auto,this.labelSize=new P.Z(80,24),this.labelOffset=1,this.labelOrientation=r.GE.Horizontal,this.labelPlacement=r.TK.Top,this.labelFontSize="10px",this.labelFontFamily="Arial",this.labelColor=r.wL.Black,this.labelFontWeight="normal",this.labelFontStyle="normal",this.enablePanning=!0,this.autoSizeMinimum=new P.Z(800,600),this.autoSizeMaximum=new P.Z(1024,768)}function pe(e,t,n,i,o){var a;switch(this.id=null,this.parent=null,this.title=null,this.description=null,this.image=null,this.context=null,this.itemTitleColor=r.wL.RoyalBlue,this.minimizedItemShapeType=null,this.groupTitle=null,this.groupTitleColor=r.wL.RoyalBlue,this.isVisible=!0,this.isActive=!0,this.hasSelectorCheckbox=r.xB.Auto,this.hasButtons=r.xB.Auto,this.itemType=r.qG.Regular,this.levelOffset=null,this.adviserPlacementType=r.hZ.Auto,this.childrenPlacementType=r.X9.Auto,this.placeAssistantsAboveChildren=r.xB.Auto,this.placeAdvisersAboveChildren=r.xB.Auto,this.templateName=null,this.showCallout=r.xB.Auto,this.calloutTemplateName=null,this.label=null,this.showLabel=r.xB.Auto,this.labelSize=null,this.labelOrientation=r.GE.Auto,this.labelPlacement=r.TK.Auto,arguments.length){case 1:for(a in e)e.hasOwnProperty(a)&&(this[a]=e[a]);break;case 5:this.id=e,this.parent=t,this.title=n,this.description=i,this.image=o}}function me(){this.oldContext=null,this.context=null,this.parentItem=null,this.position=null,this.name=null,this.cancel=!1}function ge(e){this.name=void 0!==e?e:"FamDiagram",this.classPrefix="famdiagram",this.navigationMode=r.vt.Default,this.pageFitMode=r.sj.FitToPage,this.minimalVisibility=r.EE.Dot,this.minimumVisibleLevels=0,this.orientationType=r.F7.Top,this.verticalAlignment=r.Vn.Middle,this.arrowsDirection=r.zX.None,this.showExtraArrows=!0,this.extraArrowsMinimumSpace=30,this.groupByType=r.zX.Children,this.alignBylevels=!0,this.enableMatrixLayout=!1,this.minimumMatrixSize=4,this.maximumColumnsInMatrix=6,this.hideGrandParentsConnectors=!1,this.elbowType=r.ex.Round,this.bevelSize=4,this.elbowDotSize=4,this.emptyDiagramMessage="Diagram is empty.",this.items=[],this.annotations=[],this.cursorItem=null,this.highlightItem=null,this.highlightGravityRadius=40,this.selectedItems=[],this.hasSelectorCheckbox=r.xB.Auto,this.selectCheckBoxLabel="Selected",this.selectionPathMode=r.lz.None,this.neighboursSelectionMode=r.DL.ParentsAndChildren,this.showFrame=!1,this.frameInnerPadding=new _(2,2,2,2),this.frameOuterPadding=new _(2,2,2,2),this.padding=new _(10,10,10,10),this.templates=[],this.defaultTemplateName=null,this.defaultLabelAnnotationTemplate=null,this.hasButtons=r.xB.Auto,this.onButtonsRender=null,this.onHighlightChanging=null,this.onHighlightChanged=null,this.onCursorChanging=null,this.onCursorChanged=null,this.onSelectionChanging=null,this.onSelectionChanged=null,this.onButtonClick=null,this.onMouseClick=null,this.onMouseDblClick=null,this.onItemRender=null,this.onHighlightRender=null,this.onCursorRender=null,this.normalLevelShift=20,this.dotLevelShift=20,this.lineLevelShift=10,this.normalItemsInterval=10,this.dotItemsInterval=1,this.lineItemsInterval=2,this.cousinsIntervalMultiplier=5,this.itemTitleFirstFontColor=r.wL.White,this.itemTitleSecondFontColor=r.wL.Navy,this.minimizedItemShapeType=r.DY.None,this.linesColor=r.wL.Silver,this.linesWidth=1,this.linesType=r.SP.Solid,this.showNeigboursConnectorsHighlighted=!1,this.highlightLinesColor=r.wL.Red,this.highlightLinesWidth=1,this.highlightLinesType=r.SP.Solid,this.linesPalette=[],this.showCallout=!0,this.calloutMaximumVisibility=r.EE.Dot,this.calloutPlacementOffset=100,this.defaultCalloutTemplateName=null,this.calloutfillColor="#000000",this.calloutBorderColor=null,this.calloutOffset=4,this.calloutCornerRadius=4,this.calloutPointerWidth="10%",this.calloutLineWidth=1,this.calloutOpacity=.2,this.buttonsPanelSize=28,this.groupTitlePanelSize=24,this.checkBoxPanelSize=24,this.groupTitlePlacementType=r.hZ.Left,this.groupTitleOrientation=r.GE.RotateRight,this.groupTitleVerticalAlignment=r.Vn.Middle,this.groupTitleHorizontalAlignment=r.a3.Center,this.groupTitleFontSize="12px",this.groupTitleFontFamily="Arial",this.groupTitleColor=r.wL.RoyalBlue,this.groupTitleFontWeight="normal",this.groupTitleFontStyle="normal",this.onGroupTitleRender=null,this.levelTitlePanelSize=24,this.levelTitlePlacementType=r.hZ.Left,this.levelTitlePlaceInside=!1,this.levelTitleOrientation=r.GE.Auto,this.levelTitleVerticalAlignment=r.Vn.Middle,this.levelTitleHorizontalAlignment=r.a3.Center,this.levelTitleFontSize="12px",this.levelTitleFontFamily="Arial",this.levelTitleFontColor=r.wL.White,this.levelTitleColor=r.wL.RoyalBlue,this.levelTitleFontWeight="normal",this.levelTitleFontStyle="normal",this.onLevelTitleRender=null,this.onLevelBackgroundRender=null,this.distance=3,this.scale=1,this.minimumScale=.5,this.maximumScale=1,this.showLabels=r.xB.Auto,this.labelSize=new P.Z(80,24),this.labelOffset=1,this.labelOrientation=r.GE.Horizontal,this.labelPlacement=r.TK.Top,this.labelFontSize="10px",this.labelFontFamily="Arial",this.labelColor=r.wL.Black,this.labelFontWeight="normal",this.labelFontStyle="normal",this.enablePanning=!0,this.autoSizeMinimum=new P.Z(800,600),this.autoSizeMaximum=new P.Z(1024,768)}function ye(e,t,n,i,o){var a;switch(this.id=null,this.parents=[],this.relativeItem=null,this.placementType=r.hZ.Right,this.position=null,this.primaryParent=null,this.title=null,this.description=null,this.image=null,this.context=null,this.itemTitleColor=r.wL.RoyalBlue,this.minimizedItemShapeType=null,this.groupTitle=null,this.groupTitleColor=r.wL.RoyalBlue,this.matrixId=null,this.addToMatrix=!0,this.isActive=!0,this.hasSelectorCheckbox=r.xB.Auto,this.hasButtons=r.xB.Auto,this.templateName=null,this.showCallout=r.xB.Auto,this.calloutTemplateName=null,this.label=null,this.showLabel=r.xB.Auto,this.labelSize=null,this.labelOrientation=r.GE.Auto,this.labelPlacement=r.TK.Auto,arguments.length){case 1:for(a in e)e.hasOwnProperty(a)&&(this[a]=e[a]);break;case 5:this.id=e,this.parents=t,this.title=n,this.description=i,this.image=o}}function ve(){this.oldContext=null,this.context=null,this.parentItems=[],this.childrenItems=[],this.position=null,this.name=null,this.cancel=!1}function Te(e){var t;if(this.annotationType=r.JJ.Background,this.items=[],this.includeChildren=!1,this.zOrderType=r.k0.Auto,this.offset=new _(18,18,18,18),this.lineWidth=2,this.opacity=1,this.borderColor=null,this.fillColor=null,this.lineType=r.SP.Solid,this.selectItems=!1,1===arguments.length)if(null!==e)if(e instanceof Array)this.items=e;else if("object"==typeof e)for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function we(e,t){var n;switch(this.annotationType=r.JJ.Connector,this.zOrderType=r.k0.Foreground,this.fromItem=null,this.toItem=null,this.connectorShapeType=r.GV.OneWay,this.connectorPlacementType=r.$I.Offbeat,this.labelPlacementType=r.xj.Between,this.offset=new _(0,0,0,0),this.lineWidth=2,this.color=r.wL.Black,this.lineType=r.SP.Solid,this.selectItems=!0,this.label=null,this.labelSize=new P.Z(60,30),arguments.length){case 1:for(n in e)e.hasOwnProperty(n)&&(this[n]=e[n]);break;case 2:this.fromItem=e,this.toItem=t}}function be(e){var t;if(this.annotationType=r.JJ.HighlightPath,this.zOrderType=r.k0.Foreground,this.items=[],this.lineWidth=2,this.color=r.wL.Red,this.lineType=r.SP.Solid,this.opacity=1,this.showArrows=!0,this.selectItems=!1,1===arguments.length)if(null!==e)if(e instanceof Array)this.items=e;else if("object"==typeof e)for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function ke(e,t){var n;switch(this.annotationType=r.JJ.Label,this.fromItem=null,this.toItems=[],this.title=null,this.itemTitleColor=r.wL.RoyalBlue,this.templateName=null,arguments.length){case 1:for(n in e)e.hasOwnProperty(n)&&(this[n]=e[n]);break;case 2:this.fromItem=e,this.toItem=t}}function Ce(e,t,n){var i;switch(this.lineColor=r.wL.Silver,this.lineWidth=1,this.lineType=r.SP.Solid,arguments.length){case 1:for(i in e)e.hasOwnProperty(i)&&(this[i]=e[i]);break;case 3:this.lineColor=e,this.lineWidth=t,this.lineType=n}}function Oe(e){var t;if(this.annotationType=r.JJ.Shape,this.zOrderType=r.k0.Auto,this.items=[],this.shapeType=r.DY.Rectangle,this.offset=new _(0,0,0,0),this.lineWidth=2,this.cornerRadius="10%",this.opacity=1,this.borderColor=null,this.fillColor=null,this.lineType=r.SP.Solid,this.selectItems=!1,this.label=null,this.labelSize=new P.Z(60,30),this.labelPlacement=r.TK.Auto,this.labelOffset=4,1===arguments.length)if(null!==e)if(e instanceof Array)this.items=e;else if("object"==typeof e)for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function Pe(e){var t;if(this.annotationType=r.JJ.Level,this.levels=[],this.title=null,this.titleFontColor=null,this.titleColor=null,this.offset=new _(0,0,0,0),this.lineWidth=new _(0,0,0,0),this.opacity=1,this.borderColor=null,this.fillColor="#D4D4D4",this.lineType=r.SP.Solid,1===arguments.length)if(null!==e)if(e instanceof Array)this.items=e;else if("object"==typeof e)for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function xe(){this.name=null,this.isActive=!0,this.itemSize=new P.Z(120,100),this.itemBorderWidth=1,this.itemTemplate=null,this.minimizedItemShapeType=null,this.minimizedItemSize=new P.Z(4,4),this.minimizedItemCornerRadius=null,this.minimizedItemLineWidth=1,this.minimizedItemBorderColor=null,this.minimizedItemLineType=r.SP.Solid,this.minimizedItemFillColor=null,this.minimizedItemOpacity=1,this.highlightPadding=new _(2,2,2,2),this.highlightBorderWidth=1,this.highlightTemplate=null,this.cursorPadding=new _(3,3,3,3),this.cursorBorderWidth=2,this.cursorTemplate=null,this.hasButtons=r.xB.Auto,this.onButtonsRender=null}E.prototype.scale=function(e){return this.x=this.x*e,this.y=this.y*e,this},E.prototype.distanceTo=function(e,t){var n,i,o=0,r=0;switch(arguments.length){case 1:o=e.x,r=e.y;break;case 2:o=e,r=t}return n=this.x-o,i=this.y-r,Math.sqrt(n*n+i*i)},E.prototype.equalTo=function(e){return this.x==e.x&&this.y==e.y},E.prototype.swap=function(e){var t=e.x,n=e.y;e.x=this.x,e.y=this.y,this.x=t,this.y=n},E.prototype.clone=function(){return new E(this)},E.prototype.toString=function(e){var t="";return e=void 0!==e?e:"px",t+="left:"+this.x+e+";",t+="top:"+this.y+e+";"},E.prototype.getCSS=function(e){return e=void 0!==e?e:"px",{left:this.x+e,top:this.y+e}},F.prototype.determinant=function(){return this.a1*this.b2-this.b1*this.a2},B.prototype.isNull=function(){return this.from.x==this.to&&this.from.y==this.to.y},B.prototype.length=function(){return this.from.distanceTo(this.to)},B.prototype.equalTo=function(e){return this.from.equalTo(e.from)&&this.to.equalTo(e.to)},B.prototype.getMiddlePoint=function(){return new E((this.from.x+this.to.x)/2,(this.from.y+this.to.y)/2)},B.prototype.relateTo=function(e){var t=r.ZU.None,n=this.to.x-this.from.x,i=this.to.y-this.from.y,o=e.to.x-e.from.x,a=e.to.y-e.from.y;switch((n?8:0)+(i?4:0)+(o?2:0)+(a?1:0)){case 0:case 1:case 2:case 3:case 4:case 8:case 12:t=r.ZU.Null;break;case 5:t=i*a>0?r.ZU.Collinear:r.ZU.Opposite;break;case 10:t=n*o>0?r.ZU.Collinear:r.ZU.Opposite;break;case 15:n/o==i/a&&(t=n/o>0?r.ZU.Collinear:r.ZU.Opposite)}return t},B.prototype.offset=function(e){var t=this.length(),n=(this.to.y-this.from.y)*e/t,i=-(this.to.x-this.from.x)*e/t;this.from.x+=n,this.from.y+=i,this.to.x+=n,this.to.y+=i},B.prototype.getLine=function(){var e=this.from.x,t=this.from.y,n=this.to.x,i=this.to.y;return[i-t,e-n,e*(t-i)+t*(n-e)]},B.prototype.getLineKey=function(){var e=this.getLine(),t=e[0],n=e[1],i=e[2],o=1e4;return(e=0!==n?[Math.floor(t/n*o),1,Math.floor(i/n*o)]:[1,0,Math.floor(i/t*o)]).toString()},B.prototype.intersect=function(e){var t,n,i=this.getLine(),o=e.getLine(),r=new F(i[0],i[1],o[0],o[1]).determinant(),a=!1;return 0!==r&&(t=new F(-i[2],i[1],-o[2],o[1]).determinant()/r,n=new F(i[0],-i[2],o[0],-o[2]).determinant()/r,e.to.x=t,e.to.y=n,this.from.x=t,this.from.y=n,a=!0),a},B.prototype.getIntersectionPoint=function(e,t,n){var i,o,r=this.getLine(),a=e.getLine(),l=new F(r[0],r[1],a[0],a[1]).determinant(),s=null;return 0!==l&&(i=new F(-r[2],r[1],-a[2],a[1]).determinant()/l,o=new F(r[0],-r[2],a[0],-a[2]).determinant()/l,t?e._contains(i,o,n)&&this._contains(i,o,n)&&(s=new E(i,o)):s=new E(i,o)),s},B.prototype._contains=function(e,t,n){var i=Math.min(this.from.x,this.to.x),o=Math.min(this.from.y,this.to.y),r=Math.max(this.from.x,this.to.x),a=Math.max(this.from.y,this.to.y);return i-n<=e&&e<=r+n&&o-n<=t&&t<=a+n},D.prototype.width=function(){return this.to-this.from},D.prototype.equalTo=function(e){return this.from==e.from&&this.to==e.to},D.prototype.clone=function(){return new D(this)},D.prototype.toString=function(){return this.from+", "+this.to},D.prototype.overlaps=function(e){var t=!0;return(this.to<e.from||e.to<this.from)&&(t=!1),t},j.prototype.left=function(){return this.x},j.prototype.top=function(){return this.y},j.prototype.right=function(){return this.x+this.width},j.prototype.bottom=function(){return this.y+this.height},j.prototype.verticalCenter=function(){return this.y+this.height/2},j.prototype.horizontalCenter=function(){return this.x+this.width/2},j.prototype.centerPoint=function(){return new E(this.horizontalCenter(),this.verticalCenter())},j.prototype.isEmpty=function(){return null===this.x||null===this.y||null===this.width||null===this.height||this.width<0||this.height<0},j.prototype.offset=function(e,t,n,i){switch(arguments.length){case 1:null!==e&&"object"==typeof e?(this.x=this.x-e.left,this.y=this.y-e.top,this.width=this.width+e.left+e.right,this.height=this.height+e.top+e.bottom):(this.x=this.x-e,this.y=this.y-e,this.width=this.width+2*e,this.height=this.height+2*e);break;case 4:this.x=this.x-e,this.y=this.y-t,this.width=this.width+e+n,this.height=this.height+t+i}return this},j.prototype.scale=function(e){return this.x=this.x*e,this.y=this.y*e,this.width=this.width*e,this.height=this.height*e,this},j.prototype.translate=function(e,t){return this.x=this.x+e,this.y=this.y+t,this},j.prototype.invert=function(){var e=this.width,t=this.x;return this.width=this.height,this.height=e,this.x=this.y,this.y=t,this},j.prototype.loopEdges=function(e){var t=[new E(this.left(),this.top()),new E(this.right(),this.top()),new E(this.right(),this.bottom()),new E(this.left(),this.bottom())],n=[r.TK.Top,r.TK.Right,r.TK.Bottom,r.TK.Left];if(t.push(t[0]),null!=e)for(var i=1,o=t.length;i<o&&!e(new B(t[i-1],t[i]),n[i-1]);i+=1);return this},j.prototype.contains=function(e,t){switch(arguments.length){case 1:return this.x<=e.x&&e.x<=this.x+this.width&&this.y<=e.y&&e.y<=this.y+this.height;case 2:return this.x<=e&&e<=this.x+this.width&&this.y<=t&&t<=this.y+this.height;default:return!1}},j.prototype.cropByRect=function(e){return this.x<e.x&&(this.width-=e.x-this.x,this.x=e.x),this.right()>e.right()&&(this.width-=this.right()-e.right()),this.y<e.y&&(this.height-=e.y-this.y,this.y=e.y),this.bottom()>e.bottom()&&(this.height-=this.bottom()-e.bottom()),this.isEmpty()&&(this.x=null,this.y=null,this.width=null,this.height=null),this},j.prototype.overlaps=function(e){var t=!0;return(this.x+this.width<e.x||e.x+e.width<this.x||this.y+this.height<e.y||e.y+e.height<this.y)&&(t=!1),t},j.prototype.addRect=function(e,t,n,i){var o,r;switch(arguments.length){case 1:e.isEmpty()||(this.isEmpty()?(this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height):(o=Math.max(this.right(),e.right()),r=Math.max(this.bottom(),e.bottom()),this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.width=o-this.x,this.height=r-this.y));break;case 2:this.isEmpty()?(this.x=e,this.y=t,this.width=0,this.height=0):(o=Math.max(this.right(),e),r=Math.max(this.bottom(),t),this.x=Math.min(this.x,e),this.y=Math.min(this.y,t),this.width=o-this.x,this.height=r-this.y);break;case 4:this.isEmpty()?(this.x=e,this.y=t,this.width=n,this.height=i):(o=Math.max(this.right(),e+n),r=Math.max(this.bottom(),t+i),this.x=Math.min(this.x,e),this.y=Math.min(this.y,t),this.width=o-this.x,this.height=r-this.y)}return this},j.prototype.getCSS=function(e){return e=void 0!==e?e:"px",{left:this.x+e,top:this.y+e,width:this.width+e,height:this.height+e}},j.prototype.toString=function(e){var t="";return e=void 0!==e?e:"px",t+="left:"+this.x+e+";",t+="top:"+this.y+e+";",t+="width:"+this.width+e+";",t+="height:"+this.height+e+";"},j.prototype.validate=function(){if(isNaN(this.x)||isNaN(this.y)||isNaN(this.width)||isNaN(this.height))throw"Invalid rect position."},j.prototype.equalTo=function(e){return this.x==e.x&&this.y==e.y&&this.width==e.width&&this.height==e.height},j.prototype.getProjectionPoint=function(e){var t=null;if(!this.contains(e)){var n=new B(this.centerPoint(),e);this.loopEdges((function(e){return null!=(t=n.getIntersectionPoint(e,!0,1))}))}return t},j.prototype.verticalInterval=function(){return new D(this.y,this.bottom())},_.prototype.isEmpty=function(){return 0===this.left&&0===this.top&&0===this.right&&0===this.bottom},_.prototype.isPositive=function(){return this.left>0||this.top>0||this.right>0||this.bottom>0},_.prototype.isNegative=function(){return this.left<0||this.top<0||this.right<0||this.bottom<0},_.prototype.maxThickness=function(e){return this.left=Math.max(this.left,e.left),this.top=Math.max(this.top,e.top),this.right=Math.max(this.right,e.right),this.bottom=Math.max(this.bottom,e.bottom),this},_.prototype.addThickness=function(e,t,n,i){switch(arguments.length){case 1:null!==e&&"object"==typeof e?(this.left+=e.left,this.top+=e.top,this.right+=e.right,this.bottom+=e.bottom):(this.left+=e,this.top+=e,this.right+=e,this.bottom+=e);break;case 4:this.left+=e,this.top+=t,this.right+=n,this.bottom+=i}return this},_.prototype.scale=function(e){return this.left=this.left*e,this.top=this.top*e,this.right=this.right*e,this.bottom=this.bottom*e,this},_.prototype.toString=function(e){return e=void 0!==e?e:"px",this.top+e+" "+this.right+e+" "+this.bottom+e+" "+this.left+e};var Se=n(4942);function Le(){var e=["div",{type:"checkbox",name:"checkbox",class:["bp-item","bp-corner-all","bp-connector-label"]}];return{template:function(){return e},getHashCode:function(){return"defaultAnnotationLabelTemplate"},render:function(e,t){var n=t.context;Array.isArray(n.label)?(t.element.innerHTML="",t.element.appendChild(R.toHTML(n.label))):t.element.innerHTML=n.label}}}function Ie(e){var t=["div",{style:{position:"absolute"}}];return{template:function(){return t},getHashCode:function(){return"defaultButtonsTemplate"},render:function(e,t){var n=t.onButtonsRender;null!=n&&n(t)}}}function Ae(e,t){var n=["div",{style:{position:"absolute"}}];return{template:function(){return n},getHashCode:function(){return"customRenderTemplate"},render:function(e,n){null!=t&&t(n)}}}function Me(e){var t=["div",["label",["nobr",["input",{type:"checkbox",name:"checkbox",class:"bp-selectioncheckbox"}]," ",["span",{name:"selectiontext",class:"bp-selectiontext"},e]]]];return{template:function(){return t},getHashCode:function(){return"defaultCheckBoxTemplate"},render:function(e,t){var n=t.element.firstChild.firstChild.firstChild;n.checked=t.isSelected,n.setAttribute("data-id",t.id),t.element.firstChild.firstChild.childNodes[2].setAttribute("data-id",t.id)}}}function ze(e,t){var n,i=["div",{style:{width:(n=t).itemSize.width+n.cursorPadding.left+n.cursorPadding.right+"px",height:n.itemSize.height+n.cursorPadding.top+n.cursorPadding.bottom+"px",borderWidth:n.cursorBorderWidth+"px"},class:["bp-item","bp-corner-all","bp-cursor-frame"]}];return{template:function(){return i},getHashCode:function(){return"defaultCursorTemplate"},render:function(e,t){}}}function Re(e,t){var n=function(e){var t=e.minimizedItemCornerRadius;null==t&&(t=Math.max(e.highlightPadding.left+e.minimizedItemSize.width+e.highlightPadding.right,e.highlightPadding.top+e.minimizedItemSize.height+e.highlightPadding.bottom)+e.highlightBorderWidth);return["div",{style:{borderWidth:e.highlightBorderWidth+"px",MozBorderRadius:t+"px",WebkitBorderRadius:t+"px","-khtml-border-radius":t+"px",borderRadius:t+"px"},class:["bp-item","bp-highlight-dot-frame"]}]}(t);return{template:function(){return n},getHashCode:function(){return"defaultDotHighlightTemplate"},render:function(e,t){}}}function Ee(e){var t=null;switch(e){case r.a3.Center:t="center";break;case r.a3.Left:t="left";break;case r.a3.Right:t="right"}return t}function Fe(e){var t=null;switch(e){case r.Vn.Middle:t="middle";break;case r.Vn.Top:t="top";break;case r.Vn.Bottom:t="bottom"}return t}function Be(e){var t=null;switch(e){case r.SP.Solid:t="solid";break;case r.SP.Dotted:t="dotted";break;case r.SP.Dashed:t="dashed"}return t}function De(e){var t,n=e.orientation,i=e.textOrientation,o=e.horizontalAlignment,a=e.verticalAlignment,l=e.fontSize,s=e.fontFamily,u=e.fontWeight,h=e.fontStyle,c=e.label,d="";switch(i){case r.GE.Horizontal:break;case r.GE.RotateLeft:d="rotate(-90deg)";break;case r.GE.RotateRight:d="rotate(90deg)";break;case r.GE.Auto:switch(n){case r.F7.Top:case r.F7.Bottom:d="rotate(90deg)";case r.F7.Left:case r.F7.Right:}}var f={fontSize:l,fontFamily:s,fontWeight:u,fontStyle:h,position:"absolute",padding:0,margin:0,textAlign:Ee(o),lineHeight:1,"-webkit-transform-origin":"center center","-moz-transform-origin":"center center","-o-transform-origin":"center center","-ms-transform-origin":"center center","-webkit-transform":d,"-moz-transform":d,"-o-transform":d,"-ms-transform":d,transform:d,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",tableLayout:"fixed"};if(a===r.Vn.Top)t=["div",{style:f},c];else f.borderCollapse="collapse",t=["table",{style:f},["tbody",["tr",["td",{style:{verticalAlign:Fe(a),padding:0,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},c]]]];return t}function je(e){var t=e.element,n=e.orientation,i=e.textOrientation,o=e.verticalAlignment,a=e.width,l=e.height,s=e.label,u=e.fontColor,h={},c=!1;switch(i){case r.GE.RotateLeft:case r.GE.RotateRight:c=!0;break;case r.GE.Auto:switch(n){case r.F7.Top:case r.F7.Bottom:c=!0}}(h=(c?new j(Math.round(a/2-l/2),Math.round(l/2-a/2),l,a):new j(0,0,a,l)).getCSS()).maxWidth=h.width,h.maxHeight=h.height;var d,f=t.firstChild;if(R.applyStyles(f,h),o===r.Vn.Top)d=t.firstChild;else(d=t.firstChild.firstChild.firstChild.firstChild).style.borderCollapse="collapse";d.style.color=u,d.textContent=s||""}function _e(e){var t=e.groupTitleFontSize,n=e.groupTitleFontFamily,i=e.groupTitleFontWeight,o=e.groupTitleFontStyle,a=e.groupTitleColor,l=e.itemTitleFirstFontColor,s=e.itemTitleSecondFontColor,u=e.groupTitleOrientation,h=e.groupTitleHorizontalAlignment,c=e.groupTitleVerticalAlignment,d=["div",{style:{fontSize:t,fontFamily:n,fontWeight:i,fontStyle:o},class:["bp-item","bp-corner-all","bp-grouptitle-frame"]},De({orientation:r.F7.Horizontal,textOrientation:u,horizontalAlignment:h,verticalAlignment:c,fontSize:t,fontFamily:n,fontWeight:i,fontStyle:o})];return{template:function(){return d},getHashCode:function(){return"defaultGroupTitleTemplate"},render:function(e,t){var n=t.element,i=t.context,o=t.width,h=t.height,d=i.groupTitle,f=i.groupTitleColor||a,p=C(f,s,l);je({element:n,orientation:r.F7.Horizontal,textOrientation:u,verticalAlignment:c,width:o,height:h,label:d,fontColor:p}),R.applyStyles(t.element,{backgroundColor:f})}}}function Ne(e,t){var n=["div",{style:{borderWidth:t.highlightBorderWidth+"px"},class:["bp-item","bp-corner-all","bp-highlight-frame"]}];return{template:function(){return n},getHashCode:function(){return"defaultHighlightTemplate"},render:function(e,t){}}}function He(e,t){var n,i,o=(n=t,(i=new P.Z(n.itemSize)).width-=2*n.itemBorderWidth,i.height-=2*n.itemBorderWidth,["div",{style:{borderWidth:n.itemBorderWidth+"px"},class:["bp-item","bp-corner-all","bt-item-frame"]},["div",{name:"titleBackground",style:{top:"2px",left:"2px",width:i.width-4+"px",height:"18px"},class:["bp-item","bp-corner-all","bp-title-frame"]},["div",{name:"title",style:{top:"1px",left:"4px",width:i.width-4-8+"px",height:"16px"},class:["bp-item","bp-title"]}]],["div",{name:"photoBorder",style:{top:"24px",left:"2px",width:"50px",height:"60px"},class:["bp-item","bp-photo-frame"]},["img",{name:"photo",alt:"",style:{width:"50px",height:"60px"}}]],["div",{name:"description",style:{top:"24px",left:"56px",width:i.width-4-56+"px",height:"74px"},class:["bp-item","bp-description"]}]]);return{template:function(){return o},getHashCode:function(){return"defaultItemTemplate"},render:function(t,n){var i=n.context,o=null!=i.itemTitleColor?i.itemTitleColor:r.wL.RoyalBlue,a=C(o,e.itemTitleSecondFontColor,e.itemTitleFirstFontColor),l=n.element,s=l.firstChild,u=l.childNodes[1].firstChild,h=s.firstChild,c=l.childNodes[2];R.applyStyles(s,{backgroundColor:o}),u.src=i.image,u.alt=i.title,R.applyStyles(h,{color:a}),h.textContent=i.title,c.textContent=i.description}}}function Ve(e,t,n){var i=p(JSON.stringify(t));return{template:function(){return t},getHashCode:function(){return i},render:function(t,i){if(null!=n)n(t,i);else{var o=i.context,a=null!=o.itemTitleColor?o.itemTitleColor:r.wL.RoyalBlue,l=C(a,e.itemTitleSecondFontColor,e.itemTitleFirstFontColor);x(this,i.element,"photo",(function(e){e.src=o.image,e.alt=o.title})),x(this,i.element,"titleBackground",(function(e){R.applyStyles(e,{background:a})})),x(this,i.element,"title",(function(e){R.applyStyles(e,{color:l}),e.textContent=o.title})),x(this,i.element,"description",(function(e){e.textContent=o.description}))}}}}function Ge(){var e=["div",{class:["bp-item","bp-label-annotation"]}];return{template:function(){return e},getHashCode:function(){return"defaultLabelAnnotationTemplate"},render:function(e,t){var n=t.context;t.element.innerHTML=n.title}}}function We(e,t){var n=e.levelTitleFontSize,i=e.levelTitleFontFamily,o=e.levelTitleFontWeight,r=e.levelTitleFontStyle,a=e.levelTitleFontColor,l=e.levelTitleOrientation,s=e.levelTitleHorizontalAlignment,u=e.levelTitleVerticalAlignment,h=e.levelTitleColor,c=["div",{style:{fontSize:n,fontFamily:i,fontWeight:o,fontStyle:r},class:["bp-item","bp-corner-all"]},De({orientation:t,textOrientation:l,horizontalAlignment:s,verticalAlignment:u,fontSize:n,fontFamily:i,fontWeight:o,fontStyle:r})],d=p(JSON.stringify(c));return{template:function(){return c},getHashCode:function(){return d},render:function(e,n){var i=n.context,o=n.element,r=n.width,s=n.height,u=i.titleColor||h,c=i.title,d=i.titleFontColor||a;je({element:o,orientation:t,textOrientation:l,width:r,height:s,label:c,fontColor:d}),R.applyStyles(n.element,{backgroundColor:u})}}}function Ze(e,t){var n=["div"];return{template:function(){return n},getHashCode:function(){return"levelAnnotationBackgroundTemplate"},render:function(e,t){var n=t.context,i={opacity:n.opacity,borderColor:n.borderColor,backgroundColor:n.fillColor,borderWidth:n.lineWidth.toString(),borderStyle:Be(n.lineType)},o=t.element;R.applyStyles(o,i)}}}function qe(){var e={};return{register:function(t,n){return e[t]=n,n},resolve:function(){var t=[],n=arguments[0],i=arguments[1],o=arguments[2]||{};return function(){for(var r=Array.prototype.slice.call(arguments,0),a=0;a<n.length;a+=1){var l=n[a];t.push(e.hasOwnProperty(l)&&""!==l?e[l]:r.shift())}return t=t.concat(r),i.apply(o||{},t)}}}}function Ke(){var e=new oe,t=new qe,n=[];function i(e,t,n,i){this.name=e,this.dependencies=t,this.factory=n,this.task=null,this.color=i}return{addTask:function(t,o,r,a){if(n.length>0)throw"Task Manager is already initialized";e.add(o,t,new i(t,o,r,a))},addDependency:function(e,i){if(n.length>0)throw"Task Manager is already initialized";t.register(e,i)},getTask:function(t){var n=e.node(t);return n&&n.task},process:function(i,o,r){var a=!1,l=r;0===n.length&&e.loopTopo(this,(function(e,i){i.task=t.register(e,t.resolve(i.dependencies,i.factory)()),n.push(i)})),r&&console.log("-- process --");for(var s={},u=0,h=n.length;u<h;u+=1){var c=n[u],d=[];if(c.name==i||s.hasOwnProperty(c.name)){if(l)var f=performance.now();if((a=c.task.process(r))&&e.loopChildren(this,c.name,(function(t,n){return s[t]=!0,r&&d.push(t),e.SKIP})),l)var p=performance.now();if(r){var m=Math.round(p-f,2);console.log(u+". "+c.name+", "+m+" ms. "+(a?" - forces: "+d.toString():""))}}if(c.name==o)return}},getProcessDiagramConfig:function(){var i=[];0===n.length&&e.loopTopo(this,(function(e,i){i.task=t.register(e,t.resolve(i.dependencies,i.factory)()),n.push(i)}));for(var o=0,r=n.length;o<r;o+=1){var a=n[o],l={id:a.name,title:u(a.name).join(" "),description:a.task.description||"",itemTitleColor:a.color,parents:[]};e.loopParents(this,a.name,(function(t,n){return l.parents.push(t),e.SKIP})),i.push(l)}return i}}}function Xe(e){return{process:function(){return!0},getOptions:e,description:"Raw options."}}function Ye(e,t,n,i,o){this.itemTemplate=e,this.containsUniqueItems=t,this.uniquePropertyKey=n,this.containsPrimitiveValues=l(n),this.createSourceHash=i,this.isOrdered=o}function Ue(e,t,n){this.acceptedTypes=e,this.isNullable=t,this.defaultValue=n,this.hash={};for(var i=0;i<e.length;i+=1){var o=e[i];this.hash[o]=!0}}function Je(e,t,n){this.dataTemplate=e,this.isNullable=t,this.defaultValue=n}function Qe(e,t,n){for(var i in this.enumeration=e,this.isNullable=t,this.defaultValue=n,this.hash={},e)this.hash[e[i]]=i}function $e(e,t,n){var i={},o={},a=new Je({calloutMaximumVisibility:new Qe(r.EE,!1,t.calloutMaximumVisibility),showCallout:new Ue(["boolean"],!1,t.showCallout),calloutPlacementOffset:new Ue(["number"],!1,t.calloutPlacementOffset),orientationType:new Qe(r.F7,!1,t.orientationType),defaultTemplateName:new Ue(["string"],!0),defaultCalloutTemplateName:new Ue(["string"],!0),calloutfillColor:new Ue(["string"],!1,t.calloutfillColor),calloutBorderColor:new Ue(["string"],!0),calloutOffset:new Ue(["number"],!1,t.calloutOffset),calloutCornerRadius:new Ue(["string"],!1,t.calloutCornerRadius),calloutPointerWidth:new Ue(["string"],!1,t.calloutPointerWidth),calloutLineWidth:new Ue(["number"],!1,t.calloutLineWidth),calloutOpacity:new Ue(["number"],!1,t.calloutOpacity),items:new Ye(new Je({id:new Ue(["string","number"],!0),showCallout:new Qe(r.xB,!1,t.showCallout),calloutTemplateName:new Ue(["string"],!0),templateName:new Ue(["string"],!0)}),!0,"id")});return{process:function(){var t={isChanged:!1,hash:o};return i=a.read(i,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return i},getItemOptions:function(e){return o["options-items"][e]},description:"Checks item callout options."}}function et(e,t){var n={},i={},o=new Je({arrowsDirection:new Qe(r.zX,!1,t.arrowsDirection),showExtraArrows:new Ue(["boolean"],!1,t.showExtraArrows),extraArrowsMinimumSpace:new Ue(["number"],!1,t.extraArrowsMinimumSpace),connectorType:new Qe(r.r7,!1,t.hasOwnProperty("connectorType")?t.connectorType:r.r7.Squared),showNeigboursConnectorsHighlighted:new Qe(r.r7,!1,!!t.hasOwnProperty("showNeigboursConnectorsHighlighted")&&t.showNeigboursConnectorsHighlighted),elbowType:new Qe(r.ex,!1,t.elbowType),bevelSize:new Ue(["number"],!1,t.bevelSize),elbowDotSize:new Ue(["number"],!1,t.elbowDotSize),linesColor:new Ue(["string"],!1,t.linesColor),linesWidth:new Ue(["number"],!1,t.linesWidth),linesType:new Qe(r.SP,!1,t.linesType),highlightLinesColor:new Ue(["string"],!1,t.highlightLinesColor),highlightLinesWidth:new Ue(["number"],!1,t.highlightLinesWidth),highlightLinesType:new Qe(r.SP,!1,t.highlightLinesType)});return{process:function(){var t={isChanged:!1,hash:i};return n=o.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n},description:"Checks connector lines drawing options."}}function tt(e,t){var n={},i={},o={},a=new Je({items:new Ye(new Je({id:new Ue(["string","number"],!0),parent:new Ue(["string","number"],!0),itemType:new Qe(r.qG,!1,t.itemType),adviserPlacementType:new Qe(r.hZ,!1,t.adviserPlacementType),childrenPlacementType:new Qe(r.X9,!1,t.childrenPlacementType),placeAdvisersAboveChildren:new Qe(r.xB,!1,t.placeAdvisersAboveChildren),placeAssistantsAboveChildren:new Qe(r.xB,!1,t.placeAssistantsAboveChildren),isVisible:new Ue(["boolean"],!1,t.isVisible),isActive:new Ue(["boolean"],!1,t.isActive),levelOffset:new Ue(["number"],!1,null)}),!0,"id",!0,!0)});return{process:function(){var t={isChanged:!1,hash:i,sourceHash:o};return n=a.read(n,e.getOptions(),"options",t),t.isChanged},getItems:function(){return n.items},getConfig:function(e){return o["options-items"][e]},description:"Checks items configuration options effecting their placement in layout."}}function nt(e,t){var n={},i={},o={},r=new Je({items:new Ye(new Je({id:new Ue(["string","number"],!0),title:new Ue(["string"],!0),description:new Ue(["string"],!0),image:new Ue(["string"],!0),context:new Ue(["string","number","object"],!0),itemTitleColor:new Ue(["string"],!1,t.itemTitleColor),groupTitle:new Ue(["string"],!1,t.groupTitle),groupTitleColor:new Ue(["string"],!1,t.groupTitleColor)}),!0,"id",!0,!0)});return{process:function(){var t={isChanged:!1,hash:i,sourceHash:o};return n=r.read(n,e.getOptions(),"options",t),t.isChanged},getItems:function(){return n.items},getConfig:function(e){return o["options-items"][e]},description:"Checks items configuration options effecting their placement in layout."}}function it(){}function ot(e,t,n){var i={},o={},a=new Je({defaultTemplateName:new Ue(["string"],!0),defaultLabelAnnotationTemplate:new Ue(["string"],!0),hasSelectorCheckbox:new Qe(r.xB,!1,t.hasSelectorCheckbox),hasButtons:new Qe(r.xB,!1,t.hasButtons),buttonsPanelSize:new Ue(["number"],!1,t.buttonsPanelSize),groupTitlePanelSize:new Ue(["number"],!1,t.groupTitlePanelSize),groupTitlePlacementType:new Qe(r.hZ,!1,t.groupTitlePlacementType),checkBoxPanelSize:new Ue(["number"],!1,t.checkBoxPanelSize),selectCheckBoxLabel:new Ue(["string"],!1,t.selectCheckBoxLabel),onButtonsRender:new it,pageFitMode:new Qe(r.sj,!1,t.pageFitMode),padding:new Je({left:new Ue(["number"],!1,t.padding.left),top:new Ue(["number"],!1,t.padding.top),right:new Ue(["number"],!1,t.padding.right),bottom:new Ue(["number"],!1,t.padding.bottom)},!1,t.padding),minimalVisibility:new Qe(r.EE,!1,t.minimalVisibility),selectionPathMode:new Qe(r.lz,!1,t.selectionPathMode),autoSizeMinimum:new Je({width:new Ue(["number"],!1,t.autoSizeMinimum.width),height:new Ue(["number"],!1,t.autoSizeMinimum.height)},!1,t.autoSizeMinimum),autoSizeMaximum:new Je({width:new Ue(["number"],!1,t.autoSizeMaximum.width),height:new Ue(["number"],!1,t.autoSizeMaximum.height)},!1,t.autoSizeMaximum),scale:new Ue(["number"],!1,t.scale),maximumScale:new Ue(["number"],!1,t.maximumScale),minimumScale:new Ue(["number"],!1,t.minimumScale),normalLevelShift:new Ue(["number"],!1,t.normalLevelShift),dotLevelShift:new Ue(["number"],!1,t.dotLevelShift),lineLevelShift:new Ue(["number"],!1,t.lineLevelShift),normalItemsInterval:new Ue(["number"],!1,t.normalItemsInterval),dotItemsInterval:new Ue(["number"],!1,t.dotItemsInterval),lineItemsInterval:new Ue(["number"],!1,t.lineItemsInterval),cousinsIntervalMultiplier:new Ue(["number"],!1,t.cousinsIntervalMultiplier),verticalAlignment:new Qe(r.Vn,!1,t.verticalAlignment),items:new Ye(new Je({id:new Ue(["string","number"],!0),groupTitle:new Ue(["string","number"],!0),isVisible:new Ue(["boolean","number"],!1,n.isVisible),isActive:new Ue(["boolean","number"],!1,n.isActive),hasSelectorCheckbox:new Qe(r.xB,!1,n.hasSelectorCheckbox),hasButtons:new Qe(r.xB,!1,n.hasButtons),templateName:new Ue(["string"],!0)}),!0,"id")});return{process:function(){var t={isChanged:!1,hash:o};return i=a.read(i,e.getOptions(),"options",t),t.isChanged},getItemOptions:function(e){return o["options-items"][e]},getOptions:function(){return i},description:"Checks items size options."}}function rt(e,t){var n={},i={},o=new Je({pageFitMode:new Qe(r.sj,!1,t.pageFitMode),minimalVisibility:new Qe(r.EE,!1,t.minimalVisibility),minimumVisibleLevels:new Ue(["number"],!1,t.minimumVisibleLevels)});return{process:function(){var t={isChanged:!1,hash:i};return n=o.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n},description:"Checks minimum visible levels options."}}function at(e,t,n){var i={},o={},a=new Je({showLabels:new Qe(r.xB,!1,t.showLabels),labelOffset:new Ue(["number"],!1,t.labelOffset),labelFontSize:new Ue(["string"],!1,t.labelFontSize),labelFontFamily:new Ue(["string"],!1,t.labelFontFamily),labelFontStyle:new Ue(["string"],!1,t.labelFontStyle),labelFontWeight:new Ue(["string"],!1,t.labelFontWeight),labelColor:new Ue(["string"],!1,t.labelColor),labelSize:new Je({width:new Ue(["number"],!1,t.labelSize.width),height:new Ue(["number"],!1,t.labelSize.height)},!1,t.labelSize),labelOrientation:new Qe(r.GE,!1,t.labelOrientation),labelPlacement:new Qe(r.TK,!1,t.labelPlacement),arrowsDirection:new Qe(r.zX,!1,t.arrowsDirection),items:new Ye(new Je({id:new Ue(["string","number"],!0),label:new Ue(["string","number","object"],!0),showLabel:new Qe(r.xB,!1,n.showLabel),labelSize:new Je({width:new Ue(["number"],!1,0),height:new Ue(["number"],!1,0)},!0),labelOrientation:new Qe(r.GE,!1,n.labelOrientation),labelPlacement:new Qe(r.TK,!1,n.labelPlacement)}),!0,"id")});return{process:function(){var t={isChanged:!1,hash:o};return i=a.read(i,e.getOptions(),"options",t),t.isChanged},getItemOptions:function(e){return o["options-items"][e]},getItemsOptions:function(){return o["options-items"]},getOptions:function(){return i},description:"Checks items labels options."}}function lt(e,t,n){var i={},o={},a=new Je({groupTitleVerticalAlignment:new Qe(r.Vn,!1,t.groupTitleVerticalAlignment),groupTitleHorizontalAlignment:new Qe(r.a3,!1,t.groupTitleHorizontalAlignment),groupTitleOrientation:new Qe(r.GE,!1,t.groupTitleOrientation),groupTitleFontSize:new Ue(["string"],!1,t.groupTitleFontSize),groupTitleFontFamily:new Ue(["string"],!1,t.groupTitleFontFamily),groupTitleColor:new Ue(["string"],!1,t.groupTitleColor),groupTitleFontWeight:new Ue(["string"],!1,t.groupTitleFontWeight),groupTitleFontStyle:new Ue(["string"],!1,t.groupTitleFontStyle),itemTitleFirstFontColor:new Ue(["string"],!1,t.itemTitleFirstFontColor),itemTitleSecondFontColor:new Ue(["string"],!1,t.itemTitleSecondFontColor),selectCheckBoxLabel:new Ue(["string"],!1,t.selectCheckBoxLabel),onItemRender:new it,onCursorRender:new it,onHighlightRender:new it,onGroupTitleRender:new it,templates:new Ye(new Je({name:new Ue(["string"],!0),isActive:new Ue(["boolean"],!1,n.isActive),itemSize:new Je({width:new Ue(["number"],!1,n.itemSize.width),height:new Ue(["number"],!1,n.itemSize.height)},!1,n.itemSize),itemBorderWidth:new Ue(["number"],!1,n.itemBorderWidth),itemTemplate:new Ue(["string","object"],!0),minimizedItemShapeType:new Qe(r.DY,!0),minimizedItemSize:new Je({width:new Ue(["number"],!1,n.minimizedItemSize.width),height:new Ue(["number"],!1,n.minimizedItemSize.height)},!1,n.minimizedItemSize),minimizedItemCornerRadius:new Ue(["number"],!0),minimizedItemLineWidth:new Ue(["number"],!1,n.minimizedItemLineWidth),minimizedItemBorderColor:new Ue(["string"],!0),minimizedItemLineType:new Qe(r.SP,!1,n.minimizedItemLineType),minimizedItemFillColor:new Ue(["string"],!0),minimizedItemOpacity:new Ue(["number"],!1,n.minimizedItemOpacity),highlightPadding:new Je({left:new Ue(["number"],!1,n.highlightPadding.left),top:new Ue(["number"],!1,n.highlightPadding.top),right:new Ue(["number"],!1,n.highlightPadding.right),bottom:new Ue(["number"],!1,n.highlightPadding.bottom)},!1,n.highlightPadding),highlightBorderWidth:new Ue(["number"],!1,n.highlightBorderWidth),highlightTemplate:new Ue(["string","object"],!0),cursorPadding:new Je({left:new Ue(["number"],!1,n.cursorPadding.left),top:new Ue(["number"],!1,n.cursorPadding.top),right:new Ue(["number"],!1,n.cursorPadding.right),bottom:new Ue(["number"],!1,n.cursorPadding.bottom)},!1,n.cursorPadding),cursorBorderWidth:new Ue(["number"],!1,n.cursorBorderWidth),cursorTemplate:new Ue(["string","object"],!0),hasButtons:new Qe(r.xB,!1,n.hasButtons),onButtonsRender:new it}),!0,"name")});return{process:function(){var t={isChanged:!1,hash:o};return i=a.read(i,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return i},description:"Checks items template options."}}function st(e,t){var n={},i={},o=new Je({orientationType:new Qe(r.F7,!1,t.orientationType)});return{process:function(){var t={isChanged:!1,hash:i};return n=o.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n},description:"Checks diagram orientation options."}}function ut(e,t){var n={},i={},o=new Je({alignBranches:new Ue(["boolean"],!1,t.alignBranches),leavesPlacementType:new Qe(r.X9,!1,t.leavesPlacementType),childrenPlacementType:new Qe(r.X9,!1,t.childrenPlacementType),placeAdvisersAboveChildren:new Ue(["boolean"],!1,t.placeAdvisersAboveChildren),placeAssistantsAboveChildren:new Ue(["boolean"],!1,t.placeAssistantsAboveChildren),maximumColumnsInMatrix:new Ue(["number"],!1,t.maximumColumnsInMatrix),horizontalAlignment:new Qe(r.a3,!1,t.horizontalAlignment)});return{process:function(){var t={isChanged:!1,hash:i};return n=o.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n},description:"Checks items layout options."}}function ht(e){var t={},n={},i=new Je({minimizedItemShapeType:new Qe(r.DY,!0),items:new Ye(new Je({id:new Ue(["string","number"],!0),minimizedItemShapeType:new Qe(r.DY,!0),itemTitleColor:new Ue(["string"],!0)}),!0,"id")});return{process:function(){var o={isChanged:!1,hash:n};return t=i.read(t,e.getOptions(),"options",o),o.isChanged},getItemOptions:function(e){return n["options-items"][e]},getOptions:function(){return t},description:"Checks minimized items drawing options."}}function ct(e,t){var n={},i=new Je({cursorItem:new Ue(["string","number"],!0),navigationMode:new Qe(r.vt,!1,t.navigationMode)});return{process:function(){var t={isChanged:!1};return n=i.read(n,e.getOptions(),"options",t),t.isChanged},getCursorItem:function(){return n.cursorItem},hasCursorEnabled:function(){switch(n.navigationMode){case r.vt.Default:case r.vt.CursorOnly:return!0}return!1},description:"Checks currenct cursor item option."}}function dt(e,t){var n={},i=new Je({highlightItem:new Ue(["string","number"],!0),navigationMode:new Qe(r.vt,!1,t.navigationMode),highlightGravityRadius:new Ue(["number"],!1,t.highlightGravityRadius)});return{process:function(){var t={isChanged:!1};return n=i.read(n,e.getOptions(),"options",t),t.isChanged},getHighlightItem:function(){return n.highlightItem},hasHighlightEnabled:function(){switch(n.navigationMode){case r.vt.Default:case r.vt.HighlightOnly:return!0}return!1},getGravityRadius:function(){return n.highlightGravityRadius},description:"Checks highlight item option."}}function ft(e){var t={},n={},i=new Je({selectedItems:new Ye(new Ue(["string","number"],!0),!0)});return{process:function(){var o={isChanged:!1,hash:n},r=e.getOptions();return t=i.read(t,r,"options",o),o.isChanged},getSelectedItems:function(){return t.selectedItems},description:"Checks user selected items option."}}function pt(e,t){var n={},i=new Je({selectionPathMode:new Qe(r.lz,!1,t.selectionPathMode)});return{process:function(){var t={isChanged:!1};return n=i.read(n,e.getOptions(),"options",t),t.isChanged},getSelectionPathMode:function(){return n.selectionPathMode},description:"Checks cursor selection path option."}}function mt(e){var t={annotations:{}};return{process:function(){var n,i,o,a,l,s,u=e.getOptions().annotations,h={};if(Array.isArray(u))for(n=0,i=u.length;n<i;n+=1){switch(a=(o=u[n]).annotationType){case r.JJ.Shape:case r.JJ.Connector:case r.JJ.HighlightPath:switch(o.zOrderType){case r.k0.Background:l=r.k0.Background;break;case r.k0.Foreground:case r.k0.Auto:default:l=r.k0.Foreground}break;case r.JJ.Background:case r.JJ.Label:default:l=null}null!=a&&(s=1e3*a+(l||0),h.hasOwnProperty(s)||(h[s]=[]),h[s].push(o))}return t.annotations=h,!0},getAnnotations:function(e,n){var i=1e3*e+(n||0);return t.annotations[i]}}}function gt(e,t,n){var i=[],o={},a=new Ye(new Je({zOrderType:new Qe(r.k0,!1,t.zOrderType),items:new Ye(new Ue(["string","number"],!0),!0),shapeType:new Qe(r.DY,!1,t.shapeType),offset:new Je({left:new Ue(["number"],!1,t.offset.left),top:new Ue(["number"],!1,t.offset.top),right:new Ue(["number"],!1,t.offset.right),bottom:new Ue(["number"],!1,t.offset.bottom)},!1,t.offset),lineWidth:new Ue(["number"],!1,t.lineWidth),cornerRadius:new Ue(["string"],!1,t.cornerRadius),opacity:new Ue(["number"],!1,t.opacity),borderColor:new Ue(["string"],!1,t.borderColor),fillColor:new Ue(["string"],!1,t.fillColor),lineType:new Qe(r.SP,!1,t.lineType),selectItems:new Ue(["boolean"],!1,t.selectItems),label:new Ue(["string","object"],!1,t.label),labelSize:new Je({width:new Ue(["number"],!1,t.labelSize.width),height:new Ue(["number"],!1,t.labelSize.height)},!1,t.labelSize),labelPlacement:new Qe(r.TK,!1,t.labelPlacement),labelOffset:new Ue(["number"],!1,t.labelOffset)},!1));return{process:function(){var t={isChanged:!1,hash:o};return i=a.read(i,e.getAnnotations(r.JJ.Shape,n),"annotations",t),t.isChanged},getAnnotations:function(){return i}}}function yt(e,t,n){var i=[],o={},a=new Ye(new Je({zOrderType:new Qe(r.k0,!1,t.zOrderType),lineWidth:new Ue(["number"],!1,t.lineWidth),opacity:new Ue(["number"],!1,t.opacity),color:new Ue(["string"],!1,t.color),lineType:new Qe(r.SP,!1,t.lineType),items:new Ye(new Ue(["string","number"],!0),!1),selectItems:new Ue(["boolean"],!1,t.selectItems),showArrows:new Ue(["boolean"],!1,t.showArrows)},!1));return{process:function(){var t={isChanged:!1,hash:o};return i=a.read(i,e.getAnnotations(r.JJ.HighlightPath,n),"annotations",t),t.isChanged},getAnnotations:function(){return i}}}function vt(e,t,n){var i=[],o={},a=new Ye(new Je({zOrderType:new Qe(r.k0,!1,t.zOrderType),fromItem:new Ue(["string","number"],!0),toItem:new Ue(["string","number"],!0),connectorShapeType:new Qe(r.DY,!1,t.connectorShapeType),connectorPlacementType:new Qe(r.$I,!1,t.connectorPlacementType),labelPlacementType:new Qe(r.xj,!1,t.labelPlacementType),offset:new Je({left:new Ue(["number"],!1,t.offset.left),top:new Ue(["number"],!1,t.offset.top),right:new Ue(["number"],!1,t.offset.right),bottom:new Ue(["number"],!1,t.offset.bottom)},!1,t.offset),lineWidth:new Ue(["number"],!1,t.lineWidth),color:new Ue(["string"],!1,t.color),lineType:new Qe(r.SP,!1,t.lineType),selectItems:new Ue(["boolean"],!1,t.selectItems),label:new Ue(["string","object"],!1,t.label),labelSize:new Je({width:new Ue(["number"],!1,t.labelSize.width),height:new Ue(["number"],!1,t.labelSize.height)},!1,t.labelSize)}),!1);return{process:function(){var t={isChanged:!1,hash:o};return i=a.read(i,e.getAnnotations(r.JJ.Connector,n),"annotations",t),t.isChanged},getAnnotations:function(){return i}}}function Tt(e,t){var n=[],i={},o=new Ye(new Je({items:new Ye(new Ue(["string","number"],!0),!0),includeChildren:new Ue(["boolean"],!1,t.includeChildren),zOrderType:new Qe(r.k0,!1,t.zOrderType),offset:new Je({left:new Ue(["number"],!1,t.offset.left),top:new Ue(["number"],!1,t.offset.top),right:new Ue(["number"],!1,t.offset.right),bottom:new Ue(["number"],!1,t.offset.bottom)},!1,t.offset),lineWidth:new Ue(["number"],!1,t.lineWidth),opacity:new Ue(["number"],!1,t.opacity),borderColor:new Ue(["string"],!1,t.borderColor),fillColor:new Ue(["string"],!1,t.fillColor),lineType:new Qe(r.SP,!1,t.lineType),selectItems:new Ue(["boolean"],!1,t.selectItems)}),!1);return{process:function(){var t={isChanged:!1,hash:i};return n=o.read(n,e.getAnnotations(r.JJ.Background,null),"annotations",t),t.isChanged},getAnnotations:function(){return n}}}function wt(e,t){var n=[],i={},o=new Ye(new Je({levels:new Ye(new Ue(["string","number"],!0),!0),title:new Ue(["string"],!0),titleFontColor:new Ue(["string"],!0),titleColor:new Ue(["string"],!0),offset:new Je({left:new Ue(["number"],!1,t.offset.left),top:new Ue(["number"],!1,t.offset.top),right:new Ue(["number"],!1,t.offset.right),bottom:new Ue(["number"],!1,t.offset.bottom)},!1,t.offset),lineWidth:new Je({left:new Ue(["number"],!1,t.lineWidth.left),top:new Ue(["number"],!1,t.lineWidth.top),right:new Ue(["number"],!1,t.lineWidth.right),bottom:new Ue(["number"],!1,t.lineWidth.bottom)},!1,t.lineWidth),opacity:new Ue(["number"],!1,t.opacity),borderColor:new Ue(["string"],!0),fillColor:new Ue(["string"],!1,t.fillColor),lineType:new Qe(r.SP,!1,t.lineType)}),!1);return{process:function(){var t={isChanged:!1,hash:i};return n=o.read(n,e.getAnnotations(r.JJ.Level,null),"annotations",t),t.isChanged},getAnnotations:function(){return n},description:"Collects Level Annotations"}}function bt(e,t){var n={},i={},o=new Je({scale:new Ue(["number"],!1,t.scale),minimumScale:new Ue(["number"],!1,t.minimumScale),maximumScale:new Ue(["number"],!1,t.maximumScale)});return{process:function(){var t={isChanged:!1,hash:i};return n=o.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n},description:"Checks control scale options."}}function kt(e,t){var n={},i={},o=new Je({showFrame:new Ue(["boolean"],!1,t.showFrame),frameInnerPadding:new Je({left:new Ue(["number"],!1,t.frameInnerPadding.left),top:new Ue(["number"],!1,t.frameInnerPadding.top),right:new Ue(["number"],!1,t.frameInnerPadding.right),bottom:new Ue(["number"],!1,t.frameInnerPadding.bottom)},!1,t.frameInnerPadding),frameOuterPadding:new Je({left:new Ue(["number"],!1,t.frameOuterPadding.left),top:new Ue(["number"],!1,t.frameOuterPadding.top),right:new Ue(["number"],!1,t.frameOuterPadding.right),bottom:new Ue(["number"],!1,t.frameOuterPadding.bottom)},!1,t.frameOuterPadding)});return{process:function(){var t={isChanged:!1,hash:i};return n=o.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n},description:"Checks frame options."}}function Ct(e,t){var n={},i={},o=new Je({levelTitlePlaceInside:new Ue(["boolean"],!1,t.levelTitlePlaceInside),levelTitlePanelSize:new Ue(["number"],!1,t.levelTitlePanelSize),levelTitlePlacementType:new Qe(r.hZ,!1,t.levelTitlePlacementType)});return{process:function(){var t={isChanged:!1,hash:i};return n=o.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n},description:"Level annotation title placement options."}}function Ot(e,t){var n={},i={},o=new Je({levelTitleOrientation:new Qe(r.GE,!1,t.levelTitleOrientation),levelTitleVerticalAlignment:new Qe(r.Vn,!1,t.levelTitleVerticalAlignment),levelTitleHorizontalAlignment:new Qe(r.a3,!1,t.levelTitleHorizontalAlignment),levelTitleFontSize:new Ue(["string"],!1,t.levelTitleFontSize),levelTitleFontFamily:new Ue(["string"],!1,t.levelTitleFontFamily),levelTitleFontColor:new Ue(["string"],!1,t.levelTitleFontColor),levelTitleColor:new Ue(["string"],!1,t.levelTitleColor),levelTitleFontWeight:new Ue(["string"],!1,t.levelTitleFontWeight),levelTitleFontStyle:new Ue(["string"],!1,t.levelTitleFontStyle),onLevelTitleRender:new it,onLevelBackgroundRender:new it});return{process:function(){var t={isChanged:!1,hash:i};return n=o.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n},description:"Level annotation title template options."}}function Pt(e,t){return{process:function(){return!0},getConfig:function(n){return e.getConfig(n)||null!=t&&t.getConfig(n)}}}function xt(e){var t,n,i;this.id=null,this.isVisible=!0,this.isActive=!0,this.itemType=r.qG.Regular,this.adviserPlacementType=r.hZ.Auto,this.childrenPlacementType=r.X9.Auto,this.placeAdvisersAboveChildren=r.xB.Auto,this.placeAssistantsAboveChildren=r.xB.Auto,this.levelOffset=null,this.level=null,this.hideParentConnection=!1,this.hideChildrenConnection=!1,this.childIndex=null;var o=["id","parent","isVisible","isActive","itemType","adviserPlacementType","childrenPlacementType","placeAdvisersAboveChildren","placeAssistantsAboveChildren","levelOffset"];for(t=0,n=o.length;t<n;t+=1)i=o[t],e.hasOwnProperty(i)&&(this[i]=e[i])}function St(e){var t={orgTree:null,maximumId:null};return{process:function(){return function(e){var n,i,o,a,l,s,u,h=0,c=$();for(a=0,l=e.length;a<l;a+=1)null!=(o=e[a]).id&&(n=new xt(o),s=parseInt(o.id,10),h=Math.max(isNaN(s)?0:s,h),c.add(o.parent,n.id,n));h+=1,(u=new pe).id=h,u.title="internal root",u.isVisible=!1,u.isActive=!1,(i=new xt(u)).hideParentConnection=!0,i.hideChildrenConnection=!0,i.childrenPlacementType=r.X9.Horizontal,c.add(null,i.id,i),c.loopLevels(this,(function(e,t,n){if(n>0)return c.BREAK;i.id!=e&&(c.adopt(i.id,e),t.itemType=r.qG.Regular)})),function(e){e.loopLevels(this,(function(t,n,i){var o=!0;return n.isVisible?e.SKIP:(e.loopChildren(this,t,(function(e,t,n){if(t.itemType!=r.qG.Regular)return o=!1,!0})),o?(n.hideChildrenConnection=!0,void e.loopChildren(this,t,(function(e,t,n){t.hideParentConnection=!0}))):e.SKIP)}))}(c),t.orgTree=c,t.maximumId=h}(e.getItems()),!0},getOrgTree:function(){return t.orgTree},getMaximumId:function(){return t.maximumId}}}function Lt(e,t,n,i,o){this.templateConfig=e,this.itemTemplate=t,this.highlightTemplate=n,this.dotHighlightTemplate=i,this.cursorTemplate=o}function It(e,t){var n={templates:{},itemTemplates:[]},i="DefaultWidgetTemplate",o="DefaultWidgetLabelAnnotationTemplate";return{process:function(){var i,r,a,s=e.getOptions(),u=s.templates;for(n.templates={},n.itemTemplates=[],a=new xe,n.templates.DefaultWidgetTemplate=new Lt(a,new t.ItemTemplate(s,a),new t.HighlightTemplate(s,a),new t.DotHighlightTemplate(s,a),new t.CursorTemplate(s,a)),n.itemTemplates.push(n.templates.DefaultWidgetTemplate),a=function(e){var t=new xe;return t.name=e,t.isActive=!1,t.itemSize=new P.Z(100,20),t.minimizedItemSize=new P.Z(0,0),t.minimizedItemCornerRadius=t.minimizedItemSize.width/2,t}(o),n.templates.DefaultWidgetLabelAnnotationTemplate=new Lt(a,new t.LabelAnnotationTemplate,null,new t.DotHighlightTemplate(s,a),null),i=0,r=u.length;i<r;i+=1)a=u[i],n.templates[a.name]=new Lt(a,l(a.itemTemplate)?new t.ItemTemplate(s,a):new t.UserTemplate(s,a.itemTemplate,s.onItemRender),l(a.highlightTemplate)?new t.HighlightTemplate(s,a):new t.UserTemplate(s,a.highlightTemplate,s.onHighlightRender),new t.DotHighlightTemplate(s,a),l(a.cursorTemplate)?new t.CursorTemplate(s,a):new t.UserTemplate(s,a.cursorTemplate,s.onCursorRender)),n.itemTemplates.push(n.templates[a.name]);return!0},getTemplate:function(e,t,i){return n.templates[e]||n.templates[t]||n.templates[i]},getItemTemplates:function(){return n.itemTemplates},DefaultWidgetTemplateName:i,DefaultWidgetLabelAnnotationTemplateName:o}}function At(e,t){var n={items:[]},i={},o=new Ye(new Ue(["string","number"],!0),!0);return{process:function(){var r={isChanged:!1,hash:i},a=e.getOptions(),l=a.items;return n.items=o.read(n.items,function(e,n){var i,o,r=[];for(i=0,o=n.length;i<o;i+=1){var a=n[i],l=t.getTemplate(a.templateName,e.defaultTemplateName,t.DefaultWidgetTemplateName).templateConfig;a.isActive&&l.isActive&&r.push(a.id)}return r}(a,l),"items",r),r.isChanged},getActiveItems:function(){return i.items}}}function Mt(){this.template=null,this.isActive=!1,this.hasSelectorCheckbox=!1,this.hasButtons=!1,this.hasGroupTitle=!1,this.onButtonsRender=null}function zt(e,t,n){var i={items:{}};function o(e,t,n){var i=!1;switch(t){case r.xB.Auto:switch(n){case r.xB.Auto:i=e;break;case r.xB.True:i=!0;break;case r.xB.False:i=!1}break;case r.xB.True:i=!0;break;case r.xB.False:i=!1}return i}return{process:function(){var a,s,u=e.getOptions(),h=t.getCursorItem(),c=u.items;for(i.items={},a=0,s=c.length;a<s;a+=1){var d=c[a],f=new Mt,p=h==d.id,m=n.getTemplate(d.templateName,u.defaultTemplateName,n.DefaultWidgetTemplateName),g=m.templateConfig,y=null!=u.onButtonsRender||null!=g.onButtonsRender;f.template=m,f.isActive=d.isActive&&g.isActive,f.isActive&&(f.hasSelectorCheckbox=o(p,d.hasSelectorCheckbox,u.hasSelectorCheckbox),f.hasButtons=g.hasButtons!==r.xB.Auto?g.hasButtons==r.xB.True:y&&o(p,d.hasButtons,u.hasButtons),f.hasButtons&&(f.onButtonsRender=g.onButtonsRender||u.onButtonsRender)),f.hasGroupTitle=!l(d.groupTitle),i.items[d.id]=f}return!0},getTemplateParams:function(e){return i.items[e]}}}function Rt(e,t){var n={template:null};return{process:function(){return n.template=null,!0},getTemplate:function(){var i;if(null==n.template){var o=(i=e.getOptions()).onGroupTitleRender;n.template=null!=o?new t.CustomRenderTemplate(i,o):new t.GroupTitleTemplate(i)}return n.template}}}function Et(e,t){var n={template:null};return{process:function(){return n.template=null,!0},getTemplate:function(){var i;return null==n.template&&(i=e.getOptions(),n.template=new t.CheckBoxTemplate(i.selectCheckBoxLabel)),n.template}}}function Ft(e,t){var n={template:null};return{process:function(){return!1},getTemplate:function(){return null==n.template&&(n.template=new t.ButtonsTemplate),n.template}}}function Bt(e,t){var n={template:null};return{process:function(){return!1},getTemplate:function(){return null==n.template&&(n.template=new t.AnnotationLabelTemplate),n.template}}}function Dt(e,t,n){var i={backgroundTemplate:null,titleTemplate:null};return{process:function(){return i.backgroundTemplate=null,i.titleTemplate=null,!0},getBackgroundTemplate:function(){var e;if(null==i.backgroundTemplate){var o=(e=t.getOptions()).onLevelBackgroundRender;i.backgroundTemplate=null!=o?new n.CustomRenderTemplate(e,o):new n.LevelBackgroundTemplate(e)}return i.backgroundTemplate},getTitleTemplate:function(){var o;if(null==i.titleTemplate){var r=e.getOptions().orientationType,a=(o=t.getOptions()).onLevelTitleRender;i.titleTemplate=null!=a?new n.CustomRenderTemplate(o,a):new n.LevelTitleTemplate(o,r)}return i.titleTemplate}}}Ye.prototype.read=function(e,t,n,i){var o,r,a,l,s,u,h,c=[],d={},f={},p={},m=n+"-seq";for(t&&Array.isArray(t)||(t=[]),o=i.hash.hasOwnProperty(n)?i.hash[n]:{},r=i.hash.hasOwnProperty(m)?i.hash[m]:{},s=0,u=t.length;s<u;s+=1)a=t[s],l=this.containsUniqueItems?this.containsPrimitiveValues?a:a[this.uniquePropertyKey]:s,d.hasOwnProperty(l)||(h=this.itemTemplate.read(o.hasOwnProperty(l)?o[l]:{},a,n+"-"+s,i),c.push(h),d[l]=h,f[s]=l,this.createSourceHash&&(p[l]=a),this.isOrdered&&r[s]!=f[s]&&(i.isChanged=!0));return i.hash[n]=d,i.hash[m]=f,this.createSourceHash&&(i.sourceHash[n]=p),null!=e&&e.length==c.length||(i.isChanged=!0),c},Ue.prototype.stringify=function(e){if(1==this.hash.object){var t=[];return JSON.stringify(e,(function(e,n){return"_"===e[0]?null:null!==n&&"object"==typeof n?-1==t.indexOf(n)?(t.push(n),n):null:n}))}return e},Ue.prototype.read=function(e,t,n,i){var o;return null!=t&&this.hash.hasOwnProperty(typeof t)||(t=this.isNullable?null:this.defaultValue),o=t,this.stringify(e)!==this.stringify(t)&&(i.isChanged=!0),o},Je.prototype.read=function(e,t,n,i){var o,r,a=null,l=h(e);if(t||(t=this.isNullable?null:this.defaultValue),h(t))for(o in a={},this.dataTemplate)this.dataTemplate.hasOwnProperty(o)&&(r=this.dataTemplate[o],a[o]=r.read(l?e[o]:null,t[o],n+"-"+o,i));else a=t,e!==t&&(i.isChanged=!0);return a},Qe.prototype.read=function(e,t,n,i){var o;return null!=t&&this.hash.hasOwnProperty(t)||(t=this.isNullable?null:this.defaultValue),o=t,e!==t&&(i.isChanged=!0),o},it.prototype.read=function(e,t,n,i){return"function"==typeof t?t:null};var jt=n(9439),_t=0,Nt=1,Ht=2,Vt=3,Gt=0,Wt=1,Zt=2,qt=3,Kt=4,Xt=5,Yt=6,Ut={};function Jt(e){this.id=e,this.rowType=Gt,this.index=0,this.offset=0,this.extend=!0,this.depth=0,this.groups=[],this.groups[_t]=[[1,1]],this.getDepth=function(){var e=this.groups.reduce((function(e,t){return t.reduce((function(e,t){var n=(0,jt.Z)(e,2),i=n[0],o=n[1],r=t||[1,1],a=(0,jt.Z)(r,2),l=a[0],s=a[1];return[i+l,Math.max(o,i+s)]}),e)}),[0,0]),t=(0,jt.Z)(e,2),n=t[0],i=t[1];return Math.max(n,i)||1},this.addRowDepth=function(e,t,n,i){var o=Ut[e];this.groups[o]||(this.groups[o]=[]);var r=this.groups[o],a=r[n]||[1,1],l=(0,jt.Z)(a,2),s=l[0],u=l[1];r[n]=[Math.max(s,t?i:1),Math.max(u,i)]}}Ut[Gt]=_t,Ut[Wt]=_t,Ut[Zt]=_t,Ut[qt]=Nt,Ut[Kt]=Nt,Ut[Xt]=Ht,Ut[Yt]=Vt;var Qt=function(){var e,t,n=$(),i=(e={},t=1,{find:function(n,i,o){var r=n+"-"+i+"-"+o;return e.hasOwnProperty(r)||(e[r]=t,t+=1),e[r]},get:function(){var e=t;return t+=1,e}}),o={};function r(e){var t=i.find(null,Yt,0),r=new Jt(t);return r.rowType=Gt,r.index=0,r.offset=0,r.extend=!1,n.add(null,t,r),o[e]=t,t}function a(e,t,i,r,a,l,s){var u=n.node(t);u||((u=new Jt(t)).extend=s,u.index=a||0,u.offset=l||0,u.rowType=r,n.add(e,t,u)),i.forEach((function(e){o[e.id]=t}))}return{mergeToParent:function(e,t){var n=o[e]||r(e);t.forEach((function(e){o[e.id]=n}))},mergeToChild:function(e,t,n,l,s,u){var h=o[e]||r(e);a(h,i.find(h,n,l),t,n,l,s,u)},addChild:function(e,t,n,l,s,u){a(o[e]||r(e),i.get(),t,n,l,s,u)},addSplitChildren:function(e,t,a,l,s){var u=o[e]||r(e);t.forEach((function(e){var t=i.get(),r=new Jt(t);r.extend=!1,r.index=l||0,r.offset=s||0,r.rowType=a,n.add(u,t,r),o[e.id]=t}))},align:function(e){n.loopPostOrder(this,(function(e,t,n,i){t.depth=t.getDepth()+t.offset,null!=i&&i.addRowDepth(t.rowType,t.extend,t.index,t.depth)}))},loopGroupTypes:function(e,t,i){var r=o[t],a=n.node(r);if(a)for(var l=0,s=a.groups.length;l<s&&(!a.groups[l]||!i.call(e,l,s));l+=1);},getRowDepth:function(e,t,i){var r=o[e],a=(n.node(r).groups[t]||[])[i];return a&&a[0]||1},getRowsDepth:function(e,t){var i=o[e];return(n.node(i).groups[t]||[]).map((function(e){return e[0]}))},loopRows:function(e,t,i,r){for(var a=o[t],l=n.node(a),s=Ut[i],u=l.groups[s]||[],h=0;h<u.length;h+=1){var c=u[h];if(c&&r.call(e,c[0],h))break}},getGroupSize:function(e,t){var i=o[e],r=n.node(i);return r&&r.groups.hasOwnProperty(t)?r.groups[t].length:0}}},$t=n(3433);function en(){this.id=null,this.visualAggregatorId=null,this.partners=[],this.visibility=r.EE.Normal,this.actualItemType=null,this.connectorPlacement=0,this.gravity=0,this.relationDegree=0}var tn=function(){var e=[];return{addChild:function(t,n,i){switch(t){case r.qG.SubAssistant:case r.qG.Assistant:n=n<0||null==n?0:n;break;default:n=0}e[t]=e[t]||[];var o=e[t];o[n]=o[n]||[],o[n].push(i)},getRow:function(t,n){return(e[t]||[])[n||0]||[]},getRows:function(t){return e[t]||[]}}};var nn=function(){var e=[];function t(t,n,i){e[t]=e[t]||[];var o=e[t];o[n]=o[n]||[],o[n].push(i)}return{addChild:function(e,n,i){switch(e){case r.qG.SubAdviser:case r.qG.Adviser:t(_t,0,i);break;case r.qG.SubAssistant:case r.qG.Assistant:t(Nt,n=n<0||null==n?0:n,i);break;case r.qG.Regular:n<0||null==n?t(Vt,0,i):t(Ht,n,i)}},getLength:function(){return e.length},getRow:function(t,n){return(e[t]||[])[n||0]||[]},getRows:function(t){return e[t]||[]}}};function on(){this.hasVisibleChildren=!1,this.hasPartners=!1,this.isPartner=!1,this.hasLeavesOnly=!0,this.hasChildren=!1,this.typeSorter=tn(),this.groupSorter=nn()}function rn(){var e;function t(e,t,n,i){var o;return i%2>0&&(t===i-1?t=e.length:t===i&&(t=i-1)),(o=n*i+t)>e.length-1?null:e[o]}function n(e,t,n){var o,a=t.visibility==r.EE.Invisible&&0==(t.connectorPlacement&r.En.Top)||n;return o=i({visibility:r.EE.Invisible,visualAggregatorId:t.visualAggregatorId,connectorPlacement:a?0:r.En.Top|r.En.Bottom}),e.insert(t.id,o.id,o),t.visualAggregatorId=o.id,o}function i(t,n){var i,o=new en;for(i in null!=n&&(o.actualItemType=n.itemType,o.adviserPlacementType=n.adviserPlacementType),t)t.hasOwnProperty(i)&&(o[i]=t[i]);return null!=n?(o.id=n.id,o.visibility=n.isVisible?r.EE.Auto:r.EE.Invisible):(e+=1,o.id=e),o}return{build:function(o,a,l,s){e=a,l;var u=function(e,o,a){var l,s,u,h={},c=$(),d=function(e){var t=e,n=oe();return{define:function(e,i,o){var r=[];!o&&e.isVisible&&t.hasOwnProperty(e.id)?r.push(e.id):(!o&&e.isVisible&&r.push(e.id),n.loopParents(this,e.id,(function(e,i,o){if(i.isVisible&&(r.push(e),t.hasOwnProperty(e)))return n.SKIP}))),null!=n.node(i.id)?n.adopt(r,i.id):n.add(r,i.id,i)},getFamily:function(){return n}}}(a);e.loopPostOrder(this,(function(e,t,n,i){h.hasOwnProperty(e)||(h[e]=new on);var o=h[e];if(o.actualItemType=t.itemType,null!=i){h.hasOwnProperty(n)||(h[n]=new on);var r=h[n];r.hasVisibleChildren=r.hasVisibleChildren||t.isVisible||o.hasVisibleChildren,r.hasChildren=!0,r.hasLeavesOnly=r.hasLeavesOnly&&!o.hasChildren}})),e.loopPreOrder(this,(function(e,t,n,i){var o=h[e],a=h[n];switch(a||((a=new on).actualItemType=r.qG.Regular,h[n]=a),o.actualItemType){case r.qG.LimitedPartner:case r.qG.AdviserPartner:case r.qG.GeneralPartner:a.isPartner?o.actualItemType=r.qG.Adviser:(o.isPartner=!0,a.hasPartners=!0);break;case r.qG.Regular:a.isPartner&&(o.actualItemType=r.qG.Assistant)}}));var f=Qt();e.loopLevels(this,(function(t,n,i){var a=h[t];if(!a.hasVisibleChildren)return e.SKIP;e.loopChildren(this,t,(function(e,t,n){var i=h[e];a.typeSorter.addChild(i.actualItemType,t.levelOffset,t),a.groupSorter.addChild(i.actualItemType,t.levelOffset,t)}));var l=[];a.hasPartners&&(l=[].concat((0,$t.Z)(a.typeSorter.getRow(r.qG.AdviserPartner)),(0,$t.Z)(a.typeSorter.getRow(r.qG.LimitedPartner)),(0,$t.Z)(a.typeSorter.getRow(r.qG.GeneralPartner))));var s=a.typeSorter.getRow(r.qG.Adviser);if(s.length>0){if(!(p=l.length>0))switch(n.placeAdvisersAboveChildren){case r.xB.Auto:p=o.placeAdvisersAboveChildren;break;case r.xB.True:p=!0}o.alignBranches?(a.isPartner&&(p=!0),p?f.mergeToChild(t,s,Wt,0,0,p):f.mergeToParent(t,s)):f.addChild(t,s,Wt,0,0,p)}var u=a.typeSorter.getRow(r.qG.SubAdviser);if(u.length>0){if(!(p=l.length>0))switch(n.placeAdvisersAboveChildren){case r.xB.Auto:p=o.placeAdvisersAboveChildren;break;case r.xB.True:p=!0}o.alignBranches?(a.isPartner&&(p=!0),f.mergeToChild(t,u,Zt,0,1,p)):f.addChild(t,u,Zt,0,1,p)}var c=a.typeSorter.getRows(r.qG.Assistant);if(c.length>0){if(!(p=l.length>0))switch(n.placeAssistantsAboveChildren){case r.xB.Auto:p=o.placeAssistantsAboveChildren;break;case r.xB.True:p=!0}c.forEach((function(e,n){o.alignBranches?f.mergeToChild(t,e,qt,n,0,p):f.addChild(t,e,qt,n,0,p)}))}var d=a.typeSorter.getRows(r.qG.SubAssistant);if(d.length>0){var p;if(!(p=l.length>0))switch(n.placeAssistantsAboveChildren){case r.xB.Auto:p=o.placeAssistantsAboveChildren;break;case r.xB.True:p=!0}d.forEach((function(e,n){o.alignBranches?f.mergeToChild(t,e,Kt,n,1,p):f.addChild(t,e,Kt,n,1,p)}))}l.length>0&&f.mergeToParent(t,l);var m=a.groupSorter.getRows(Ht);m.length>0&&m.forEach((function(e,n){o.alignBranches?f.mergeToChild(t,e,Xt,n,0,!0):f.addChild(t,e,Xt,n,0,!0)}));var g=a.groupSorter.getRow(Vt);if(g.length>0){var y=h[t],v=function(e,t,n,i){var o=[];n===r.X9.Auto&&(n=i?e.leavesPlacementType===r.X9.Auto?r.X9.Matrix:e.leavesPlacementType:e.childrenPlacementType===r.X9.Auto?r.X9.Horizontal:e.childrenPlacementType);n==r.X9.Matrix&&t.length<3&&(n=r.X9.Horizontal);switch(n){case r.X9.Horizontal:o.push(t);break;case r.X9.Matrix:for(var a=Math.min(e.maximumColumnsInMatrix,Math.ceil(Math.sqrt(t.length))),l=0;l<t.length;l+=a)o.push(t.slice(l,l+a));break;case r.X9.Vertical:t.forEach((function(e){o.push([e])}))}return o}(o,g,n.childrenPlacementType,y.hasLeavesOnly);v.forEach((function(e,n){o.alignBranches?f.mergeToChild(t,e,Yt,n,0,!0):n==v.length-1?f.addSplitChildren(t,e,Yt,n,0):f.addChild(t,e,Yt,n,0,!0)}))}})),f.align();var p={};return e.loopLevels(this,(function(a,m,g){var y=h[a],v=c.node(a);v||(v=i({visibility:r.EE.Invisible,connectorPlacement:0,parentId:null,actualItemType:r.qG.Regular},m),c.add(null,a,v)),s=0,u=0,null!=(l=c.indexOf(a))&&(s=l,u=c.countSiblings(a)-l-1);var T=[];y.hasPartners&&(T=[].concat((0,$t.Z)(y.typeSorter.getRow(r.qG.AdviserPartner)),(0,$t.Z)(y.typeSorter.getRow(r.qG.LimitedPartner)),(0,$t.Z)(y.typeSorter.getRow(r.qG.GeneralPartner))));var w=v,b=null,k=!0;if(f.loopGroupTypes(this,a,(function(l,g){if(!y.hasPartners&&!y.isPartner&&l>y.groupSorter.getLength()-1)return!0;l>Nt&&k&&(k=!1,y.hasPartners&&(p[a]=[w.id],w=b||w,b=null,w.partners=p[a]),y.isPartner&&p[m.parent].push(w.id));var C=(y.isPartner||y.hasPartners)&&l<=Nt;C=C||l<y.groupSorter.getLength()-1;var O=[];switch(l){case _t:var P=y.groupSorter.getRows(_t)[0]||[],x=f.getRowDepth(a,_t,0);if(function(e,t,n,o,a,l){o.map((function(e){return i({},e)})).forEach((function(o){var s;if(t[o.id].actualItemType===r.qG.SubAdviser)o.connectorPlacement=r.En.Top|r.En.Bottom,s=i({visibility:r.EE.Invisible}),e.add(s.id,o.id,o);else s=o;var u=e.parent(n.id);if(n.connectorPlacement&r.En.Right)e.add(u.id,s.id,s,a),s.connectorPlacement=r.En.Right|r.En.Bottom,s.gravity=r.a3.Right;else if(n.connectorPlacement&r.En.Left)e.add(u.id,s.id,s,e.countChildren(u.id)-l),s.connectorPlacement=r.En.Left|r.En.Bottom,s.gravity=r.a3.Left;else{if(o.adviserPlacementType===r.hZ.Left)e.add(u.id,s.id,s,a),s.connectorPlacement=r.En.Right|r.En.Bottom,s.gravity=r.a3.Right;else e.add(u.id,s.id,s,e.countChildren(u.id)-l),s.connectorPlacement=r.En.Left|r.En.Bottom,s.gravity=r.a3.Left;switch(o.actualItemType){case r.qG.GeneralPartner:s.connectorPlacement=r.En.Top|r.En.Bottom;break;case r.qG.LimitedPartner:s.connectorPlacement=r.En.Bottom}}}))}(c,h,w,P,s,u),P.forEach((function(e){return d.define(m,e)})),T.length>0&&(b=function(e,t,n,o,a,l){var s=[],u=[];o.map((function(e){return i({},e)})).forEach((function(e){var i=!0;if(n.connectorPlacement&r.En.Right)i=!0,e.connectorPlacement=r.En.Right|r.En.Bottom;else if(n.connectorPlacement&r.En.Left)i=!1,e.connectorPlacement=r.En.Left|r.En.Bottom;else{if(e.adviserPlacementType===r.hZ.Left)i=!0,e.connectorPlacement=r.En.Right|r.En.Bottom;else i=!1,e.connectorPlacement=r.En.Left|r.En.Bottom;switch(t[e.id].actualItemType){case r.qG.GeneralPartner:e.connectorPlacement=r.En.Top|r.En.Bottom;break;case r.qG.LimitedPartner:e.connectorPlacement=r.En.Bottom}}i?s.unshift(e):u.push(e)}));o=[].concat(s,[n],u);var h=s.length,c=Math.floor(o.length/2),d=null;o.length%2==0&&(d=i({visibility:r.EE.Invisible}),o.splice(c,0,d),c<=h&&(h+=1));for(var f=e.parent(n.id),p=h-1;p>=0;p-=1){var m=o[p];e.add(f.id,m.id,m,a),m.gravity=r.a3.Right}for(p=h+1;p<o.length;p+=1){m=o[p];e.add(f.id,m.id,m,e.countChildren(f.id)-l),m.gravity=r.a3.Left}if(null!=d){var g=null;g=c<=h?o[c-1]:o[c+1],d.connectorPlacement=g.connectorPlacement&(r.En.Left|r.En.Right)}return o[c]}(c,h,w,T,s,u),T.forEach((function(e){(d.define(m,e,!0),e.id!=v.id)&&(y.groupSorter.getRows(Ht).forEach((function(t){return t.forEach((function(t){return d.define(e,t)}))})),y.groupSorter.getRow(Vt).forEach((function(t){return d.define(e,t)})))}))),y.hasPartners||y.isPartner||l<y.groupSorter.getLength()-1)for(;x>1;)w=n(c,w,!1),b&&(b=n(c,b,!1)),x-=1;break;case Nt:O=y.groupSorter.getRows(Nt);f.loopRows(this,a,qt,(function(e,t){var o=O[t]||[];if(!C&&t>O.length-1)return!0;if(w=function(e,t,o,a){var l=n(e,o,!1);return a.map((function(e){return i({},e)})).forEach((function(n){var a;switch(t[n.id].actualItemType){case r.qG.SubAssistant:n.connectorPlacement=r.En.Top|r.En.Bottom,a=i({visibility:r.EE.Invisible}),e.add(a.id,n.id,n);break;case r.qG.Assistant:a=n}if(n.adviserPlacementType===r.hZ.Left)e.add(o.id,a.id,a,0),a.connectorPlacement=r.En.Right|r.En.Bottom,a.gravity=r.a3.Right;else e.add(o.id,a.id,a),a.connectorPlacement=r.En.Left|r.En.Bottom,a.gravity=r.a3.Left})),l}(c,h,w,o),b&&(b=n(c,b,!1)),o.forEach((function(e){return d.define(m,e)})),y.hasPartners||y.isPartner||t<O.length-1||l<y.groupSorter.getLength()-1)for(;e>1;)w=n(c,w,!1),b&&(b=n(c,b,!1)),e-=1}));break;case Ht:O=y.groupSorter.getRows(Ht);f.loopRows(this,a,Xt,(function(e,t){var a=O[t]||[];if(!C&&t>O.length-1)return!0;var s=v.visibility==r.EE.Invisible&&0===v.connectorPlacement;if(w=function(e,t,o,a,l,s){var u=null;a&&(u=n(e,t,l));var h=0;switch(s){case r.a3.Center:h=Math.ceil(o.length/2)-1;break;case r.a3.Left:h=-1;break;case r.a3.Right:h=o.length-1}for(var c=h;c>=0;c-=1){var d=i({},o[c]);e.add(t.id,d.id,d,0),d.connectorPlacement=r.En.Top|r.En.Bottom,d.gravity=r.a3.Right}for(c=h+1;c<o.length;c+=1)d=i({},o[c]),e.add(t.id,d.id,d),d.connectorPlacement=r.En.Top|r.En.Bottom,d.gravity=r.a3.Left;return u}(c,w,a,C||t<O.length-1,s,o.horizontalAlignment),a.forEach((function(e){return d.define(m,e)})),t<O.length-1||l<y.groupSorter.getLength()-1)for(;e>1;)w=n(c,w,!1),e-=1}));break;case Vt:var S=y.groupSorter.getRow(Vt);if(S.length>0){var L=h[v.id],I=f.getRowsDepth(a,Vt);!function(e,n,o,a,l,s,u,h,c){var d,f,p,m,g,y,v,T,w,b,k,C,O,P=l.visibility==r.EE.Invisible&&0===l.connectorPlacement;switch(a.horizontalAlignment){case r.a3.Center:case r.a3.Left:O=r.hZ.Right;break;case r.a3.Right:O=r.hZ.Left}h===r.X9.Auto&&(h=c?a.leavesPlacementType===r.X9.Auto?r.X9.Matrix:a.leavesPlacementType:a.childrenPlacementType===r.X9.Auto?r.X9.Horizontal:a.childrenPlacementType);h==r.X9.Matrix&&u.length<3&&(h=r.X9.Horizontal);switch(h){case r.X9.Horizontal:for(k=0,C=u.length;k<C;k+=1)g=i({},u[k]),y=e.node(g.id),n.add(s.id,g.id,g),g.connectorPlacement=(y.hideParentConnection?0:r.En.Top)|(y.hideChildrenConnection?0:r.En.Bottom),0===k&&(g.relationDegree=1);break;case r.X9.Matrix:v=Math.min(a.maximumColumnsInMatrix,Math.ceil(Math.sqrt(u.length))),T=Math.ceil(u.length/v),w=Math.ceil(v/2);for(var x=0;x<w;x+=1)for(d=s,b=0;b<T;b+=1){if(f=t(u,2*x,b,v),p=t(u,2*x+1,b,v),null!==f||null!==p)for(var S=o[b-1]||1;S>1;)m=i({visibility:r.EE.Invisible,connectorPlacement:P?0:r.En.Top|r.En.Bottom}),n.add(d.id,m.id,m),d=m,S-=1;null!==f&&(f=i({},f),0===x&&(f.relationDegree=1),n.add(d.id,f.id,f),f.connectorPlacement=(P?0:r.En.Right)|r.En.Bottom,f.gravity=r.a3.Right),null===f&&null===p||(m=i({visibility:r.EE.Invisible,connectorPlacement:P?0:r.En.Top|r.En.Bottom}),n.add(d.id,m.id,m)),null!==p&&(p=i({},p),n.add(d.id,p.id,p),p.connectorPlacement=(P?0:r.En.Left)|r.En.Bottom,p.gravity=r.a3.Left),d=m}v>2&&(s.visualAggregatorId=null);break;case r.X9.Vertical:for(k=0,C=u.length;k<C;k+=1){g=i({},u[k]);S=k==C-1?1:o[k]||1;for(var L=s;S>0;)m=i({visibility:r.EE.Invisible,connectorPlacement:P?0:r.En.Top|r.En.Bottom}),n.add(L.id,m.id,m),L=m,S-=1;switch(O){case r.hZ.Left:n.add(s.id,g.id,g,0),g.connectorPlacement=(P?0:r.En.Right)|r.En.Bottom,g.gravity=r.a3.Right;break;case r.hZ.Right:n.add(s.id,g.id,g),g.connectorPlacement=(P?0:r.En.Left)|r.En.Bottom,g.gravity=r.a3.Left}s=m}break;default:throw"Children placement is undefined!"}}(e,c,I,o,v,w,S,m.childrenPlacementType,L.hasLeavesOnly),S.forEach((function(e){return d.define(m,e)}))}}})),k&&(k=!1,y.hasPartners&&(p[a]=[w.id],w=b||w,b=null,w.partners=p[a]),y.isPartner&&p[m.parent].push(w.id)),!y.hasVisibleChildren)return e.SKIP})),{visualTree:c,navigationFamily:d,branchAligner:f}}(o,s,l),h=u.visualTree,c=u.navigationFamily,d=u.branchAligner;return{visualTree:h,navigationFamily:c.getFamily(),branchAligner:d,treeItemCounter:e}}}}function an(e,t,n){var i,o,r,a,l,s,u=rn();return{process:function(){var h=e.getOrgTree(),c=n.getOptions(),d=null!=t?t.getActiveItems():{};if(l=e.getMaximumId(),h.hasNodes()){var f=u.build(h,l,d,c);i=f.visualTree,a=f.navigationFamily,l=f.treeItemCounter,s=f.branchAligner}else i=$(),a=oe(),s=Qt();var p=function(e){var t={},n={};return e.loop(this,(function(e,i){t[e]=[],n[e]=[]})),e.loopPostOrder(this,(function(e,i,o,r){var a,l,s=t[o],u=n[o],h=t[e],c=n[e];if(null!=o){for(s[0]||(s[0]=e),a=0,l=h.length;a<l;a+=1)s[a+1]||(s[a+1]=h[a]);for(u[0]=e,a=0,l=c.length;a<l;a+=1)u[a+1]=c[a]}})),{leftMargins:t,rightMargins:n}}(i);return o=p.leftMargins,r=p.rightMargins,!0},getVisualTree:function(){return i},getLogicalFamily:function(){return a},getLeftMargins:function(){return o},getRightMargins:function(){return r},getMaximumId:function(){return l},getBranchAligner:function(){return s}}}function ln(){this.parentsStackSize=0}function sn(e){var t,n,i,o;for(this.lineColor=r.wL.Silver,this.lineWidth=1,this.lineType=r.SP.Solid,this.fillColor=null,this.opacity=null,this._key="",i=0,o=(n=["lineColor","lineWidth","lineType","fillColor","opacity"]).length;i<o;i+=1)t=n[i],null!=e&&e.hasOwnProperty(t)&&(this[t]=e[t]),this._key+=(l(this._key)?"":", ")+t+":"+this[t]}function un(){this.parent=E.prototype,this.parent.constructor.apply(this,arguments),this.segmentType=r.vZ.Move}function hn(){this.parent=un.prototype,this.parent.constructor.apply(this,arguments),this.segmentType=r.vZ.Line}function cn(e,t,n,i){switch(this.x=null,this.y=null,this.cpX=null,this.cpY=null,arguments.length){case 2:this.x=t.x,this.y=t.y,this.cpX=e.x,this.cpY=e.y;break;case 4:this.cpX=e,this.cpY=t,this.x=n,this.y=i}this.segmentType=r.vZ.QuadraticArc}function dn(e){var t,n,i=new sn,o=[];if(1===arguments.length)i=e;function a(){var e=null;return o.length>0&&(e=o[0].getEndPoint()),e}function s(){var e=null;return o.length>0&&(e=o[o.length-1].getEndPoint()),e}function u(e){o.push(e)}function h(e){var t,n;for(t=0,n=e.length;t<n;t+=1)o.push(e[t])}function c(e){e.addSegments(o)}function d(){var e,t,n,r=new dn(i),a=[];for(e=0,t=o.length;e<t;e+=1)n=o[e],a.push(n.clone());return r.addSegments(a),r}function f(){return o.length}function p(e,t){var n,i,r;if(null!=t)for(n=0,i=o.length;n<i&&(!(r=o[n])||!t.call(e,r,n));n+=1);}function m(e,t){var n,i;if(null!=t)for(n=o.length-1;n>=0&&(!(i=o[n])||!t.call(e,i,n));n-=1);}function g(e,t){p(this,(function(n){null!=n.transform&&n.transform(e,t)}))}function y(){return l(i.fillColor)}function v(e){var n=!1,i=[];y()?e.loopReversed(this,(function(e,t){e.segmentType!=r.vZ.Dot&&(n||(o.push(new un(e.getEndPoint())),n=!0),i.unshift(e),i.length>1&&(i[1].invert(i[0].getEndPoint()),o.push(i[1]),i.length=1))})):e.mergeTo(t)}function T(e,t,i,o,r,a){var l,s,u,h,c,d=new dn(n),f=[new E(r,-a/2),new E(0,0),new E(r,a/2),new E(r/4*3,0)],p=Math.atan2(t-o,e-i);for(l=0,s=f.length;l<s;l+=1)h=(u=f[l]).x*Math.cos(p)-u.y*Math.sin(p),c=u.x*Math.sin(p)+u.y*Math.cos(p),u.x=h+i,u.y=c+o;return d.addSegment(new un(f[0].x,f[0].y)),d.addSegment(new hn(f[1].x,f[1].y)),d.addSegment(new hn(f[2].x,f[2].y)),d.addSegment(new cn(f[3].x,f[3].y,f[0].x,f[0].y)),d}function w(e,t,n,i,r){var a,l,s,u,h,c,d,f,p=o.length,m=3*t,g=2*t;switch(t){case 1:m=8,g=6;break;case 2:m=12,g=8;break;case 3:m=16,g=10}null!=r&&p>1&&(a=o[p-2].getEndPoint(),null!=(s=o[p-1]).offsetPoint&&(l=new E(s.getEndPoint()),(f=a.distanceTo(l))>i&&(d=f*n,e?(u=s.offsetPoint(a,l,d),c=T(a.x,a.y,u.x,u.y,m,g)):(h=s.offsetPoint(l,a,d),c=T(l.x,l.y,h.x,h.y,m,g)),r(c))))}function b(e,t){var n,i,r,a,l=o.length,s=3*e,u=2*e;switch(e){case 1:s=8,u=6;break;case 2:s=12,u=8;break;case 3:s=16,u=10}null!=t&&l>1&&(n=o[l-2].getEndPoint(),null!=(r=o[l-1]).trim&&(i=new E(r.getEndPoint())).distanceTo(n)>=s&&t(T((a=r.trim(n,s)).x,a.y,i.x,i.y,s,u),a))}function k(){var e,t,n,i,a,l,s,u={},h=[],c=[];for(e=0,t=o.length;e<t-1;e+=1)switch(l=o[e],s=o[e+1],l.segmentType){case r.vZ.Line:case r.vZ.QuadraticArc:case r.vZ.CubicArc:switch(s.segmentType){case r.vZ.Move:case r.vZ.Dot:i=l.x+"&"+l.y,u.hasOwnProperty(i)||(u[i]=e)}break;case r.vZ.Move:i=l.x+"&"+l.y,u.hasOwnProperty(i)&&!h[u[i]]&&(h[u[i]]=e+1,c[e]=!0)}for(a=[],e=0;e<t;e+=1)if(!c[e]&&(l=o[e],a.push(l),c[e]=!0,h[e]>0))for(n=h[e];n<t&&!c[n];)l=o[n],a.push(l),c[n]=!0,h[n]>0?n=h[n]:n+=1;o=a}function C(){return i.toString()}function O(e,t){this.segment=e,this.pointIndex=t}function P(e,t,n,i,o){var a,l,s,u=e.relateTo(t),h=o?0:n;u==r.ZU.Collinear?t.offset(h):u==r.ZU.Opposite&&0===t.from.context.pointIndex?(a=new hn(t.from),i.addSegment(a),t.offset(h),(s=t.from.clone()).context=new O(a,0),l=new B(e.to.clone(),s),o||(t.from=s.clone()),l.offset(n),l.intersect(e),l.from.context.pushToSegment(l.from),t.intersect(l),o&&l.to.context.pushToSegment(l.to)):(t.offset(h),t.intersect(e)),t.from.context.pushToSegment(t.from)}function x(e,t,n,i){var o=e[0],r=o.to.context.segment.getEndPoint().toString();t.hasOwnProperty(r)&&(P(o,t[r],n,i,!0),delete t[r]),o.to.context.pushToSegment(o.to),e.length=0}function S(e){var t=new dn(i),n={},o=[],a=[];return p(this,(function(i){var l,s=i.clone();switch(s.segmentType){case r.vZ.Dot:case r.vZ.Move:a.length>0&&x(a,n,e,t),o.length=0,s.segmentType==r.vZ.Move&&((l=new E(s)).context=new O(s,0),o.push(l));break;default:s.loop(this,(function(i,r,l){var u,h,c=new E(i,r);switch(c.context=new O(s,l),o.unshift(c),o.length>1&&(a.unshift(new B(o[1].clone(),o[0].clone())),o.length=1),a.length){case 1:h=(u=a[0]).from.toString(),n[h]=u,u.offset(e),u.from.context.pushToSegment(u.from);break;case 2:P(a[1],u=a[0],e,t,!1),a.length=1}}))}t.addSegment(s)})),a.length>0&&x(a,n,e,t),t}return n=new sn({lineColor:i.lineColor,lineWidth:0,fillColor:i.lineColor,opacity:i.opacity||1}),O.prototype.pushToSegment=function(e){this.segment.setPoint(e,this.pointIndex)},t={paletteItem:i,arrowPaletteItem:n,addSegment:u,addSegments:h,mergeTo:c,length:f,loop:p,loopReversed:m,transform:g,isInvertable:y,addInverted:v,addArrow:b,addOffsetArrow:w,optimizeMoveSegments:k,getOffsetPolyine:S,toString:C,getStartPoint:a,getEndPoint:s,clone:d}}function fn(e,t,n,i,o,a){switch(this.parent=E.prototype,this.x=null,this.y=null,this.cpX1=null,this.cpY1=null,this.cpX2=null,this.cpY2=null,arguments.length){case 3:this.parent.constructor.apply(this,[n.x,n.y]),this.cpX1=e.x,this.cpY1=e.y,this.cpX2=t.x,this.cpY2=t.y;break;case 6:this.parent.constructor.apply(this,[o,a]),this.cpX1=e,this.cpY1=t,this.cpX2=n,this.cpY2=i}this.segmentType=r.vZ.CubicArc}function pn(){this.NORMAL_ITEM_WEIGHT=10010,this.LINE_ITEM_WEIGHT=1e4}function mn(e,t,n){this.fromItems=e,this.toItems=t,this.dotId=n||null,this.fromOffset=0,this.fromStackSize=0}function gn(e,t){this.fromItem=e,this.toItem=t}function yn(e,t){var n={treeLevels:null,bundles:null,connectorStacks:null},i=new ln;return{process:function(){var t=e.getVisualTree();return n.treeLevels=de(),t.loopLevels(this,(function(e,t,i){n.treeLevels.addItem(i,e,t)})),n.bundles=[],n.connectorStacks=[],function(e,t,n,i,o){var a,l,s,u,h,c,d,f,p,m,g={};n.loopLevels(this,(function(o,y){var v=new ln;if(t[o]=v,d=[],n.loopLevelItems(this,o,(function(t,o,a){var l=[];if(!g.hasOwnProperty(t)&&(o.connectorPlacement&r.En.Bottom&&l.push(t),(l=l.concat(o.partners)).length>0)){c=new mn(l,[]);for(var s=0,u=l.length;s<u;s+=1)g[l[s]]=c;i.loopChildren(this,t,(function(e,t,n){t.connectorPlacement&r.En.Top&&c.toItems.push(e)})),l.length>1&&d.push(c),(c.fromItems.length>1||c.toItems.length>0)&&e.push(c)}o.connectorPlacement&r.En.Left&&(c=new gn(t,n.getPrevItem(t)),e.push(c)),o.connectorPlacement&r.En.Right&&(c=new gn(t,n.getNextItem(t)),e.push(c))})),d.length>0){for(m=ue(),a=0,l=d.length;a<l;a+=1){for(c=d[a],f=null,p=null,s=0,u=c.fromItems.length;s<u;s+=1)h=n.getItemPosition(c.fromItems[s]),f=null!=f?Math.min(f,h):h,p=null!=p?Math.max(p,h):h;m.add(f,p,c)}v.parentsStackSize=m.resolve(this,(function(e,t,n,i,o){n.fromOffset=i+1,n.fromStackSize=o}))}}))}(n.bundles,n.connectorStacks,n.treeLevels,t),!0},getTreeLevels:function(){return n.treeLevels},getBundles:function(){return n.bundles},getConnectorsStacksSizes:function(e){return n.connectorStacks[e]||i},getNestedLayoutParentConnectorIds:function(){return{}},getNestedLayoutBottomConnectorIds:function(){return{}}}}function vn(e,t){return{process:function(e){return!1},getNestedLayoutParentConnectorIds:function(){return{}},getNestedLayoutBottomConnectorIds:function(){return{}},getBundles:function(){return[]},getLayouts:function(){return{}}}}function Tn(e){if(this.currentvisibility=r.EE.Normal,this.actualVisibility=r.EE.Normal,this.shift=0,this.depth=0,this.nextLevelShift=0,this.horizontalConnectorsDepth=0,this.topConnectorShift=0,this.connectorShift=0,this.levelSpace=0,this.currentOffset=0,this.labels=[],this.labelsRect=null,this.showLabels=!0,this.hasFixedLabels=!1,null!=e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function wn(e){if(this.level=null,this.actualVisibility=r.EE.Normal,this.actualSize=null,this.actualPosition=null,this.contentPosition=null,this.horizontalConnectorsShift=null,this.topConnectorShift=null,this.topConnectorInterval=0,this.bottomConnectorShift=null,this.bottomConnectorInterval=0,this.leftMedianOffset=null,this.rightMedianOffset=null,null!=e)for(var t in e)if(e.hasOwnProperty(t))if("actualPosition"===t)this.actualPosition=new j(e.actualPosition);else this[t]=e[t]}function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){(0,Se.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cn(e,t,n){this.offset=e,this.leftPadding=t,this.rightPadding=n}function On(e,t,n,i,o){this.visualTree=e,this.treeLevels=t,this.leftMargins=n,this.rightMargins=i,this.getConnectorsStacksSizes=o,this.treeLevelsPositions=[],this.childLayoutsPositions={}}function Pn(e){this.visibility=e}function xn(e,t,n){var i={layoutsTree:{},maximumId:null};return{process:function(){var o=e.getVisualTree(),r=e.getLeftMargins(),a=e.getRightMargins(),l=e.getMaximumId(),s=t.getTreeLevels(),u=t.getConnectorsStacksSizes,h=n.getLayouts(),c=new On(o,s,r,a,u),d=$();l++,d.add(null,l,c);for(var f=[{id:l,levelLayout:c}];f.length>0;){for(var p=[],m=0;m<f.length;m+=1){var g=f[m],y=g.id;g.levelLayout.loop(this,(function(e){var t=e.id,n=h[t];n?p.push({id:t,levelLayout:n}):n=new Pn(e.visibility),d.add(y,t,n)}))}f=p}return i.layoutsTree=d,i.maximumId=l,!0},getLayoutsTree:function(){return i.layoutsTree},getMaximumId:function(){return i.maximumId}}}function Sn(e,t,n,i,o,r,a){var l={graph:null,nodeid:0};return{process:function(){var e=i.getBundles(),s=o.getBundles(),u=o.getNestedLayoutParentConnectorIds(),h=o.getNestedLayoutBottomConnectorIds(),c=n.getOptions(),d=null!=a?a.getLoops():[];e=e.concat(s);for(var f={graph:ne(),nodeid:0},p={treeItemsPositions:r.getItemsPositions(),nestedLayoutParentConnectorIds:u,nestedLayoutBottomConnectorIds:h,transform:t.getTransform()},m={connectorType:c.connectorType,showExtraArrows:c.showExtraArrows,bevelSize:c.bevelSize,elbowType:c.elbowType},g=0,y=e.length;g<y;g+=1){e[g].trace(f,p,m)}return function(e,t){for(var n=[],i=1;i>=0;i-=1)for(var o=0,r=t.length;o<r;o+=1){var a=t[o];a.isOppositeFlow==(1==i)&&e.getShortestPath(this,a.from,[a.to],(function(e,t,n){return e.weight}),(function(t,o){for(var r=0,a=t.length-1;r<a;r+=1){var l=t[r],s=t[r+1],u=e.edge(l,s);u.polyline.length()>0&&(u.isOppositeFlow=1==i,n.push(u))}}))}for(o=0,r=n.length;o<r;o+=1){var l=n[o];l.isOppositeFlow&&(l.hasArrow=!0)}}(f.graph,d,c.extraArrowsMinimumSpace),l=f,!0},getGraph:function(){return l.graph}}}function Ln(e,t){var n={highlightTreeItemId:null};return{process:function(){var i=e.getHighlightItem(),o=null!=t?t.getActiveItems():{};return n.highlightTreeItemId=null!=i&&o.hasOwnProperty(i)?i:null,!0},getHighlightTreeItem:function(){return n.highlightTreeItemId}}}function In(e,t){var n={cursorTreeItemId:null};return{process:function(){var i=e.getCursorItem(),o=null!=t?t.getActiveItems():{};return n.cursorTreeItemId=null!=i&&o.hasOwnProperty(i)?i:null,!0},getCursorTreeItem:function(){return n.cursorTreeItemId},getItems:function(){return null!=n.cursorTreeItemId?[n.cursorTreeItemId]:[]}}}function An(e,t){var n={items:[]};return{process:function(){var i=t.getLogicalFamily(),o=e.getCursorTreeItem();return n.items=function(e,t){var n=[];null!==e&&t.loopNeighbours(this,e,(function(e,t,i){return t.isVisible&&n.push(e),!0}));return n}(o,i),!0},getItems:function(){return n.items}}}function Mn(e,t){var n={items:[]},i={},o=new Ye(new Ue(["string","number"],!0),!0);return{process:function(){var r={isChanged:!1,hash:i},a=e.getSelectedItems();return n.items=o.read(n.items,function(e){var n,i,o,r=[],a={};for(n=0,i=e.length;n<i;n+=1)null==(o=e[n])||a.hasOwnProperty(o)||(a[o]=!0,null!=t.getConfig(o)&&r.push(o));return r}(a),"items",r),r.isChanged},getItems:function(){return n.items},isSelected:function(e){return i.items.hasOwnProperty(e)}}}function zn(e,t,n,i){var o={items:[]};return{process:function(){var a=i.getSelectionPathMode(),l=e.getLogicalFamily(),s=t.getCursorTreeItem(),u=n.getItems().slice(0);return u.push(s),o.items=function(e,t,n){var i,o,a,l=[],s={};for(o=0,a=e.length;o<a;o+=1)switch(i=e[o],n){case r.lz.None:break;case r.lz.FullStack:t.loopParents(this,i,(function(e,n){if(null!=s[e])return t.SKIP;n.visibility!=r.EE.Invisible&&l.push(e),s[e]=!0}))}return l}(u,l,a),!0},getItems:function(){return o.items}}}function Rn(e){var t={items:[]},n={},i=new Ye(new Ue(["string","number"],!0),!0);return{process:function(){var o={isChanged:!1,hash:n},r=e.getAnnotations();return t.items=i.read(t.items,function(e){var t,n,i,o,r,a,l,s=[],u={};for(t=0,n=e.length;t<n;t+=1)if((a=e[t]).selectItems)for(i=0,o=(r=a.items).length;i<o;i+=1)null==(l=r[i])||u.hasOwnProperty(l)||(s.push(l),u[l]=!0);return s}(r),"items",o),o.isChanged},getItems:function(){return t.items}}}function En(e){var t={items:[]},n={},i=new Ye(new Ue(["string","number"],!0),!0);return{process:function(){var o={isChanged:!1,hash:n},r=e.getAnnotations();return t.items=i.read(t.items,function(e){var t,n,i,o=[],r={};for(t=0,n=e.length;t<n;t+=1)(i=e[t]).selectItems&&(null==i.fromItem||r.hasOwnProperty(i.fromItem)||(o.push(i.fromItem),r[i.fromItem]=!0),null==i.toItem||r.hasOwnProperty(i.toItem)||(o.push(i.toItem),r[i.toItem]=!0));return o}(r),"items",o),o.isChanged},getItems:function(){return t.items}}}function Fn(e,t){var n={items:[]},i={},o=new Ye(new Ue(["string","number"],!0),!0);return{process:function(){var a={isChanged:!1,hash:i},l=t.getOrgTree(),s=e.getOptions(),u=s.pageFitMode,h=s.minimalVisibility,c=s.minimumVisibleLevels;return n.items=o.read(n.items,function(e,t,n,i){var o=[],a=[];if(i>0&&(r.sj.PageWidth==t||r.sj.PageHeight||r.sj.FitToPage)&&n!=r.EE.Normal){e.loopLevels(this,(function(e,t,n){if(t.isVisible){var i=n+t.levelOffset;a[i]?a[i].push(e):a[i]=[e]}}));for(var l=0,s=0;s<a.length&&!(null!=a[s]&&(o=o.concat(a[s]),(l+=1)>=i));s+=1);}return o}(l,u,h,c),"items",a),a.isChanged},getItems:function(){return n.items}}}function Bn(e,t,n,i,o,a,l,s,u,h,c,d,f){var p={items:[]},m={},g=[t,n,i,o,a,l,s,u,h,c,d,f],y=new Ye(new Ue(["string","number"],!0),!0);return{process:function(){var t={isChanged:!1,hash:m},n=e.getOptions();return p.items=y.read(p.items,function(e,t){var n,i,o,r,a,l,s=[],u={};for(n=0,i=e.length;n<i;n+=1)for(o=0,r=(a=e[n].getItems()).length;o<r;o+=1)l=a[o],u.hasOwnProperty(l)||(s.push(l),u[l]=!0);return s}(g),"items",t),n.pageFitMode!=r.sj.None&&n.minimalVisibility!=r.EE.Normal||(t.isChanged=!1),t.isChanged},isItemSelected:function(e){return m.items.hasOwnProperty(e)}}}function Dn(e,t,n){var i={},o={},r=new Je({median:new Je({left:new Ue(["number"],!1,0),top:new Ue(["number"],!1,0),right:new Ue(["number"],!1,0),bottom:new Ue(["number"],!1,0)},!1,new _(0,0,0,0)),thickness:new Je({left:new Ue(["number"],!1,0),top:new Ue(["number"],!1,0),right:new Ue(["number"],!1,0),bottom:new Ue(["number"],!1,0)},!1,new _(0,0,0,0))});return{process:function(){var a={isChanged:!1,hash:o};return i=r.read(i,function(){var i=e.getOptions(),o=i.showFrame,r=i.frameInnerPadding,a=i.frameOuterPadding,l=n.getOptions().scale,s=new _(0,0,0,0),u=new _(0,0,0,0);if(o){var h,c,d=new P.Z(0,0),f=new _(0,0,0,0),p=t.getItemTemplates();for(h=0,c=p.length;h<c;h+=1){var m=p[h].templateConfig,g=new _(m.cursorPadding),y=new _(m.highlightPadding);g.addThickness(m.cursorBorderWidth),y.addThickness(m.highlightBorderWidth),d.maxSize(m.minimizedItemSize),f.maxThickness(m.cursorPadding),f.maxThickness(m.highlightPadding)}(s=new _(Math.ceil(d.width/2)+f.right,Math.ceil(d.height/2)+f.bottom,Math.ceil(d.width/2)+f.left,Math.ceil(d.height/2)+f.top)).addThickness(r),s.scale(l),(u=new _(d.width+f.left+f.right,d.height+f.top+f.bottom,d.width+f.left+f.right,d.height+f.top+f.bottom)).addThickness(r),u.addThickness(a),u.scale(l)}return{median:s,thickness:u}}(),"options",a),a.isChanged},getMedian:function(){return i.median},getThickness:function(){return i.thickness}}}function jn(e,t,n,i){var o={},a={},l=new Je({thickness:new Je({left:new Ue(["number"],!1,0),top:new Ue(["number"],!1,0),right:new Ue(["number"],!1,0),bottom:new Ue(["number"],!1,0)},!1,new _(0,0,0,0))});return{process:function(){var s={isChanged:!1,hash:a};return o=l.read(o,function(){var o=e.getOptions(),a=o.levelTitlePlaceInside,l=o.levelTitlePanelSize,s=o.levelTitlePlacementType,u=i.getOptions().scale,h=n.getOptions().orientationType,c=t.getAnnotations(),d=new _(0,0,0,0);if(c.length>0){switch(a&&(l=-l),s){case r.hZ.Right:switch(h){case r.F7.Left:d=new _(0,l,0,0);break;case r.F7.Right:d=new _(0,0,0,l);break;case r.F7.Top:case r.F7.Bottom:d=new _(0,0,l,0)}break;case r.hZ.Left:default:switch(h){case r.F7.Left:d=new _(0,0,0,l);break;case r.F7.Right:d=new _(0,l,0,0);break;case r.F7.Top:case r.F7.Bottom:d=new _(l,0,0,0)}}d.scale(u)}return{thickness:d}}(),"options",s),s.isChanged},getOptions:function(){return o}}}function _n(e,t){var n={};return{process:function(){return n=e(),!0},getOptions:function(){return n},description:"Raw layout options."}}function Nn(e,t,n,i){var o={},a={},l=new Je({scrollPanelSize:new Je({width:new Ue(["number"],!0),height:new Ue(["number"],!0)},!0),optimalPanelSize:new Je({width:new Ue(["number"],!0),height:new Ue(["number"],!0)},!0),hasFrame:new Ue(["boolean"],!0),hasLevelTitles:new Ue(["boolean"],!0)});return{process:function(){var s=!1,u={isChanged:!1,hash:a},h=e.getOptions(),c=t.getOptions().pageFitMode,d=new _(n.getThickness()),f=new _(i.getOptions().thickness);if(h.hasLevelTitles=!1,f.isPositive()){var p=new P.Z(h.scrollPanelSize);p.removeThickness(f),h.scrollPanelSize.space()<2*p.space()&&(h.scrollPanelSize=p,h.hasLevelTitles=!0)}if(h.hasFrame=!1,d.isPositive()){var m=new P.Z(h.scrollPanelSize);m.removeThickness(d),h.scrollPanelSize.space()<2*m.space()&&(h.scrollPanelSize=m,h.hasFrame=!0)}switch(h.optimalPanelSize=new P.Z(h.scrollPanelSize.width-25,h.scrollPanelSize.height-25),o=l.read(o,h,"layout",u),c){case r.sj.PageWidth:case r.sj.PageHeight:case r.sj.FitToPage:case r.sj.None:case r.sj.SelectionOnly:s=u.isChanged}return s},getOptions:function(){return o}}}function Hn(e){var t={placeholderOffset:null},n={},i=new Je({placeholderOffset:new Je({x:new Ue(["number"],!0),y:new Ue(["number"],!0)},!0)});return{process:function(){var o={isChanged:!1,hash:n},r=e.getOptions();return t=i.read(t,r,"layout",o),o.isChanged},getPlaceholderOffset:function(){return t.placeholderOffset}}}function Vn(e,t){this.level=e,this.visibility=t}function Gn(e,t,n,i,o,a,l,s,u,h){var c={treeItemsPositions:{},size:null};function d(e,t,n,i,o,r,a,l){var s={};return t.loopPostOrder(this,(function(e,t,u,h){var c=i[e],d=n[c],f=o==e,p=r(e),m=a(e);s[e]=t.measure(d,f,p,m,s,l)})),{treeItemsPositions:s,size:s[e].actualSize}}function f(e,t,n){for(var i,o,a=[],l=0;l<=e;l+=1)a.push(r.EE.Normal);for(i=0;i<=n;i+=1)a[(o=t[i]).level]=o.visibility;return a}function p(e,t,n){var i=!1;switch(n){case r.sj.PageWidth:t.width>=e.width&&(i=!0);break;case r.sj.PageHeight:t.height>=e.height&&(i=!0);break;case r.sj.FitToPage:t.height>=e.height&&t.width>=e.width&&(i=!0)}return i}function m(e,t,n,i){var o=[];return o[r.EE.Normal]=e,o[r.EE.Dot]=t,o[r.EE.Line]=n,o[r.EE.Invisible]=i,o}function g(e,t,n,i){var o=[];return o[r.EE.Normal]=e,o[r.EE.Dot]=t,o[r.EE.Line]=n,o[r.EE.Invisible]=i,o}return{process:function(){var y=i.getOptions(),v=y.verticalAlignment,T=y.pageFitMode,w=y.minimalVisibility,b=y.padding,k=y.normalLevelShift,C=y.dotLevelShift,O=y.lineLevelShift,x=y.normalItemsInterval,S=y.dotItemsInterval,L=y.lineItemsInterval,I=y.checkBoxPanelSize,A=y.buttonsPanelSize,M=y.groupTitlePanelSize,z=y.groupTitlePlacementType,R=y.cousinsIntervalMultiplier,E=o.getOptions(),F=E.arrowsDirection,B=E.linesWidth,D=a.getOptions(),_=D.maximumColumnsInMatrix,N=D.horizontalAlignment,H=n.getOptions().orientationType,V=h.isItemSelected,G=u.getCursorTreeItem(),W=s.getTemplateParams,Z=e.getOptions().optimalPanelSize,q=new P.Z(Z),K=t.getOptions().scale;q.scale(1/K);var X=l.getLayoutsTree(),Y=null;X.loopLevels(this,(function(e,t,n){return Y=e,X.BREAK}));var U={},J=0,Q=!1;X.loopLevels(this,(function(e,t,n){if(null!=t.loop){var i=X.parentid(e),o=U[i]||0;t.loop(this,(function(e,t){var n=o+t;U[e.id]=n,J=Math.max(J,n),Q=!0}))}}));var $={verticalAlignment:v,pageFitMode:T,padding:b,minimalVisibility:w,orientationType:H,arrowsDirection:F,linesWidth:B,checkBoxPanelSize:I,buttonsPanelSize:A,groupTitlePanelSize:M,groupTitlePlacementType:z,maximumColumnsInMatrix:_,horizontalAlignment:N,shifts:m(k,C,O,O),intervals:g(x,S,L,L),cousinsIntervalMultiplier:R};if(c.treeItemsPositions={},c.size=q,Q){var ee=function(e,t,n,i,o,a,l,s,u){var h,c,m,g=u.orientationType,y=u.pageFitMode,v=u.minimalVisibility;switch(g){case r.F7.Left:case r.F7.Right:e.invert()}switch(y){case r.sj.None:case r.sj.AutoSize:c=[new Vn(0,r.EE.Normal)],m=f(t,c,0),h=d(n,i,m,o,a,l,s,u);break;default:if(c=function(e,t){var n=[new Vn(0,r.EE.Normal)],i=[];switch(t){case r.EE.Normal:break;case r.EE.Dot:i.push(r.EE.Dot);break;case r.EE.Auto:case r.EE.Line:case r.EE.Invisible:i.push(r.EE.Dot),i.push(r.EE.Line)}for(var o=e;o>=0;o-=1)for(var a=0;a<i.length;a+=1)n.push(new Vn(o,i[a]));return n}(t,v),m=f(t,c,c.length-1),p((h=d(n,i,m,o,a,l,s,u)).size,e,y)){var T=new j(0,0,h.size.width,h.size.height);T.addRect(0,0,e.width,e.height),T.offset(0,0,5,5),function(e,t,n){var i,o=0;if(!n.call(e,o)){for(i=t;t-o>1;)i=Math.floor((t+o)/2),n.call(e,i)?t=i:o=i;t!==i&&n.call(e,t)}}(this,c.length-1,(function(e){return m=f(t,c,e),p((h=d(n,i,m,o,a,l,s,u)).size,T,u.pageFitMode)}))}}return h}(q,J,Y,X,U,G,V,W,$),te=ee.treeItemsPositions,ne=ee.size;c.treeItemsPositions=te,c.size=ne,c.treeItemsPositions[Y].actualPosition=new j(0,0,c.size.width,c.size.height);var ie={};X.loopPreOrder(this,(function(e,t,n,i){var o=c.treeItemsPositions[e],r=ie[e];t.arrange(this,o.actualPosition,r,c.treeItemsPositions,$,(function(e,t,n){c.treeItemsPositions[e]=t,ie[e]=n}))}))}return!0},getItemsPositions:function(){return c.treeItemsPositions},getItemPosition:function(e){return c.treeItemsPositions[e]},getContentSize:function(){return c.size}}}function Wn(e,t,n,i,o,a,l){var s,u,h,c,d={treeItemsPositions:{},panelSize:null};function f(){if(null==h)for(var e in h=ce(function(){var e=[],t={};for(var n in d.treeItemsPositions)if(d.treeItemsPositions.hasOwnProperty(n)){var i=d.treeItemsPositions[n];switch(i.actualVisibility){case r.EE.Normal:case r.EE.Dot:case r.EE.Line:var o=i.actualPosition,a=Math.max(o.width,o.height);t.hasOwnProperty(a)||(t[a]=!0,e.push(a))}}return e}()),d.treeItemsPositions)if(d.treeItemsPositions.hasOwnProperty(e)){var t=d.treeItemsPositions[e];if(s.hasOwnProperty(e))switch(t.actualVisibility){case r.EE.Normal:case r.EE.Dot:case r.EE.Line:var n=new j(t.actualPosition);n.context=e,h.addRect(n)}}return h}function p(){if(null==c)for(var e in c=function(){var e,t,n=[],i=null;function o(e,t){this.itemid=e,this.row=t}function r(){if(null==t){var i=0;e=H(),Y(this,n,(function(t){e.add(t,i),i+=1})),t=de(),n.sort((function(e,t){return e.horizontalCenter()-t.horizontalCenter()}));for(var o=0,r=n.length;o<r;o+=1){var a=n[o];e.loopForward(this,a.y,(function(e,n){if(e>a.bottom())return!0;t.addItem(n,a.context,a)}))}}}function a(e){return r(),null!=i&&i.itemid==e||(i=new o(e,t.getLevelIndex(e))),i}function l(e){var n=t.getItemContext(i.itemid).horizontalCenter(),o=i.itemid;t.loopLevelsFromItem(this,i.itemid,e,(function(e){return i.row=e,i.itemid=t.binarySearch(this,e,(function(e,t){return n-t.horizontalCenter()})),!0})),o==i.itemid&&(i.row=e?t.getEndLevelIndex(i.itemid):t.getLevelIndex(i.itemid))}return{addRect:function(e,t){var i=new j(e);i.context=t,n.push(i)},prepair:r,getItemAbove:function(e){return i=a(e),l(!1),i.itemid},getItemBelow:function(e){return i=a(e),l(!0),i.itemid},getItemOnLeft:function(e){i=a(e);var n=t.getPrevItem(i.itemid,i.row);return null!=n&&(i.itemid=n),i.itemid},getItemOnRight:function(e){i=a(e);var n=t.getNextItem(i.itemid,i.row);return null!=n&&(i.itemid=n),i.itemid},getNavigationLevels:function(){r();var e=[];return t.loopLevels(this,(function(n,i){var o=[];t.loopLevelItems(this,n,(function(e,t,n){o.push(e)})),e.push(o)})),e}}}(),d.treeItemsPositions)if(d.treeItemsPositions.hasOwnProperty(e)){var t=d.treeItemsPositions[e];if(s.hasOwnProperty(e)&&t.actualVisibility===r.EE.Normal){var n=new j(t.actualPosition);c.addRect(n,e)}}return c}return{process:function(){var f=new P.Z(l.getContentSize()),p=o.getOptions().optimalPanelSize,m=t.getOptions().pageFitMode,g=e.getOptions().orientationType,y=n.getOptions().horizontalAlignment,v=i.getOptions().scale;h=null,c=null,s=null!=a?a.getActiveItems():{},u=l.getItemsPositions();var T=new P.Z(p);switch(g){case r.F7.Left:case r.F7.Right:T.invert()}if(T.scale(1/v),d.panelSize=T,d.treeItemsPositions=u,m===r.sj.AutoSize)d.panelSize=new P.Z(f);else d.panelSize=new P.Z(f),f.width<T.width&&(d.treeItemsPositions={},function(e,t,n,i){var o;switch(i){case r.a3.Left:o=0;break;case r.a3.Right:o=n-t;break;case r.a3.Center:o=(n-t)/2}!function(e,t,n){var i,o;for(i in u)u.hasOwnProperty(i)&&((o=new wn(u[i])).actualPosition.translate(t,n),e[i]=o)}(e,o,0)}(d.treeItemsPositions,f.width,T.width,y),d.panelSize.width=T.width),f.height<T.height&&(d.panelSize.height=T.height);switch(g){case r.F7.Left:case r.F7.Right:d.panelSize.invert()}return!0},getItemPosition:function(e){return d.treeItemsPositions[e]},getItemsPositions:function(){return d.treeItemsPositions},getContentSize:function(){return d.panelSize},getTreeItemForMousePosition:function(e,t,n){var i,o,a=null,l=null,s=f();return i=new j(e,t,0,0),o=new E(e,t),i.offset(n,n,n,n),s.loopArea(this,i,(function(n){var i=n.context;if(n.contains(e,t))return a=i,!0;switch(d.treeItemsPositions[i].actualVisibility){case r.EE.Dot:case r.EE.Line:var s=o.distanceTo(n.horizontalCenter(),n.verticalCenter());(null==l||s<l)&&(l=s,a=i)}})),a},getNextItem:function(e,t){var n,i=p();switch(t){case r.F7.Top:n=i.getItemAbove(e);break;case r.F7.Bottom:n=i.getItemBelow(e);break;case r.F7.Left:n=i.getItemOnLeft(e);break;case r.F7.Right:n=i.getItemOnRight(e)}return n}}}function Zn(){this.invertArea=!1,this.invertHorizontally=!1,this.invertVertically=!1,this.size=null}function qn(e,t,n){var i={transform:null};return{process:function(){var t=e.getOptions(),o=new P.Z(n.getContentSize());return i.transform=new Zn,i.transform.setOrientation(t.orientationType),i.transform.size=new P.Z(o),!0},getTransform:function(){return i.transform},getTreeItemForMousePosition:function(e,o,r){var a=null,l=t.getOptions().scale;return e/=l,o/=l,i.transform.transformPoint(e,o,!1,this,(function(e,t){a=n.getTreeItemForMousePosition(e,t,r)})),a},description:"Create coordinate system transformation object."}}function Kn(e,t){var n,i;if(this.palette=[],this.cursor=0,0===t.length)this.palette=[new sn({lineColor:e.linesColor,lineWidth:e.linesWidth,lineType:e.linesType})],this.paletteLength=this.palette.length,this.regularIndex=0;else{for(n=0,i=t.length;n<i;n+=1)this.palette.push(new sn(t[n]));this.paletteLength=this.palette.length,this.palette.push(new sn({lineColor:e.linesColor,lineWidth:e.linesWidth,lineType:e.linesType})),this.regularIndex=this.palette.length-1}this.palette.push(new sn({lineColor:e.highlightLinesColor,lineWidth:e.highlightLinesWidth,lineType:e.highlightLinesType})),this.highlightIndex=this.palette.length-1}function Xn(e,t){var n;return{process:function(){var i=[];return null!=t&&(i=t.getOptions().linesPalette),n=new Kn(e.getOptions(),i),!0},getPaletteManager:function(){return n}}}function Yn(e,t,n,i,o,a,l,s){var u={viewportSize:null,frameThickness:null,framePlaceholderSize:null};return{process:function(){var h=e(),c=o.getOptions().scale,d=n.getOptions(),f=d.pageFitMode,p=d.autoSizeMinimum,m=d.autoSizeMaximum,g=a.getContentSize(),y=i.getOptions(),v=y.scrollPanelSize,T=y.hasFrame,w=y.hasLevelTitles,b=new P.Z(v),k=l.getThickness(),C=new _(s.getOptions().thickness),O=f==r.sj.AutoSize,x=new P.Z(g);if(x.scale(c),O){(b=new P.Z(x.width+25,x.height+25)).addThickness(k),C.isPositive()&&b.addThickness(C),b.cropBySize(m),b.maxSize(p);var S=new P.Z(b);S.removeThickness(k),C.isPositive()&&S.removeThickness(C),b.space()<2*S.space()?b=S:(k=new _(0,0,0,0),C=new _(0,0,0,0))}else T||(k=new _(0,0,0,0)),!w&&C.isPositive()&&(C=new _(0,0,0,0));var L=new _(k);C.isPositive()&&L.addThickness(C);var I=new P.Z(b);I.addThickness(L);var A=new j(L.left,L.top,b.width,b.height),M=new P.Z(I),z=new j(0,0,M.width,M.height);M.scale(1/c);var R=new E(0,0),F=new E(0,0);0!=C.left?(R=new E(A.x,A.y),F=new E(A.x-C.left,A.bottom())):0!=C.right?(R=new E(A.right(),A.y),F=new E(A.right()+C.right,A.bottom())):0!=C.top?(R=new E(A.x,A.y),F=new E(A.right(),A.y-C.top)):0!=C.bottom&&(R=new E(A.x,A.bottom()),F=new E(A.right(),A.bottom()+C.bottom));var B=new j(R,F),D=new P.Z(B);return D.scale(1/c),h.resize("frameplaceholder",M.width,M.height),h.resize("titlesplaceholder",D.width,D.height),h.resize("placeholder",g.width,g.height),t({autoSize:O,controlSize:I,scale:c,frameMousePanelRect:z,framePlaceholderSize:M,titlesMousePanelRect:B,titlesPlaceholderSize:D,scrollPanelRect:A,mousePanelSize:x,placeholderSize:g}),u.viewportSize=b,u.frameThickness=k,u.frameOffset=C.isPositive()?C:new _(0,0,0,0),u.titlesThickness=C,u.framePlaceholderSize=M,!0},getOptimalPanelSize:function(){return new P.Z(u.viewportSize.width-25,u.viewportSize.height-25)},getScrollPanelSize:function(){return new P.Z(u.viewportSize.width,u.viewportSize.height)},getFrameThickness:function(){return new _(u.frameThickness)},getFrameOffset:function(){return new _(u.frameOffset)},getTitlesThickness:function(){return new _(u.titlesThickness)}}}function Un(e,t,n,i,o,r,a){var l,s={placeholderOffset:null};return{process:function(){var u,h,c=e.getOptions(),d=i.getCursorTreeItem(),f=o.getItemPosition(d),p=new P.Z(o.getContentSize()),m=a.getOptions().scale;return s.placeholderOffset=n.getPlaceholderOffset(),c.forceCenterOnCursor&&(l=r.getTransform(),null!=f&&((u=function(e){var t=!1;return l.transformRect(e.x,e.y,e.width,e.height,!0,this,(function(e,n,i,o){t=new j(e,n,i,o)})),t}(f.actualPosition)).scale(m),p.scale(m),h=t.getScrollPanelSize(),s.placeholderOffset=new E(Math.max(Math.min(u.horizontalCenter()-h.width/2,p.width-h.width),0),Math.max(Math.min(u.verticalCenter()-h.height/2,p.height-h.height),0)))),!0},getPlaceholderOffset:function(){return s.placeholderOffset}}}function Jn(e,t,n,i,o,r,a,l){var s,u,h={positions:{}};function c(){if(null==u)for(var e in u=ce(function(){var e=[],t={};for(var n in h.positions)if(h.positions.hasOwnProperty(n)){var i=h.positions[n],o=Math.max(i.width,i.height);t.hasOwnProperty(o)||(t[o]=!0,e.push(o))}return e}()),h.positions)if(h.positions.hasOwnProperty(e)){var t=h.positions[e];t.context=e,u.addRect(t)}return u}return{getPositions:function(){return h.positions},getTreeItemForMousePosition:function(e,t,n){var i,o,r=null,a=null,l=s.scale,u=c();return i=new j(e/=l,t/=l,0,0),o=new E(e,t),i.offset(n,n,n,n),u.loopArea(this,i,(function(e){var t=e.context,n=o.distanceTo(e.horizontalCenter(),e.verticalCenter());(null==a||n<a)&&(a=n,r=t)})),r},process:function(){var c=o.getItemsPositions(),d=e.getTransform();s=i.getOptions(),u=null,h.positions=[];var f=function(){var e=null;if(null!=r){var i=s.scale,o=new E(r.getPlaceholderOffset()),a=new P.Z(n.getScrollPanelSize()),l=new _(n.getFrameThickness()),u=new _(n.getFrameOffset()),h=new _(t.getMedian());if(!l.isEmpty()){o.scale(1/i),l.scale(1/i),u.scale(1/i),a.scale(1/i),h.scale(1/i);var c=new E(o.x-u.left-l.left,o.y-u.top-l.top),d=new j(o.x,o.y,a.width,a.height);d.offset(u),d.offset(h),e={offset:c,rect:d}}}return e}(),p=l.getItems();if(null!=f)for(var m=0,g=p.length;m<g;m+=1){var y=p[m],v=c[y].actualPosition;d.transformRect(v.x,v.y,v.width,v.height,!0,this,(function(e,t,n,i){var o=new j(e,t,n,i);if(!f.rect.overlaps(o)){var r=f.rect.getProjectionPoint(o.centerPoint());if(null!=r){var l=a.getTemplateParams(y).template.templateConfig,s=new P.Z(l.minimizedItemSize),u=new j(r.x-s.width/2,r.y-s.height/2,s.width,s.height);u.translate(-f.offset.x,-f.offset.y),h.positions[y]=u}}}))}return!0}}}function Qn(e,t,n,i){var o={},r={},a=new Je({viewPortPosition:new Je({x:new Ue(["number"],!1,0),y:new Ue(["number"],!1,0),width:new Ue(["number"],!1,0),height:new Ue(["number"],!1,0)},!1,new j(0,0,0,0))});return{process:function(){var l={isChanged:!1,hash:r};return o=a.read(o,function(){var o,r=n.getTransform(),a=(l=e.getOptions().scale,s=t?new E(t.getPlaceholderOffset()):new E(0,0),u=new P.Z(i.getOptimalPanelSize()),s.scale(1/l),u.scale(1/l),new j(s.x,s.y,u.width,u.height));var l,s,u;null!=a&&r.transformRect(a.x,a.y,a.width,a.height,!1,this,(function(e,t,n,i){o=new j(e,t,n,i)}));return{viewPortPosition:o}}(),"options",l),l.isChanged},getViewPortPosition:function(){return o.viewPortPosition}}}function $n(e){var t={},n={},i=new Je({verticalOffset:new Je({from:new Ue(["number"],!1,0),to:new Ue(["number"],!1,0)},!1,new D(0,0))});return{process:function(){var o={isChanged:!1,hash:n};return t=i.read(t,{verticalOffset:new j(e.getViewPortPosition()).verticalInterval()},"options",o),o.isChanged},getVerticalOffset:function(){return t.verticalOffset}}}function ei(e,t,n){var i={positions:[]};return{getPositions:function(){return i.positions||(i.positions=function(){var i=[],o=e.getOrgTree(),a=n.getItemsPositions(),l=t.getBranchAligner(),s={};o.loopLevels(this,(function(e,t,n){if(t.itemType!=r.qG.Regular)return o.SKIP;if(t.isVisible){var u=a[e];if(u){var h=t.levelOffset;null===h&&(h=l.getGroupSize(t.parent,Ht));var c=new D(u.topConnectorShift,u.bottomConnectorShift-1,n+h),d=c.toString();s[d]||(s[d]=!0,i.push(c))}}}));var u=[];Q(this,i,(function(e){u.push(e)})),i=u,u=[];for(var h=null,c=0,d=i.length;c<d;c+=1){var f=i[c];h&&h.context===f.context?h.to=f.to:(h=f,u.push(f))}for((i=u).length>0&&(i[0].from=0),c=0,d=i.length-1;c<d;c+=1){var p=i[c],m=i[c+1];p.to=m.from}var g=null;for(c=0,d=i.length;c<d;c+=1)f=i[c],g=null===g?f.context:Math.min(g,f.context);var y={};for(c=0,d=i.length;c<d;c+=1){var v=(f=i[c]).context-g,T=y[v];T?T.push(f):y[v]=[f]}return y}()),i.positions},process:function(){return i.positions=null,!0}}}function ti(e,t){var n={positions:[]};return{getPositions:function(){return n.positions},process:function(){var i=e.getAnnotations();if(n.positions=[],i.length>0){var o=t.getPositions();n.positions=function(e,t){var n,i,o,r,a={},l={};for(n=0,i=e.length;n<i;n+=1){var s=e[n].levels,u=[];if(null!=s&&s.length>0)for(o=0,r=s.length;o<r;o+=1){var h=s[o];if(!a[h]){a[h]=!0;u=[];null!=t[h]&&(u=u.concat(t[h]))}}l[n]=[],Q(this,u,(function(e){l[n].push(e)}))}return l}(i,o)}return!0}}}function ni(){}function ii(e){this.graphics=e,this.transform=null,this.lineWidth=1,this.opacity=1,this.fillColor=null,this.lineType=r.SP.Solid,this.borderColor=null}function oi(e,t,n,i,o,a){var l,s;return{process:function(){var n=i.getAnnotations();return(l=e()).reset("placeholder",r.S9.BackgroundAnnotation),n.length>0&&(a.getItemsPositions(),s=t.getTransform(),function(e,t,n){var i,o,u,h,c,d,f,p,m,g,y,v,T,w,b,k;for(i=0,o=e.length;i<o;i+=1)if(null!=(b=e[i]).items&&b.items.length>0){for((f=new ii(l)).transform=s,p=new Te,c=0,d=(T=["opacity","lineWidth","borderColor","fillColor","lineType"]).length;c<d;c+=1)f[w=T[c]]=b.hasOwnProperty(w)?b[w]:p[w];for(l.activate("placeholder",r.S9.BackgroundAnnotation),m=[],y={},u=0,h=b.items.length;u<h;u+=1)v=b.items[u],null!=(k=a.getItemPosition(v))&&(y[v]=!0,(g=new j(k.actualPosition)).offset(b.offset),m.push(g),b.includeChildren&&n.loopChildren(this,v,(function(e,t){y[e]||(y[e]=!0,null!=(k=a.getItemPosition(e))&&((g=new j(k.actualPosition)).offset(b.offset),m.push(g)))})));f.draw(m)}}(n,0,o.getLogicalFamily())),!1}}}function ri(){var e={};function t(e,t){return e[t.toString()]||(e[t.toString()]=new dn(t)),e[t.toString()]}function n(t,n){var i,o;if(null!=n)for(i in e)if(e.hasOwnProperty(i)&&(o=e[i])&&(o.optimizeMoveSegments(),n.call(t,o)))break}return{getPolyline:function(n){return t(e,n)},loop:n,addInverted:function(i,o){var r,a;r=e,e={},null!=i&&i(this),n(this,(function(e){a=t(r,e.paletteItem),o?e.mergeTo(a):a.addInverted(e)})),e=r},transform:function(e,t){n(this,(function(n){n.transform(e,t)}))}}}function ai(e,t,n,i,o){return{process:function(){var a=i.getGraph(),l=t.getOptions(),s=n.getAnnotations(),u=e();switch(o){case r.k0.Background:u.reset("placeholder",r.S9.BackgroundHighlightPathAnnotations);break;case r.k0.Foreground:u.reset("placeholder",r.S9.ForegroundHighlightPathAnnotations)}return function(e,t,n,i){var a,l,s,u,h,c,d,f,p,m,g,y,v,T;if(n.length>0){switch(y=new ri,o){case r.k0.Background:e.activate("placeholder",r.S9.BackgroundHighlightPathAnnotations);break;case r.k0.Foreground:e.activate("placeholder",r.S9.ForegroundHighlightPathAnnotations)}var w={};for(a=0,l=n.length;a<l;a+=1)if(null!=(g=n[a]).items&&g.items.length>0&&(c=(p=g.items.slice(0))[0],i.hasNode(c)))for(s=1,u=p.length;s<u;s+=1)d=p[s],i.hasNode(d)&&(w.hasOwnProperty(c)?w[c].push(d):w[c]=[d],c=d);var b={};for(v in w)b[v]={},w.hasOwnProperty(v)&&i.getShortestPath(this,v,w[v],(function(e,t,n){return e.weight}),(function(e,t){b[v][t]=e}));for(a=0,l=n.length;a<l;a+=1){var k=new sn({lineColor:null!=(g=n[a]).color?g.color:t.highlightLinesColor,lineWidth:null!=g.lineWidth?g.lineWidth:t.highlightLinesWidth,lineType:null!=g.lineType?g.lineType:t.highlightLinesType,fillColor:null,opacity:g.opacity}),C=y.getPolyline(k);if(null!=g.items&&g.items.length>0&&(c=(p=g.items.slice(0))[0],i.hasNode(c)))for(s=1,u=p.length;s<u;s+=1)if(d=p[s],i.hasNode(d)){for(h=(f=b[c][d]||[]).length-2;h>=0;h-=1)v=f[h+1],T=f[h],(m=i.edge(v,T)).from==v?m.polyline.clone().mergeTo(C):C.addInverted(m.polyline.clone()),g.showArrows&&(T!=m.parentsArrowId&&T!=m.childrenArrowId||C.addArrow(g.lineWidth,(function(e){e.mergeTo(y.getPolyline(e.paletteItem))})));c=d}}e.polylinesBuffer(y)}}(u,l,s,a),!1}}}function li(){this.id=null,this.element=null,this.context=null,this.templateName=null,this.renderingMode=null,this.isCursor=!1,this.isSelected=!1}function si(){var e=new j,t=[],n=[];return{addVector:function(i,o){t.push(i),n.push(o),e.addRect(i.from.x,i.from.y),e.addRect(i.to.x,i.to.y)},resolve:function(){if(1==t.length)n[0](0,1,1);else{var i=ue();!function(i){var o,r,a;if(e.width>e.height)for(o=0,r=t.length;o<r;o+=1)i((a=t[o]).from.x,a.to.x,n[o]);else for(o=0,r=t.length;o<r;o+=1)i((a=t[o]).from.y,a.to.y,n[o])}((function(e,t,n){i.add(e,t,n)}));i.resolve(this,(function(e,t,n,i,o,r){n(i,o,r)}))}}}}function ui(){}function hi(){}function ci(e,t,n,i,o,a,s,u){var h,c,d,f;return{process:function(){switch(h=e(),c=t.getTransform(),i.getOptions(),d=s.getTemplate(),f=new P.Z(a.getContentSize()),u){case r.k0.Background:h.reset("placeholder",r.S9.BackgroundConnectorAnnotation);break;case r.k0.Foreground:h.reset("placeholder",r.S9.ForegroundConnectorAnnotation)}return function(e,t){r.S9.ForegroundConnectorAnnotation;var n,i,o,a,s,p,m,g,y,v=new ri,T=(b={},{getOffset:function(e,t){var n=e.getLineKey();b.hasOwnProperty(n)||(b[n]=new si),b[n].addVector(e,t)},resolve:function(){for(var e in b)b.hasOwnProperty(e)&&b[e].resolve()}}),w=0;var b;switch(u){case r.k0.Background:h.activate("placeholder",r.S9.BackgroundConnectorAnnotation);break;case r.k0.Foreground:h.activate("placeholder",r.S9.ForegroundConnectorAnnotation)}for(n=0,i=e.length;n<i;n+=1)g=e[n],w=Math.max(w,g.lineWidth);for(n=0,i=e.length;n<i;n+=1)if(null!=(g=e[n]).fromItem&&null!=g.toItem&&(o=t(g.fromItem),s=t(g.toItem),null!=o&&null!=s)){switch(a=o.actualPosition,p=s.actualPosition,g.connectorPlacementType){case r.$I.Offbeat:m=new hi;break;case r.$I.Straight:m=new ui}var k;c.transformRect(0,0,g.labelSize.width,g.labelSize.height,!1,this,(function(e,t,n,i){k=new P.Z(n,i)}));var C=null;c.transformRect(0,0,f.width,f.height,!1,this,(function(e,t,n,i){C=new P.Z(n,i)}));var O=new sn({lineColor:g.color,lineWidth:g.lineWidth,lineType:g.lineType}),x=!l(g.label),S=new j(a).offset(g.offset),L=new j(p).offset(g.offset),I=3*g.lineWidth,A=6*w;m.draw(v,O,S,L,I,A,k,C,g.connectorShapeType,4,g.labelPlacementType,x,T,(function(e,t){!l(t.label)&&null!=e&&(c.transformRect(e.x,e.y,e.width,e.height,!0,this,(function(t,n,i,o){e=new j(t,n,i,o)})),(y=new li).context=t,h.template(e.x,e.y,0,0,0,0,e.width,e.height,d.template(),d.getHashCode(),d.render,y,null))}),g)}T.resolve(),v.transform(c,!0),h.polylinesBuffer(v)}(o.getAnnotations(),a.getItemPosition),!1}}}function di(e){this.m_graphics=e,this.pointerPlacement=r.TK.Auto,this.cornerRadius="10%",this.offset=0,this.opacity=1,this.lineWidth=1,this.pointerWidth="10%",this.borderColor=r.wL.Black,this.lineType=r.SP.Solid,this.fillColor=r.wL.LightGray,this.m_map=[[r.TK.TopLeft,r.TK.Left,r.TK.BottomLeft],[r.TK.Top,null,r.TK.Bottom],[r.TK.TopRight,r.TK.Right,r.TK.BottomRight]]}function fi(){}function pi(e){this.m_graphics=e,this.transform=null,this.orientationType=r.F7.Top,this.panelSize=null,this.shapeType=r.DY.Rectangle,this.offset=new _(0,0,0,0),this.lineWidth=1,this.labelOffset=4,this.cornerRadius="10%",this.opacity=1,this.fillColor=null,this.labelSize=new P.Z(60,30),this.lineType=r.SP.Solid,this.borderColor=null,this.hasLabel=!1,this.labelTemplate=null,this.labelPlacement=r.TK.Auto}function mi(e,t,n,i,o,a,l,s){var u,h,c,d;return{process:function(){switch(u=e(),h=t.getTransform(),c=i.getOptions(),d=l.getTemplate(),s){case r.k0.Background:u.reset("placeholder",r.S9.BackgroundAnnotations);break;case r.k0.Foreground:u.reset("placeholder",r.S9.ForegroundAnnotations)}return function(e,t){var n,i,o,a,l,f,p,m,g,y,v,T,w,b,k;switch(s){case r.k0.Background:n=u.activate("placeholder",r.S9.BackgroundAnnotations);break;case r.k0.Foreground:n=u.activate("placeholder",r.S9.ForegroundAnnotations)}for(i=0,o=e.length;i<o;i+=1)if(null!=(b=e[i]).items&&b.items.length>0){for(v=new j,a=0,l=b.items.length;a<l;a+=1)null!=(y=t(b.items[a]))&&v.addRect(y.actualPosition);if(!v.isEmpty()){for(m=new pi(u),g=new Oe,f=0,p=(T=["opacity","cornerRadius","shapeType","offset","lineWidth","borderColor","fillColor","lineType","labelSize","labelOffset","labelPlacement","zOrderType"]).length;f<p;f+=1)w=T[f],m[w]=b.hasOwnProperty(w)?b[w]:g[w];m.position=v,m.orientationType=c.orientationType,m.panelSize=n.size,m.labelTemplate=d,m.hasLabel=null!=b.templateName||null!=b.label,(k=new li).context=b,k.templateName=m.labelTemplate,h.transformRect(v.x,v.y,v.width,v.height,!0,this,(function(e,t,n,i){var o=new j(e,t,n,i);m.draw(o,k)}))}}}(o.getAnnotations(),a.getItemPosition),!1}}}function gi(e,t,n,i,o,a,l,s){var u,h;return{process:function(){var n=l.getCursorTreeItem();return(u=e()).reset("placeholder",r.S9.Cursor),null!=n&&(h=t.getTransform(),function(e){u.activate("placeholder",r.S9.Cursor);var t,n=o.getItemPosition(e);if(null!=n){var l=n.actualPosition,c=new j(n.contentPosition),d=a.getTemplateParams(e).template,f=d.templateConfig,p=f.cursorPadding;c.offset(p.left,p.top,p.right,p.bottom),(t=new li).context=i.getConfig(e),t.isCursor=!0,t.isSelected=s.isSelected(e),t.templateName=f.name,h.transformRect(l.x,l.y,l.width,l.height,!0,this,(function(e,n,i,o){u.template(e,n,i,o,c.x,c.y,c.width,c.height,d.cursorTemplate.template(),d.cursorTemplate.getHashCode(),d.cursorTemplate.render,t,{borderWidth:f.cursorBorderWidth})}))}}(n)),!1}}}function yi(e,t,n,i,o,a,l,s,u){var h,c;return{process:function(){var n=l.getHighlightTreeItem();return(h=e()).reset("placeholder",r.S9.Highlight),null!=n&&(c=t.getTransform(),function(e){h.activate("placeholder",r.S9.Highlight);var t,n=o.getItemPosition(e),l=n.actualPosition,d=a.getTemplateParams(e).template,f=d.templateConfig,p=f.highlightPadding;(t=new li).context=i.getConfig(e),t.isCursor=s.getCursorTreeItem()==e,t.isSelected=u.isSelected(e),t.templateName=f.name,c.transformRect(l.x,l.y,l.width,l.height,!0,this,(function(e,i,o,a){var l=new j(0,0,Math.round(o),Math.round(a));l.offset(p.left,p.top,p.right,p.bottom),n.actualVisibility==r.EE.Normal?h.template(e,i,o,a,l.x,l.y,l.width,l.height,d.highlightTemplate.template(),d.highlightTemplate.getHashCode(),d.highlightTemplate.render,t,{borderWidth:f.highlightBorderWidth}):h.template(Math.round(e),Math.round(i),Math.round(o),Math.round(a),Math.round(l.x),Math.round(l.y),Math.round(l.width),Math.round(l.height),d.dotHighlightTemplate.template(),d.dotHighlightTemplate.getHashCode(),d.dotHighlightTemplate.render,t,{borderWidth:f.highlightBorderWidth})}))}(n)),!1}}}function vi(e,t,n,i,o,a,s,u,h,c,d,f,p){var m,g,y,v=new di(e());return{process:function(){var T=c.getHighlightTreeItem();return(m=e()).reset("calloutplaceholder",r.S9.Annotation),null!==T&&(g=t.getTransform(),y=a.getOptions(),function(e){var t,c,T,w,b,k,C=!0,O=u.getItemPosition(e),x=O.actualPosition;switch(O.actualVisibility){case r.EE.Dot:case r.EE.Line:case r.EE.Normal:switch((t=a.getItemOptions(e)).showCallout){case r.xB.False:case r.xB.True:C=!1;break;default:C=y.showCallout}C?(m.activate("placeholder",r.S9.Item),g.transformRect(x.x,x.y,x.width,x.height,!0,this,(function(a,u,g,C){var x=new j(a,u,g,C),S=new E(x.centerPoint()),L=function(){var e=i.getOptions().scale,t=new E(h.getPlaceholderOffset()),o=new P.Z(n.getScrollPanelSize()),r=new _(n.getFrameOffset()),a=new _(p.getMedian());t.scale(1/e),r.scale(1/e),o.scale(1/e),a.scale(1/e);var l=new j(t.x,t.y,o.width,o.height),s=new j(l);return s.offset(r),s.offset(a),{medianRect:s,viewPortRect:l}}(),I=L.medianRect,A=L.viewPortRect,M=I.getProjectionPoint(x.centerPoint());null==M&&(M=S),O.actualVisibility>=y.calloutMaximumVisibility&&O.actualVisibility!=r.EE.Invisible||!I.overlaps(x)?(b=l(t.calloutTemplateName)?l(t.templateName)?l(y.defaultCalloutTemplateName)?y.defaultTemplateName:y.defaultCalloutTemplateName:t.templateName:t.calloutTemplateName,k=s.getTemplate(b,s.DefaultWidgetTemplateName),T=function(e,t,n){var i=new j(e.x,e.y,n.width,n.height);switch(y.orientationType){case r.F7.Top:case r.F7.Bottom:i.y-=n.height/4,e.x<t.horizontalCenter()?i.x+=y.calloutPlacementOffset:i.x-=y.calloutPlacementOffset+n.width;break;default:i.x-=n.width/4,e.y<t.verticalCenter()?i.y+=y.calloutPlacementOffset:i.y-=y.calloutPlacementOffset+n.height}i.x<t.x?i.x=t.x+y.calloutPlacementOffset:i.right()>t.right()&&(i.x-=i.right()-t.right()+y.calloutPlacementOffset);i.y<t.y?i.y=t.y+y.calloutPlacementOffset:i.bottom()>t.bottom()&&(i.y-=i.bottom()-t.bottom()+y.calloutPlacementOffset);return i}(M,A,k.templateConfig.itemSize),(c=new j(T)).addRect(M.x,M.y),c.offset(50),M.x-=c.x,M.y-=c.y,T.x-=c.x,T.y-=c.y,(w=new li).context=o.getConfig(e),w.isCursor=d.getCursorTreeItem()==e,w.isSelected=f.isSelected(e),w.templateName=k.templateConfig.name,m.show("calloutplaceholder"),m.activate("calloutplaceholder",r.S9.Annotation),m.position("calloutplaceholder",c.x,c.y,c.width,c.height),m.template(T.x,T.y,T.width,T.height,0,0,T.width,T.height,k.itemTemplate.template(),k.itemTemplate.getHashCode(),k.itemTemplate.render,w,null),v.pointerPlacement=r.TK.Auto,v.cornerRadius=y.calloutCornerRadius,v.offset=y.calloutOffset,v.opacity=y.calloutOpacity,v.lineWidth=y.calloutLineWidth,v.pointerWidth=y.calloutPointerWidth,v.borderColor=y.calloutBorderColor,v.fillColor=y.calloutfillColor,v.draw(M,T)):m.hide("calloutplaceholder")}))):m.hide("calloutplaceholder");break;case r.EE.Invisible:m.hide("calloutplaceholder")}}(T)),!1}}}function Ti(e,t,n,i,o,a,l,s,u,h,c,d,f,p){var m,g,y,v,T,w,b;return{process:function(){return g=e(),v=o.getOptions(),m=l.getItemsPositions(),y=t.getTransform(),T=p.getTemplate(),w=f.getTemplate(),b=d.getTemplate(),g.reset("placeholder",r.S9.Item),g.reset("placeholder",r.S9.Controls),function(){var e,t,o,d=h.getCursorTreeItem(),f=function(){var e=null;if(null!=s){var t=i.getOptions().scale,o=new E(s.getPlaceholderOffset()),r=new j(l.getContentSize()),a=new P.Z(n.getOptimalPanelSize());o.scale(1/t),a.scale(1/t),e=new j(o.x,o.y,Math.min(a.width,r.width),Math.min(a.height,r.height))}return e}();for(var p in m)m.hasOwnProperty(p)&&(o=(t=m[p]).actualPosition,t.actualVisibility==r.EE.Normal&&y.transformRect(o.x,o.y,o.width,o.height,!0,this,(function(n,i,o,l){var s=new j(n,i,o,l);if(null==f||f.overlaps(s)){var h=u.getTemplateParams(p);if(null!=h){var m=h.template;if((e=new li).id=p,e.context=a.getConfig(p),e.isCursor=p==d,e.isSelected=c.isSelected(p),e.templateName=m.templateConfig.name,e.template=h.template,e.isActive=h.isActive,e.hasSelectorCheckbox=h.hasSelectorCheckbox,e.hasButtons=h.hasButtons,e.hasGroupTitle=h.hasGroupTitle,e.onButtonsRender=h.onButtonsRender,g.activate("placeholder",r.S9.Item),g.template(n,i,o,l,t.contentPosition.x,t.contentPosition.y,t.contentPosition.width,t.contentPosition.height,m.itemTemplate.template(),m.itemTemplate.getHashCode(),m.itemTemplate.render,e,{borderWidth:m.templateConfig.itemBorderWidth}),h.hasGroupTitle){var y=0;switch(v.groupTitlePlacementType){case r.hZ.Left:case r.hZ.Auto:y=2;break;case r.hZ.Right:y=o-(v.groupTitlePanelSize-4)}g.template(n,i,o,l,y,t.contentPosition.y,v.groupTitlePanelSize-4,t.contentPosition.height+2,b.template(),b.getHashCode(),b.render,e,null)}if(h.hasSelectorCheckbox&&(g.activate("placeholder",r.S9.Controls),g.template(n,i,o,l,t.contentPosition.x,l-(v.checkBoxPanelSize-4),t.contentPosition.width,v.checkBoxPanelSize-4,w.template(),w.getHashCode(),w.render,e,null)),h.hasButtons){g.activate("placeholder",r.S9.Controls);var k=0;switch(v.groupTitlePlacementType){case r.hZ.Left:case r.hZ.Auto:k=o-(v.buttonsPanelSize-4);break;case r.hZ.Right:k=2}g.template(n,i,o,l,k,t.contentPosition.y,v.buttonsPanelSize-4,Math.max(t.contentPosition.height,l-t.contentPosition.y),T.template(),m.templateConfig.name+T.getHashCode(),T.render,e,null)}}}})))}(),!1}}}function wi(e,t,n,i,o){this.segmentType=r.vZ.Dot,this.x=e,this.y=t,this.width=n,this.height=i,this.cornerRadius=o}function bi(e,t,n,i,o,a){var l,s,u,h;return{process:function(){return l=e(),s=t.getTransform(),u=i.getOptions(),h=a.getItemsPositions(),l.reset("placeholder",r.S9.Marker),function(){var e,t,n,a,c,d,f,p,m,g=new ri,y=new fi;for(var v in h)h.hasOwnProperty(v)&&(d=(c=h[v]).actualPosition,f=i.getItemOptions(v),s.transformRect(d.x,d.y,d.width,d.height,!0,this,(function(i,l,s,h){switch(c.actualVisibility){case r.EE.Dot:p=o.getTemplateParams(v),m=p.template.templateConfig,e=null,t=null,n=null,a=0,null!=f&&(e=f.itemTitleColor,t=f.itemTitleColor,n=f.minimizedItemShapeType),e=e||m.minimizedItemBorderColor||r.wL.Navy,t=t||m.minimizedItemFillColor||r.wL.Navy,null==n&&(n=null!==m.minimizedItemShapeType?m.minimizedItemShapeType:u.minimizedItemShapeType),a=null===m.minimizedItemCornerRadius?m.minimizedItemSize.width:m.minimizedItemCornerRadius,null==n||n==r.DY.None?g.getPolyline(new sn({lineColor:e,lineWidth:m.minimizedItemLineWidth,lineType:m.minimizedItemLineType,fillColor:t,opacity:m.minimizedItemOpacity})).addSegment(new wi(i,l,s,h,a)):y.draw(g,n,new j(i,l,s,h),new sn({lineColor:e,lineWidth:m.minimizedItemLineWidth,lineType:m.minimizedItemLineType,fillColor:t,opacity:m.minimizedItemOpacity}));case r.EE.Invisible:false}})));l.activate("placeholder",r.S9.Marker),l.polylinesBuffer(g)}(),!1}}}function ki(e,t,n,i,o){return{process:function(){var a=e(),l=t.getGraph(),s=n.getOptions(),u=o.getPaletteManager();a.reset("placeholder",r.S9.Connector),a.activate("placeholder",r.S9.Connector);var h=new ri,c=Math.round(s.elbowDotSize/2),d={},f={};return l.loopNodes(this,null,(function(e){l.loopNodeEdges(this,e,(function(t,n){if(!d.hasOwnProperty(t)){var o=null;n.fromOffset<=1?o=u.getPalette(r.ML.Regular):(u.selectPalette(n.fromOffset),o=u.getPalette(r.ML.Extra));var a=h.getPolyline(o);if(i&&null!=n.dotId&&s.elbowType!=r.ex.None&&!f.hasOwnProperty(n.dotId)){var l=h.getPolyline(a.arrowPaletteItem),p=n.dotId==n.from?n.polyline.getStartPoint():n.polyline.getEndPoint();l.addSegment(new wi(p.x-c,p.y-c,2*c,2*c,c)),f[n.dotId]=!0}var m=null;if(n.hasArrow)switch(s.arrowsDirection){case r.zX.Parents:m=n.isOppositeFlow?n.childrenArrowId:n.parentsArrowId;break;case r.zX.Children:m=n.isOppositeFlow?n.parentsArrowId:n.childrenArrowId}if(null==m){var g=n.polyline.clone();if(n.hasMiddle&&s.arrowsDirection!=r.zX.None){var y=!0;y=n.from==n.middleParent?s.arrowsDirection==r.zX.Children:s.arrowsDirection==r.zX.Parents,n.isOppositeFlow&&(y=!y),g.addOffsetArrow(y,s.linesWidth,.4,s.extraArrowsMinimumSpace,(function(e){e.mergeTo(h.getPolyline(a.arrowPaletteItem))}))}n.from==e?g.mergeTo(a):a.addInverted(g)}else m==n.to?n.polyline.clone().mergeTo(a):a.addInverted(n.polyline.clone()),a.addArrow(s.linesWidth,(function(e){e.mergeTo(h.getPolyline(e.paletteItem))}))}})),d[e]=!0})),a.polylinesBuffer(h),!1}}}function Ci(){this.text=null,this.position=null,this.weight=0,this.isActive=!0,this.labelType=r.JG.Regular,this.labelOrientation=r.GE.Horizontal,this.horizontalAlignmentType=r.a3.Center,this.verticalAlignmentType=r.Vn.Bottom,this.parent=j.prototype,this.parent.constructor.apply(this,arguments)}function Oi(e,t,n,i,o){function a(e,t,n,i,o,a,s){var u,h,c,d,f,p=null;if(!l(o.label)){var m=function(e,t,n){var i=r.JG.None;switch(t){case r.xB.Auto:switch(n){case r.xB.Auto:switch(e){case r.EE.Line:case r.EE.Dot:i=r.JG.Regular}break;case r.xB.False:break;case r.xB.True:i=r.JG.Fixed}break;case r.xB.False:break;case r.xB.True:i=r.JG.Fixed}return i}(a.actualVisibility,o.showLabel,s.showLabels);switch(m){case r.JG.Regular:f=a.actualSize.width+a.actualSize.height;break;case r.JG.Fixed:f=1e4;break;case r.JG.None:f=0}if(m!=r.JG.None){c=null!=o.labelSize?o.labelSize:s.labelSize;var g=o.labelOrientation!=r.GE.Auto?o.labelOrientation:s.labelOrientation!=r.GE.Auto?s.labelOrientation:r.GE.Horizontal;switch(d=o.labelPlacement!=r.TK.Auto?o.labelPlacement:s.labelPlacement!=r.TK.Auto?s.labelPlacement:r.TK.Top,g){case r.GE.Horizontal:u=c.width,h=c.height;break;case r.GE.RotateLeft:case r.GE.RotateRight:h=c.width,u=c.height}var y=function(e,t,n,i,o,a,l,s,u){var h,c,d;switch(e){case r.TK.Auto:case r.TK.Top:switch(h=new j(n+o/2-l/2,i-u-s,l,s),t){case r.GE.Horizontal:c=r.a3.Center,d=r.Vn.Bottom;break;case r.GE.RotateLeft:c=r.a3.Left,d=r.Vn.Middle;break;case r.GE.RotateRight:c=r.a3.Right,d=r.Vn.Middle}break;case r.TK.TopRight:case r.TK.RightTop:switch(h=new j(n+o+u,i-u-s,l,s),t){case r.GE.Horizontal:c=r.a3.Left,d=r.Vn.Bottom;break;case r.GE.RotateLeft:c=r.a3.Left,d=r.Vn.Top;break;case r.GE.RotateRight:c=r.a3.Right,d=r.Vn.Bottom}break;case r.TK.Right:switch(h=new j(n+o+u,i+a/2-s/2,l,s),t){case r.GE.Horizontal:c=r.a3.Left,d=r.Vn.Middle;break;case r.GE.RotateLeft:c=r.a3.Center,d=r.Vn.Top;break;case r.GE.RotateRight:c=r.a3.Center,d=r.Vn.Bottom}break;case r.TK.BottomRight:case r.TK.RightBottom:switch(h=new j(n+o+u,i+a+u,l,s),t){case r.GE.Horizontal:c=r.a3.Left,d=r.Vn.Top;break;case r.GE.RotateLeft:c=r.a3.Right,d=r.Vn.Top;break;case r.GE.RotateRight:c=r.a3.Left,d=r.Vn.Bottom}break;case r.TK.Bottom:switch(h=new j(n+o/2-l/2,i+a+u,l,s),t){case r.GE.Horizontal:c=r.a3.Center,d=r.Vn.Top;break;case r.GE.RotateLeft:c=r.a3.Right,d=r.Vn.Middle;break;case r.GE.RotateRight:c=r.a3.Left,d=r.Vn.Middle}break;case r.TK.BottomLeft:case r.TK.LeftBottom:switch(h=new j(n-l-u,i+a+u,l,s),t){case r.GE.Horizontal:c=r.a3.Right,d=r.Vn.Top;break;case r.GE.RotateLeft:c=r.a3.Right,d=r.Vn.Bottom;break;case r.GE.RotateRight:c=r.a3.Left,d=r.Vn.Top}break;case r.TK.Left:switch(h=new j(n-l-u,i+a/2-s/2,l,s),t){case r.GE.Horizontal:c=r.a3.Right,d=r.Vn.Middle;break;case r.GE.RotateLeft:c=r.a3.Center,d=r.Vn.Bottom;break;case r.GE.RotateRight:c=r.a3.Center,d=r.Vn.Top}break;case r.TK.TopLeft:case r.TK.LeftTop:switch(h=new j(n-l-u,i-u-s,l,s),t){case r.GE.Horizontal:c=r.a3.Right,d=r.Vn.Bottom;break;case r.GE.RotateLeft:c=r.a3.Left,d=r.Vn.Bottom;break;case r.GE.RotateRight:c=r.a3.Right,d=r.Vn.Top}}return{position:h,horizontalAlignmentType:c,verticalAlignmentType:d}}(d,g,e,t,n,i,u,h,s.labelOffset);(p=new Ci(y.position)).labelType=m,p.weight=f,p.text=o.label,p.labelOrientation=g,p.horizontalAlignmentType=y.horizontalAlignmentType,p.verticalAlignmentType=y.verticalAlignmentType}}return p}return{process:function(){var n=i.getOptions(),l={graphics:e(),transform:t.getTransform(),treeItemsPositions:o.getItemsPositions()},s={showLabels:n.showLabels,labelFontSize:n.labelFontSize,labelFontFamily:n.labelFontFamily,labelFontStyle:n.labelFontStyle,labelFontWeight:n.labelFontWeight,labelColor:n.labelColor,itemsOptions:i.getItemsOptions(),labelSize:n.labelSize,labelOrientation:n.labelOrientation,labelPlacement:n.labelPlacement,labelOffset:n.labelOffset};return l.graphics.reset("placeholder",r.S9.Label),function(e,t){var n=[];if(t.showLabels==r.xB.Auto||t.showLabels==r.xB.True)for(var i in e.treeItemsPositions)if(e.treeItemsPositions.hasOwnProperty(i)){var o=t.itemsOptions[i],l=e.treeItemsPositions[i],s=l.actualPosition;null!=o&&e.transform.transformRect(s.x,s.y,s.width,s.height,!0,this,(function(e,i,s,u){switch(l.actualVisibility){case r.EE.Normal:t.showLabels==r.xB.Auto&&((h=new Ci(e,i,s,u)).weight=1e4,h.labelType=r.JG.Dummy,n.push(h));break;case r.EE.Dot:case r.EE.Line:var h=a(e,i,s,u,o,l,t);null!=h&&n.push(h)}}))}t.showLabels==r.xB.Auto&&V(this,n,(function(e,t){if(e.isActive&&t.isActive)switch(e.labelType){case r.JG.Dummy:switch(t.labelType){case r.JG.Dummy:break;case r.JG.Regular:case r.JG.Fixed:t.isActive=!1}break;case r.JG.Fixed:switch(t.labelType){case r.JG.Dummy:e.isActive=!1;break;case r.JG.Regular:t.isActive=!1;case r.JG.Fixed:}break;case r.JG.Regular:switch(t.labelType){case r.JG.Dummy:e.isActive=!1;break;case r.JG.Regular:e.weight<=t.weight?e.isActive=!1:t.isActive=!1;break;case r.JG.Fixed:e.isActive=!1}}}));e.graphics.activate("placeholder",r.S9.Label);for(var u={fontSize:t.labelFontSize,fontFamily:t.labelFontFamily,fontStyle:t.labelFontStyle,fontWeight:t.labelFontWeight,fontColor:t.labelColor},h=0,c=n.length;h<c;h+=1){var d=n[h];if(d.isActive)switch(d.labelType){case r.JG.Regular:case r.JG.Fixed:e.graphics.text(d.x,d.y,d.width,d.height,d.text,d.labelOrientation,d.horizontalAlignmentType,d.verticalAlignmentType,u)}}}(l,s),!1}}}function Pi(e,t,n,i,o){var a;return{process:function(){var l=new _(t.getFrameThickness());return(a=e()).reset("frameplaceholder",r.S9.Marker),l.isEmpty()||function(){var e=new ri,t=n.getPositions(),l=o.getOptions(),s=new fi;for(var u in t)if(t.hasOwnProperty(u)){var h=t[u],c=i.getTemplateParams(u).template.templateConfig,d=o.getItemOptions(u),f=null,p=null,m=null,g=0;null!=d&&(f=d.itemTitleColor,p=d.itemTitleColor,m=d.minimizedItemShapeType),f=f||c.minimizedItemBorderColor||r.wL.Navy,p=p||c.minimizedItemFillColor||r.wL.Navy,null==m&&(m=null!==c.minimizedItemShapeType?c.minimizedItemShapeType:l.minimizedItemShapeType),g=null===c.minimizedItemCornerRadius?c.minimizedItemSize.width:c.minimizedItemCornerRadius,null==m||m==r.DY.None?e.getPolyline(new sn({lineColor:f,lineWidth:c.minimizedItemLineWidth,lineType:c.minimizedItemLineType,fillColor:p,opacity:c.minimizedItemOpacity})).addSegment(new wi(h.x,h.y,h.width,h.height,g)):s.draw(e,m,h,new sn({lineColor:f,lineWidth:c.minimizedItemLineWidth,lineType:c.minimizedItemLineType,fillColor:p,opacity:c.minimizedItemOpacity}))}a.activate("frameplaceholder",r.S9.Marker),a.polylinesBuffer(e)}(),!1}}}function xi(e,t,n,i,o,a){var l;return{process:function(){var s=o.getHighlightTreeItem();return(l=e()).reset("frameplaceholder",r.S9.Highlight),null!=s&&function(e){var o,s=t.getPositions()[e];if(null!=s){var u=i.getTemplateParams(e).template,h=u.templateConfig,c=h.highlightPadding;l.activate("frameplaceholder",r.S9.Highlight),(o=new li).context=n.getConfig(e),o.isCursor=a.getCursorTreeItem()==e,o.isSelected=!0,o.templateName=h.name;var d=new j(0,0,Math.round(s.width),Math.round(s.height));d.offset(c.left,c.top,c.right,c.bottom),l.template(Math.round(s.x),Math.round(s.y),Math.round(s.width),Math.round(s.height),Math.round(d.x),Math.round(d.y),Math.round(d.width),Math.round(d.height),u.dotHighlightTemplate.template(),u.dotHighlightTemplate.getHashCode(),u.dotHighlightTemplate.render,o,{borderWidth:h.highlightBorderWidth})}}(s),!1}}}function Si(e,t,n,i,o,a,l,s){var u,h,c,d;return{process:function(){var i=o.getAnnotations();return(u=e()).reset("titlesplaceholder",r.S9.LevelAnnotation),i.length>0&&(h=a.getPositions(),c=n.getTransform(),d=l.getTitleTemplate(),function(e,n){var i,o=new D(t.getVerticalOffset()),a=s.getOptions().levelTitlePanelSize;u.activate("titlesplaceholder",r.S9.LevelAnnotation),c.transformRect(0,o.from,0,o.width(),!0,this,(function(e,t,n,o){i=new j(e,t,n,o)}));for(var l=0,h=e.length;l<h;l+=1){var f=e[l],p=n[l];if(null!=p)for(var m=0,g=p.length;m<g;m+=1){var y=p[m],v=new j(0,y.from,a,y.width());if(v.verticalInterval().overlaps(o)){var T=new _(0,f.offset.top,0,f.offset.bottom);v.offset(T);var w=new li;w.context=f,c.transformRect(v.x,v.y,v.width,v.height,!0,this,(function(e,t,n,o){u.template(e-i.x,t-i.y,n,o,0,0,n,o,d.template(),d.getHashCode(),d.render,w,null)}))}}}}(i,h)),!1}}}function Li(e,t,n,i,o,a,l){var s,u,h,c;return{process:function(){var i=o.getAnnotations();return(s=e()).reset("placeholder",r.S9.LevelAnnotation),i.length>0&&(u=a.getPositions(),h=n.getTransform(),c=l.getBackgroundTemplate(),function(e,n){var i,o=new D(t.getVerticalOffset()),a=s.activate("placeholder",r.S9.LevelAnnotation);h.transformRect(0,0,a.size.width,a.size.height,!1,this,(function(e,t,n,o){i=new j(e,t,n,o)}));for(var l=0,u=e.length;l<u;l+=1){var d=e[l],p=h.transformThickness(d.lineWidth,!0),m=n[l];if(null!=m)for(var g=0,y=m.length;g<y;g+=1){var v=m[g],T=new j(0,v.from,i.width,v.width());if(T.offset(d.offset),T.verticalInterval().overlaps(o)){var w=new li;w.context=d,f(w.context,{lineWidth:p}),h.transformRect(T.x,T.y,T.width,T.height,!0,this,(function(e,t,n,i){s.template(e,t,n,i,0,0,n,i,c.template(),c.getHashCode(),c.render,w,null)}))}}}}(i,u)),!1}}}function Ii(e,t,n,i,o){var a=new Ke;return a.addDependency("options",e),a.addDependency("graphics",t),a.addDependency("getLayout",n),a.addDependency("setLayout",i),a.addDependency("templates",o),a.addDependency("defaultConfig",new fe),a.addDependency("defaultItemConfig",new pe),a.addDependency("defaultTemplateConfig",new xe),a.addDependency("defaultBackgroundAnnotationConfig",new Te),a.addDependency("defaultConnectorAnnotationConfig",new we),a.addDependency("defaultHighlightPathAnnotationConfig",new be),a.addDependency("defaultShapeAnnotationConfig",new Oe),a.addDependency("defaultLevelAnnotationConfig",new Pe),a.addDependency("showElbowDots",!1),a.addDependency("null",null),a.addDependency("foreground",r.k0.Foreground),a.addDependency("background",r.k0.Background),a.addTask("OptionsTask",["options"],Xe,r.wL.Black),a.addTask("CalloutOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],$e,r.wL.Navy),a.addTask("ConnectorsOptionTask",["OptionsTask","defaultConfig"],et,r.wL.Navy),a.addTask("ItemsOptionTask",["OptionsTask","defaultItemConfig"],tt,r.wL.Navy),a.addTask("ItemsContentOptionTask",["OptionsTask","defaultItemConfig"],nt,r.wL.Navy),a.addTask("ItemsSizesOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],ot,r.wL.Navy),a.addTask("MinimumVisibleLevelsOptionTask",["OptionsTask","defaultConfig"],rt,r.wL.Navy),a.addTask("LabelsOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],at,r.wL.Navy),a.addTask("TemplatesOptionTask",["OptionsTask","defaultConfig","defaultTemplateConfig"],lt,r.wL.Navy),a.addTask("OrientationOptionTask",["OptionsTask","defaultConfig"],st,r.wL.Navy),a.addTask("VisualTreeOptionTask",["OptionsTask","defaultConfig"],ut,r.wL.Navy),a.addTask("MinimizedItemsOptionTask",["OptionsTask"],ht,r.wL.Navy),a.addTask("CursorItemOptionTask",["OptionsTask","defaultConfig"],ct,r.wL.Navy),a.addTask("HighlightItemOptionTask",["OptionsTask","defaultConfig"],dt,r.wL.Navy),a.addTask("SelectedItemsOptionTask",["OptionsTask"],ft,r.wL.Navy),a.addTask("CursorSelectionPathModeOptionTask",["OptionsTask","defaultConfig"],pt,r.wL.Navy),a.addTask("SplitAnnotationsOptionTask",["OptionsTask"],mt,r.wL.Cyan),a.addTask("ForegroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","foreground"],gt,r.wL.Navy),a.addTask("BackgroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","background"],gt,r.wL.Navy),a.addTask("ForegroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","foreground"],yt,r.wL.Navy),a.addTask("BackgroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","background"],yt,r.wL.Navy),a.addTask("ForegroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","foreground"],vt,r.wL.Navy),a.addTask("BackgroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","background"],vt,r.wL.Navy),a.addTask("BackgroundAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultBackgroundAnnotationConfig"],Tt,r.wL.Navy),a.addTask("LevelAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultLevelAnnotationConfig"],wt,r.wL.Navy),a.addTask("ScaleOptionTask",["OptionsTask","defaultConfig"],bt,r.wL.Navy),a.addTask("FrameOptionTask",["OptionsTask","defaultConfig"],kt,r.wL.Navy),a.addTask("LevelTitlePlacementOptionTask",["OptionsTask","defaultConfig"],Ct,r.wL.Navy),a.addTask("LevelTitleTemplateOptionTask",["OptionsTask","defaultConfig"],Ot,r.wL.Navy),a.addTask("CombinedContextsTask",["ItemsContentOptionTask"],Pt,r.wL.Cyan),a.addTask("OrgTreeTask",["ItemsOptionTask"],St,r.wL.Red),a.addTask("ReadTemplatesTask",["TemplatesOptionTask","templates"],It,r.wL.Cyan),a.addTask("ActiveItemsTask",["ItemsSizesOptionTask","ReadTemplatesTask"],At,r.wL.Cyan),a.addTask("ItemTemplateParamsTask",["ItemsSizesOptionTask","CursorItemOptionTask","ReadTemplatesTask"],zt,r.wL.Cyan),a.addTask("GroupTitleTemplateTask",["TemplatesOptionTask","templates"],Rt,r.wL.Cyan),a.addTask("CheckBoxTemplateTask",["ItemsSizesOptionTask","templates"],Et,r.wL.Cyan),a.addTask("ButtonsTemplateTask",["ItemsSizesOptionTask","templates"],Ft,r.wL.Cyan),a.addTask("AnnotationLabelTemplateTask",["ItemsOptionTask","templates"],Bt,r.wL.Cyan),a.addTask("LevelAnnotationTemplateTask",["OrientationOptionTask","LevelTitleTemplateOptionTask","templates"],Dt,r.wL.Cyan),a.addTask("VisualTreeTask",["OrgTreeTask","ActiveItemsTask","VisualTreeOptionTask"],an,r.wL.Red),a.addTask("VisualTreeLevelsTask",["VisualTreeTask","ItemTemplateParamsTask"],yn,r.wL.Red),a.addTask("ExtractNestedLayoutsTask",["OptionsTask"],vn,r.wL.Red),a.addTask("CreateLayoutsTreeTask",["VisualTreeTask","VisualTreeLevelsTask","ExtractNestedLayoutsTask"],xn,r.wL.Red),a.addTask("ConnectionsGraphTask",["graphics","CreateTransformTask","ConnectorsOptionTask","VisualTreeLevelsTask","ExtractNestedLayoutsTask","AlignDiagramTask"],Sn,r.wL.Cyan),a.addTask("HighlightItemTask",["HighlightItemOptionTask","ActiveItemsTask"],Ln,r.wL.Cyan),a.addTask("CursorItemTask",["CursorItemOptionTask","ActiveItemsTask"],In,r.wL.Cyan),a.addTask("CursorNeighboursTask",["CursorItemTask","VisualTreeTask"],An,r.wL.Cyan),a.addTask("SelectedItemsTask",["SelectedItemsOptionTask","ItemsOptionTask"],Mn,r.wL.Cyan),a.addTask("SelectionPathItemsTask",["VisualTreeTask","CursorItemTask","SelectedItemsTask","CursorSelectionPathModeOptionTask"],zn,r.wL.Cyan),a.addTask("NormalVisibilityItemsByForegroundShapeAnnotationTask",["ForegroundShapeAnnotationOptionTask"],Rn,r.wL.Cyan),a.addTask("NormalVisibilityItemsByBackgroundShapeAnnotationTask",["BackgroundShapeAnnotationOptionTask"],Rn,r.wL.Cyan),a.addTask("NormalVisibilityItemsByBackgroundAnnotationTask",["BackgroundAnnotationOptionTask"],Rn,r.wL.Cyan),a.addTask("NormalVisibilityItemsByForegroundHighlightPathAnnotationTask",["ForegroundHighlightPathAnnotationOptionTask"],Rn,r.wL.Cyan),a.addTask("NormalVisibilityItemsByBackgroundHighlightPathAnnotationTask",["BackgroundHighlightPathAnnotationOptionTask"],Rn,r.wL.Cyan),a.addTask("NormalVisibilityItemsByForegroundConnectorAnnotationTask",["ForegroundConnectorAnnotationOptionTask"],En,r.wL.Cyan),a.addTask("NormalVisibilityItemsByBackgroundConnectorAnnotationTask",["BackgroundConnectorAnnotationOptionTask"],En,r.wL.Cyan),a.addTask("NormalVisibilityItemsByMinimumVisibleLevelsTask",["MinimumVisibleLevelsOptionTask","OrgTreeTask"],Fn,r.wL.Cyan),a.addTask("CombinedNormalVisibilityItemsTask",["ItemsSizesOptionTask","CursorItemTask","CursorNeighboursTask","SelectedItemsTask","SelectionPathItemsTask","NormalVisibilityItemsByForegroundShapeAnnotationTask","NormalVisibilityItemsByBackgroundShapeAnnotationTask","NormalVisibilityItemsByBackgroundAnnotationTask","NormalVisibilityItemsByForegroundHighlightPathAnnotationTask","NormalVisibilityItemsByBackgroundHighlightPathAnnotationTask","NormalVisibilityItemsByForegroundConnectorAnnotationTask","NormalVisibilityItemsByBackgroundConnectorAnnotationTask","NormalVisibilityItemsByMinimumVisibleLevelsTask"],Bn,r.wL.Cyan),a.addTask("FrameSizeTask",["FrameOptionTask","ReadTemplatesTask","ScaleOptionTask"],Dn,r.wL.Navy),a.addTask("LevelTitleSizeTask",["LevelTitlePlacementOptionTask","LevelAnnotationOptionTask","OrientationOptionTask","ScaleOptionTask"],jn,r.wL.Navy),a.addTask("LayoutOptionsTask",["getLayout","OptionsTask"],_n,r.wL.Black),a.addTask("CurrentControlSizeTask",["LayoutOptionsTask","ItemsSizesOptionTask","FrameSizeTask","LevelTitleSizeTask"],Nn,r.wL.Black),a.addTask("CurrentScrollPositionTask",["LayoutOptionsTask"],Hn,r.wL.Black),a.addTask("ItemsPositionsTask",["CurrentControlSizeTask","ScaleOptionTask","OrientationOptionTask","ItemsSizesOptionTask","ConnectorsOptionTask","VisualTreeOptionTask","CreateLayoutsTreeTask","ItemTemplateParamsTask","CursorItemTask","CombinedNormalVisibilityItemsTask"],Gn,r.wL.Red),a.addTask("AlignDiagramTask",["OrientationOptionTask","ItemsSizesOptionTask","VisualTreeOptionTask","ScaleOptionTask","CurrentControlSizeTask","ActiveItemsTask","ItemsPositionsTask"],Wn,r.wL.Red),a.addTask("CreateTransformTask",["OrientationOptionTask","ScaleOptionTask","AlignDiagramTask"],qn,r.wL.Cyan),a.addTask("PaletteManagerTask",["ConnectorsOptionTask","null"],Xn,r.wL.Cyan),a.addTask("ApplyLayoutChangesTask",["graphics","setLayout","ItemsSizesOptionTask","CurrentControlSizeTask","ScaleOptionTask","AlignDiagramTask","FrameSizeTask","LevelTitleSizeTask"],Yn,r.wL.Green),a.addTask("CenterOnCursorTask",["LayoutOptionsTask","ApplyLayoutChangesTask","CurrentScrollPositionTask","CursorItemTask","AlignDiagramTask","CreateTransformTask","ScaleOptionTask"],Un,r.wL.Cyan),a.addTask("ProjectItemsToFrameTask",["CreateTransformTask","FrameSizeTask","ApplyLayoutChangesTask","ScaleOptionTask","AlignDiagramTask","CenterOnCursorTask","ItemTemplateParamsTask","SelectedItemsTask"],Jn,r.wL.Green),a.addTask("ViewPortPlacementTask",["ScaleOptionTask","CenterOnCursorTask","CreateTransformTask","ApplyLayoutChangesTask"],Qn,r.wL.Green),a.addTask("VerticalOffsetTask",["ViewPortPlacementTask"],$n,r.wL.Green),a.addTask("LogicalLevelsPlacementTask",["OrgTreeTask","VisualTreeTask","AlignDiagramTask"],ei,r.wL.Green),a.addTask("MergeLevelIntervalsTask",["LevelAnnotationOptionTask","LogicalLevelsPlacementTask"],ti,r.wL.Green),a.addTask("DrawBackgroundAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","BackgroundAnnotationOptionTask","VisualTreeTask","AlignDiagramTask"],oi,r.wL.Green),a.addTask("DrawBackgroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","ForegroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","foreground"],ai,r.wL.Cyan),a.addTask("DrawForegroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","BackgroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","background"],ai,r.wL.Cyan),a.addTask("DrawForegroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground"],ci,r.wL.Green),a.addTask("DrawBackgroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background"],ci,r.wL.Green),a.addTask("DrawForegroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground"],mi,r.wL.Green),a.addTask("DrawBackgroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background"],mi,r.wL.Green),a.addTask("DrawCursorTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","ItemTemplateParamsTask","CursorItemTask","SelectedItemsTask"],gi,r.wL.Green),a.addTask("DrawHighlightTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","ItemTemplateParamsTask","HighlightItemTask","CursorItemTask","SelectedItemsTask"],yi,r.wL.Green),a.addTask("DrawHighlightAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","ScaleOptionTask","CombinedContextsTask","CalloutOptionTask","ReadTemplatesTask","AlignDiagramTask","CenterOnCursorTask","HighlightItemTask","CursorItemTask","SelectedItemsTask","FrameSizeTask"],vi,r.wL.Green),a.addTask("DrawTreeItemsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","ScaleOptionTask","ItemsSizesOptionTask","CombinedContextsTask","AlignDiagramTask","CenterOnCursorTask","ItemTemplateParamsTask","CursorItemTask","SelectedItemsTask","GroupTitleTemplateTask","CheckBoxTemplateTask","ButtonsTemplateTask"],Ti,r.wL.Green),a.addTask("DrawMinimizedItemsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","MinimizedItemsOptionTask","ItemTemplateParamsTask","AlignDiagramTask"],bi,r.wL.Green),a.addTask("DrawConnectorsTask",["graphics","ConnectionsGraphTask","ConnectorsOptionTask","showElbowDots","PaletteManagerTask"],ki,r.wL.Green),a.addTask("DrawItemLabelsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","LabelsOptionTask","AlignDiagramTask"],Oi,r.wL.Green),a.addTask("DrawFrameItemsTask",["graphics","ApplyLayoutChangesTask","ProjectItemsToFrameTask","ItemTemplateParamsTask","MinimizedItemsOptionTask"],Pi,r.wL.Green),a.addTask("DrawFrameHighlightTask",["graphics","ProjectItemsToFrameTask","CombinedContextsTask","ItemTemplateParamsTask","HighlightItemTask","CursorItemTask"],xi,r.wL.Green),a.addTask("DrawLevelAnnotationBackgroundTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask"],Li,r.wL.Green),a.addTask("DrawLevelAnnotationTitlesTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask","LevelTitlePlacementOptionTask"],Si,r.wL.Green),a}function Ai(e,t,n,i){var o,r,a,l=new me,s=e.tasks.getTask("CombinedContextsTask"),u=e.tasks.getTask("AlignDiagramTask"),h=s.getConfig(t),c=s.getConfig(n);return h&&null!=h.id&&(l.oldContext=h),c&&null!=c.id&&(l.context=c,null!==c.parent&&(l.parentItem=s.getConfig(c.parent)),a=L(e.layout.mousePanel),r=L(e.layout.element),o=u.getItemPosition(n),l.position=new j(o.actualPosition).translate(a.left,a.top).translate(-r.left,-r.top)),null!=i&&(l.name=i),l}function Mi(){this.threshold=20,this.m_visible={},this.m_invisible={}}function zi(e){this.name=e,this.layers={},this.activeLayer=null,this.size=null,this.rect=null,this.div=null}function Ri(e){this.name=e,this.canvas=null,this.svgcanvas=null}function Ei(e){this.m_element=e,this.m_placeholders={},this.m_activePlaceholder=null,this.m_cache=new Mi,this.debug=!1,this.layerNames={},s(this,r.S9,(function(e,t){this.layerNames[t]=e}))}function Fi(e,t){switch(this.ns=null,this.name=null,this.attr={},this.style={},this.children=[],arguments.length){case 1:this.name=e;break;case 2:this.ns=e,this.name=t}}function Bi(e){this.parent=Ei.prototype,this.parent.constructor.apply(this,arguments),this._svgxmlns="http://www.w3.org/2000/svg"}function Di(e,t,n,i,o){var a,s,u,h,c,d={name:"orgdiagram",options:t,tasks:null,graphics:null,mouse:null,layout:{element:e,controlPanel:null,frameMousePanel:null,framePlaceholder:null,titlesMousePanel:null,titlesPlaceholder:null,scrollPanel:null,mousePanel:null,placeholder:null,calloutPlaceholder:null,forceCenterOnCursor:!0}},p=!1,m=null;function g(t,i){switch(null==i&&(i=!0),t){case r.lO.Refresh:y(i,p);break;case r.lO.PositonHighlight:l=p,d.layout.forceCenterOnCursor=!1,d.tasks.process("HighlightItemOptionTask",null,l),d.graphics.end();break;default:O(d.layout),C(d.layout),function(t,n){var i=M(t.element),o=new j(0,0,i.width,i.height),r=S(e);R.appendDOM(t.element,R.toHTML(["div",{tabindex:0,style:{position:"relative",overflow:"hidden",top:"0px",left:"0px",width:"100%",height:"100%",padding:"0px",marginBottom:"0px",marginRight:"0px",marginLeft:r.width+"px",marginTop:r.height+"px"},name:"controlPanel",class:n,$:function(e){t.controlPanel=e}},["div",{style:f({position:"absolute",overflow:"hidden"},o.getCSS()),name:"frameMousePanel",class:n,$:function(e){t.frameMousePanel=e}},["div",{style:f({position:"absolute",overflow:"hidden"},o.getCSS()),name:"framePlaceholder",class:["frameplaceholder",n],$:function(e){t.framePlaceholder=e}}]],["div",{style:f({position:"absolute",overflow:"hidden"},o.getCSS()),name:"titlesMousePanel",class:["bp-titles-frame",n],$:function(e){t.titlesMousePanel=e}},["div",{style:f({position:"absolute",overflow:"hidden"},o.getCSS()),name:"titlesPlaceholder",class:["titlesplaceholder",n],$:function(e){t.titlesPlaceholder=e}}]],["div",{style:f({position:"absolute",overflow:"auto","-webkit-overflow-scrolling":"touch",top:"0px",left:"0px",width:o.width+"px",height:o.height+"px"},o.getCSS()),name:"scrollPanel",class:n,$:function(e){t.scrollPanel=e}},["div",{style:f({position:"absolute",overflow:"visible"},o.getCSS()),name:"mousePanel",class:n,$:function(e){t.mousePanel=e}},["div",{style:f({position:"absolute",overflow:"hidden"},o.getCSS()),name:"placeholder",class:["placeholder",n],$:function(e){t.placeholder=e}},["div",{style:{position:"absolute",overflow:"visible",top:"0px",left:"0px",width:"0px",height:"0px"},name:"calloutPlaceholder",class:["calloutplaceholder",n],$:function(e){t.calloutPlaceholder=e}}]]]]]))}(d.layout,d.name),(a=d.layout).mousePanel.addEventListener("mousemove",I),a.mousePanel.addEventListener("click",z),a.mousePanel.addEventListener("dblclick",F),a.mousePanel.addEventListener("change",A),a.element.addEventListener("keydown",B),a.scrollPanel.addEventListener("scroll",v),d.options.enablePanning&&null!=navigator&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)&&(a.scrollPanel.draggable=!0,a.scrollPanel.addEventListener("dragstart",D),a.scrollPanel.addEventListener("drag",N),a.scrollPanel.addEventListener("dragend",N),a.scrollPanel.addEventListener("dragover",_)),a.frameMousePanel.addEventListener("mousemove",P),a.frameMousePanel.addEventListener("click",x),d.tasks=n(T,w,b,k,o),d.graphics=function(e){return new Bi(e)}(d.layout.element),d.graphics.debug=p,y(!0,p)}var a,l}function y(e,t){var n;d.layout.forceCenterOnCursor=e,d.tasks.process("OptionsTask",null,t),d.graphics.end(),e&&(n=d.tasks.getTask("CenterOnCursorTask").getPlaceholderOffset(),d.layout.scrollPanel.scrollLeft=n.x,d.layout.scrollPanel.scrollTop=n.y);var i=S(d.layout.element);R.applyStyles(d.layout.scrollPanel,{marginBottom:"0px",marginRight:"0px",marginLeft:i.width+"px",marginTop:i.height+"px"})}function v(e){null==m&&(m=window.setTimeout((function(){var e;e=p,d.layout.forceCenterOnCursor=!1,d.tasks.process("LayoutOptionsTask",null,e),d.graphics.end(),window.clearTimeout(m),m=null}),200))}function T(){return d.options}function w(){return d.graphics}function b(){var e=d.layout,t=M(e.controlPanel),n=new E(e.scrollPanel.scrollLeft,e.scrollPanel.scrollTop);return{forceCenterOnCursor:e.forceCenterOnCursor,scrollPanelSize:t,placeholderOffset:n}}function k(e){var t=d.layout,n=S(t.element);R.applyStyles(t.controlPanel,{marginLeft:n.width+"px",marginTop:n.height+"px"}),R.applyStyles(t.scrollPanel,e.scrollPanelRect.getCSS()),R.applyStyles(t.mousePanel,e.mousePanelSize.getCSS());var i="scale("+e.scale+","+e.scale+")",o={"transform-origin":"0 0",transform:i,"-ms-transform":i,"-webkit-transform":i,"-o-transform":i,"-moz-transform":i};R.applyStyles(t.placeholder,f(o,e.placeholderSize.getCSS())),e.autoSize&&R.applyStyles(t.element,e.controlSize.getCSS()),R.applyStyles(t.titlesMousePanel,e.titlesMousePanelRect.getCSS()),R.applyStyles(t.titlesPlaceholder,f(o,e.titlesPlaceholderSize.getCSS())),R.applyStyles(t.frameMousePanel,e.frameMousePanelRect.getCSS()),R.applyStyles(t.framePlaceholder,f(o,e.framePlaceholderSize.getCSS())),t.scrollPanel.setAttribute("class",e.scrollPanelRect.left>0?name:"bp-scrollframe "+name)}function C(){var e=d.layout.controlPanel;if(null!=e){var t=e.parentNode;null!=t&&t.removeChild(e)}}function O(e){null!=e.mousePanel&&(e.mousePanel.removeEventListener("mousemove",I),e.mousePanel.removeEventListener("click",z),e.mousePanel.removeEventListener("dblclick",F),e.mousePanel.removeEventListener("change",A)),null!=e.element&&e.element.removeEventListener("keydown",B),null!=e.scrollPanel&&(e.scrollPanel.removeEventListener("scroll",v),e.scrollPanel.removeEventListener("dragstart",D),e.scrollPanel.removeEventListener("drag",N),e.scrollPanel.removeEventListener("dragend",N),e.scrollPanel.removeEventListener("dragover",_)),null!=e.frameMousePanel&&(e.frameMousePanel.removeEventListener("mousemove",P),e.frameMousePanel.removeEventListener("click",x))}function P(e){var t=L(d.layout.frameMousePanel),n=e.pageX-t.left,i=e.pageY-t.top,o=d.tasks.getTask("ProjectItemsToFrameTask"),r=d.tasks.getTask("HighlightItemOptionTask");r.hasHighlightEnabled()&&H(e,o.getTreeItemForMousePosition(n,i,r.getGravityRadius()))}function x(e){var t,n=L(d.layout.frameMousePanel),i=e.pageX-n.left,o=e.pageY-n.top,r=d.tasks.getTask("ProjectItemsToFrameTask"),a=d.tasks.getTask("CursorItemOptionTask"),l=d.tasks.getTask("HighlightItemOptionTask"),s=r.getTreeItemForMousePosition(i,o,l.getGravityRadius());e.target,null!==s&&(W("onMouseClick",e,t=G(null,s)),t.cancel||a.hasCursorEnabled()&&(V(e,s),d.layout.element.focus()))}function I(e){var t=L(d.layout.mousePanel),n=e.pageX-t.left,i=e.pageY-t.top,o=d.tasks.getTask("CreateTransformTask"),r=d.tasks.getTask("HighlightItemOptionTask");r.hasHighlightEnabled()&&H(e,o.getTreeItemForMousePosition(n,i,r.getGravityRadius()))}function A(e){var t=e.target,n=t.getAttribute("data-id");if(null!=n){var i=(d.options.selectedItems||[]).slice(),o=G(null,n),r=i.findIndex((function(e){return n==e}));W("onSelectionChanging",e,o),o.cancel||(r>=0?i.splice(r,1):i.push(n),d.options.selectedItems=i,r<0?t.setAttribute("checked","checked"):t.removeAttribute("checked"),W("onSelectionChanged",e,o))}}function z(e){var t,n,i,o=L(d.layout.mousePanel),r=e.pageX-o.left,a=e.pageY-o.top,s=d.tasks.getTask("CreateTransformTask"),u=d.tasks.getTask("CursorItemOptionTask"),h=d.tasks.getTask("HighlightItemOptionTask"),c=s.getTreeItemForMousePosition(r,a,h.getGravityRadius());(t=e.target,null!==c)&&(l(i=t.getAttribute("data-buttonname"))&&(i=t.parentNode&&t.parentNode.getAttribute("data-buttonname")),l(i)?"checkbox"===t.getAttribute("name")||"selectiontext"===t.getAttribute("name")||(W("onMouseClick",e,n=G(null,c)),n.cancel||u.hasCursorEnabled()&&(V(e,c),d.layout.element.focus())):W("onButtonClick",e,n=G(null,c,i)))}function F(e){var t=d.tasks.getTask("HighlightItemTask").getHighlightTreeItem();null!==t&&W("onMouseDblClick",e,G(null,t))}function B(e){var t,n,i=d.tasks.getTask("HighlightItemTask"),o=d.tasks.getTask("HighlightItemOptionTask"),a=d.tasks.getTask("CursorItemTask"),l=d.tasks.getTask("CursorItemOptionTask"),s=d.tasks.getTask("AlignDiagramTask"),u=d.tasks.getTask("CreateTransformTask").getTransform(),h=null,c=null,f=d.layout;if(o.hasHighlightEnabled()&&l.hasCursorEnabled()?null===(h=i.getHighlightTreeItem())&&(h=a.getCursorTreeItem()):o.hasHighlightEnabled()?h=i.getHighlightTreeItem():l.hasCursorEnabled()&&(h=a.getCursorTreeItem()),null!=h){switch(e.which){case 13:l.hasCursorEnabled()&&(V(e,h),e.preventDefault(),f.element.focus());break;case 40:c=r.F7.Bottom;break;case 38:c=r.F7.Top;break;case 37:c=r.F7.Left;break;case 39:c=r.F7.Right}if(null!=c){for(n=!1;!n;)n=!0,c=u.getOrientation(c),null!=(t=s.getNextItem(h,c))&&(e.preventDefault(),o.hasHighlightEnabled()?H(e,t):l.hasCursorEnabled()&&V(e,t));f.element.focus()}}}function D(e){var t=d.layout.scrollPanel;a=new E(e.clientX,e.clientY),s=new E(t.scrollLeft,t.scrollTop),h=h||new Image,e.dataTransfer.setDragImage(h,0,0)}function _(e){e.preventDefault(),e.dataTransfer.dropEffect="move"}function N(e){u=new E(s.x-(e.clientX-a.x),s.y-(e.clientY-a.y)),null==c&&(c=window.setTimeout((function(){var e=d.layout.scrollPanel;e.scrollLeft=u.x,e.scrollTop=u.y,window.clearTimeout(c),c=null}),50))}function H(e,t){var n,i=!0;return null!==t?t!==d.options.highlightItem&&(n=G(d.options.highlightItem,t),d.options.highlightItem=t,W("onHighlightChanging",e,n),n.cancel?i=!1:(y(!1,!1),W("onHighlightChanged",e,n))):null!==d.options.highlightItem&&(n=G(d.options.highlightItem,null),d.options.highlightItem=null,W("onHighlightChanging",e,n),n.cancel?i=!1:(y(!1,!1),W("onHighlightChanged",e,n))),i}function V(e,t){var n;t!==d.options.cursorItem&&(n=G(d.options.cursorItem,t),d.options.cursorItem=t,W("onCursorChanging",e,n),n.cancel||(y(!0,p),W("onCursorChanged",e,n)))}function G(e,t,n){return i(d,e,t,n)}function W(e,t,n){var i=d.options[e];null!=i&&i(t,n)}return g(),{destroy:function(){O(d.layout),C(d.layout),d.tasks=null,d.graphics=null},setOptions:function(e){for(var t in e)e.hasOwnProperty(t)&&(d.options[t]=e[t])},getOptions:T,setOption:function(e,t){return d.options[e]=t},getOption:function(e){return d.options[e]},update:g}}function ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _i(e,t,n){return Di(e,t,Ii,Ai,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ji(Object(n),!0).forEach((function(t){(0,Se.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({AnnotationLabelTemplate:Le,ButtonsTemplate:Ie,CustomRenderTemplate:Ae,CheckBoxTemplate:Me,CursorTemplate:ze,DotHighlightTemplate:Re,GroupTitleTemplate:_e,HighlightTemplate:Ne,ItemTemplate:He,UserTemplate:Ve,LevelTitleTemplate:We,LevelBackgroundTemplate:Ze,LabelAnnotationTemplate:Ge},n))}function Ni(e,t){var n={},i={},o={},r=new Je({items:new Ye(new Je({id:new Ue(["string","number"],!0),parents:new Ye(new Ue(["string","number"],!0),!0),isActive:new Ue(["boolean"],!1,t.isActive)}),!0,"id",!0)});return{process:function(){var t={isChanged:!1,hash:i,sourceHash:o};return n=r.read(n,e.getOptions(),"options",t),t.isChanged},getItems:function(){return n.items},getConfig:function(e){return o["options-items"][e]}}}function Hi(e,t){var n={items:[]},i={},o=new Ye(new Ue(["string","number"],!0),!0);return{process:function(){var a={isChanged:!1,hash:i},l=t.getTreeLevels(),s=e.getOptions(),u=s.pageFitMode,h=s.minimalVisibility,c=s.minimumVisibleLevels;return n.items=o.read(n.items,function(e,t,n,i){var o=[];if(i>0&&(r.sj.PageWidth==t||r.sj.PageHeight||r.sj.FitToPage)&&n!=r.EE.Normal){var a=0,l=null;e.loopLevels(this,(function(t,n){if(e.loopLevelItems(this,t,(function(e,n,i){n.isVisible&&(l!==t&&(l=t,a+=1),o.push(e))})),a>=i)return!0}))}return o}(l,u,h,c),"items",a),a.isChanged},getItems:function(){return n.items}}}function Vi(e,t){var n={positions:[]};return{getPositions:function(){return n.positions||(n.positions=function(){var n=[],i=e.getTreeLevels(),o=t.getItemsPositions(),r=0;i.loopLevels(this,(function(e,t){i.loopLevelItems(this,e,(function(e,t,i){if(t.isVisible&&t.isActive){var a=o[e];if(a){var l=new D(a.topConnectorShift||a.actualPosition.y,a.bottomConnectorShift-1,r++);n.push(l)}return!0}}))}));var a=[];Q(this,n,(function(e){a.push(e)})),n=a,a=[];for(var l=null,s=(r=0,n.length);r<s;r+=1){var u=n[r];l&&l.context===u.context?l.to=u.to:(l=u,a.push(u))}for((n=a).length>0&&(n[0].from=0),r=0,s=n.length-1;r<s;r+=1){var h=n[r],c=n[r+1];h.to=c.from}var d=null;for(r=0,s=n.length;r<s;r+=1)u=n[r],d=null===d?u.context:Math.min(d,u.context);var f={};for(r=0,s=n.length;r<s;r+=1){var p=(u=n[r]).context-d,m=f[p];m?m.push(u):f[p]=[u]}return f}()),n.positions},process:function(){return n.positions=null,!0}}}function Gi(e){var t={leavesPlacementType:r.X9.Horizontal,childrenPlacementType:r.X9.Horizontal,maximumColumnsInMatrix:6,horizontalAlignment:r.a3.Center};return{process:function(){return!1},getOptions:function(){return t}}}function Wi(e,t){var n={},i={},o=new Je({hideGrandParentsConnectors:new Ue(["boolean"],!1,t.hideGrandParentsConnectors)});return{process:function(){var t={isChanged:!1,hash:i};return n=o.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n}}}function Zi(e,t){var n={},i={},o=new Je({groupByType:new Qe(r.zX,!1,t.groupByType),alignBylevels:new Ue(["boolean"],!1,t.alignBylevels)});return{process:function(){var t={isChanged:!1,hash:i};return n=o.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n}}}function qi(e,t,n){var i={},o={},r=new Je({enableMatrixLayout:new Ue(["boolean"],!1,t.enableMatrixLayout),minimumMatrixSize:new Ue(["number"],!1,t.minimumMatrixSize),maximumColumnsInMatrix:new Ue(["number"],!1,t.maximumColumnsInMatrix),items:new Ye(new Je({id:new Ue(["string","number"],!0),matrixId:new Ue(["string","number"],!1,n.matrixId),addToMatrix:new Ue(["boolean"],!1,n.addToMatrix)}),!0,"id")});return{process:function(){var t={isChanged:!1,hash:o};return i=r.read(i,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return i},getConfig:function(e){return o["options-items"][e]}}}function Ki(e,t,n){var i={},o={},a=new Je({enableMatrixLayout:new Ue(["boolean"],!1,t.enableMatrixLayout),minimumMatrixSize:new Ue(["number"],!1,t.minimumMatrixSize),maximumColumnsInMatrix:new Ue(["number"],!1,t.maximumColumnsInMatrix),items:new Ye(new Je({id:new Ue(["string","number"],!0),position:new Ue(["number"],!0),relativeItem:new Ue(["string","number"],!0),placementType:new Qe(r.hZ,!1,n.placementType),primaryParent:new Ue(["string","number"],!0),matrixId:new Ue(["string","number"],!1,n.matrixId),addToMatrix:new Ue(["boolean"],!1,n.addToMatrix)}),!0,"id")});return{process:function(){var t={isChanged:!1,hash:o};return i=a.read(i,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return i},getConfig:function(e){return o["options-items"][e]}}}function Xi(e,t){var n={},i={},o=new Je({linesPalette:new Ye(new Je({lineColor:new Ue(["string"],!1,t.lineColor),lineWidth:new Ue(["number"],!1,t.lineWidth),lineType:new Qe(r.SP,!1,t.lineType)}),!1)});return{process:function(){var t={isChanged:!1,hash:i};return n=o.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n}}}function Yi(e,t){var n={},i=new Je({neighboursSelectionMode:new Qe(r.DL,!1,t.neighboursSelectionMode)});return{process:function(){var t={isChanged:!1};return n=i.read(n,e.getOptions(),"options",t),t.isChanged},getNeighboursSelectionMode:function(){return n.neighboursSelectionMode}}}function Ui(){}function Ji(e){var t={position:null,group:null},n=new Ui;return{process:function(){var i=e.getOptions(),o=n.getUserDefinedPositions(i.items);return t.position=o.position,t.group=o.group,!0},getPositions:function(){return t.position},getGroups:function(){return t.group}}}function Qi(e){var t;if(this.id=null,this.familyId=null,this.itemConfig=null,this.isVisible=!0,this.isActive=!0,this.isLevelNeutral=!1,this.level=null,this.levelGravity=r.zX.None,this.hideParentConnection=!1,this.hideChildrenConnection=!1,1===arguments.length)for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function $i(e){var t={logicalFamily:null,maximumId:null};return{process:function(n){var i,o,r,a,l,s=e.getItems(),u=oe(),h=0;if(s.length>0)for(i=0,o=s.length;i<o;i+=1)null!=(r=s[i])&&(a=new Qi({id:r.id,itemConfig:r,isActive:r.isActive}),u.add(r.parents,a.id,a),l=parseInt(r.id,10),h=Math.max(isNaN(l)?0:l,h));if(t.logicalFamily=u,t.maximumId=h,n&&!u.validate())throw"References are broken in family structure!";return!0},getLogicalFamily:function(){return t.logicalFamily},getMaximumId:function(){return t.maximumId}}}function eo(e){var t={logicalFamily:null,maximumId:null,loops:[]};return{process:function(n){var i=e.getLogicalFamily(),o=function(e,t,n){var i,o,a,l,s,u,h=W(e,n),c=[],d=[],f={};for(a=0,l=h.length;a<l;a+=1){var p=h[a];f.hasOwnProperty(p.to)?f[p.to].parents.push(p.from):(f[p.to]={itemid:p.to,parents:[p.from]},d.push(f[p.to]))}var m={};if(d.length>0)for(e=e.clone(),a=0,l=d.length;a<l;a+=1){var g=d[a],y=g.parents,v=[];for(e.loopParents(this,g.itemid,(function(t,n){return v.push(t),e.SKIP})),s=0,u=v.length;s<u;s+=1)e.removeChildRelation(v[s],g.itemid);t+=1;var T=v.length<=y.length;for(o=new Qi({id:t,isVisible:!1,isActive:!1,isLevelNeutral:!1,hideParentConnection:T,hideChildrenConnection:T,levelGravity:r.zX.Children,itemConfig:{title:"fake parent #"+t,description:"This is a fake parent item, it was created by loops removal task."}}),e.add([],o.id,o),e.adopt([o.id],g.itemid),c.push({from:o.id,to:g.itemid,isOppositeFlow:!1}),s=0,u=y.length;s<u;s+=1){var w=y[s];null==(i=m[w])&&(i=new Qi({id:t+=1,isVisible:!1,isActive:!1,isLevelNeutral:!1,hideParentConnection:!0,hideChildrenConnection:!0,levelGravity:r.zX.Parents,itemConfig:{title:"fake child #"+t,description:"This is a fake child item, it was created by loops removal task."}}),m[w]=i,e.add([w],i.id,i),c.push({from:w,to:i.id,isOppositeFlow:!1})),e.adopt([o.id],i.id),c.push({from:o.id,to:i.id,isOppositeFlow:!0})}var b={};for(s=0,u=y.length;s<u;s+=1)b[y[s]]=!0;for(s=0,u=v.length;s<u;s+=1)b.hasOwnProperty(v[s])||e.adopt([v[s]],o.id)}return{maximumId:t,logicalFamily:e,loops:c}}(i,e.getMaximumId(),n);if(t.logicalFamily=o.logicalFamily,t.maximumId=o.maximumId,t.loops=o.loops,n&&!i.validate())throw"References are broken in family structure!";return!0},getLogicalFamily:function(){return t.logicalFamily},getMaximumId:function(){return t.maximumId},getLoops:function(){return t.loops}}}function to(e,t,n){var i={annotations:[],configs:{},maximumId:null},o={},a=new Ye(new Je({zOrderType:new Qe(r.k0,!1,n.zOrderType),fromItem:new Ue(["string","number"],!0),toItems:new Ye(new Ue(["string","number"],!0),!0),title:new Ue(["string"],!0),itemTitleColor:new Ue(["string"],!1,n.itemTitleColor),templateName:new Ue(["string"],!0)},!1),!1,null,!0);return{process:function(){var n,l,s,u={isChanged:!1,hash:o,sourceHash:{}},h=t.getMaximumId();i.annotations=a.read(i.annotations,e.getAnnotations(r.JJ.Label),"annotations",u),i.configs={};var c=u.sourceHash.annotations;for(n=0,l=i.annotations.length;n<l;n+=1)h+=1,(s=i.annotations[n]).id=h,i.configs[s.id]=c[n];return i.maximumId=h,u.isChanged},getAnnotations:function(){return i.annotations},getMaximumId:function(){return i.maximumId},getConfig:function(e){return i.configs[e]}}}function no(e,t){var n={annotations:[]},i={},o=new Ye(new Je({id:new Ue(["number"],!0),title:new Ue(["string"],!0),itemTitleColor:new Ue(["string"],!1,t.itemTitleColor),templateName:new Ue(["string"],!0)}),!0,"id");return{process:function(){var t={isChanged:!1,hash:i};return n.annotations=o.read(n.annotations,e.getAnnotations(),"annotations",t),t.isChanged},getAnnotations:function(){return n.annotations}}}function io(e,t){var n={annotations:[]},i={},o=new Ye(new Je({id:new Ue(["number"],!0),fromItem:new Ue(["string","number"],!0),toItems:new Ye(new Ue(["string","number"],!0),!0)}),!0,"id");return{process:function(){var t={isChanged:!1,hash:i};return n.annotations=o.read(n.annotations,e.getAnnotations(),"annotations",t),t.isChanged},getAnnotations:function(){return n.annotations},getMaximumId:function(){return e.getMaximumId()}}}function oo(e,t,n,i){this.values=[t,i],this[e]=0,this[n]=1}function ro(e,t){var n={logicalFamily:null,maximumId:null};function i(e,t,n,i,o){var a,l,s,u,h,c=!0,d=null,f=[];for(s=0,u=i.length;s<u;s+=1){if(l=i[s],null==(a=t.edge(n,l))){c=!1;break}if(null==d)d=a.getFar(l);else if(d!=a.getFar(l)){c=!1;break}f.push(a.getNear(l))}if(c&&(h=o(),e.bundleParents(d,f,h.id,h)?(h.levelGravity=r.zX.Children,c=!0):e.bundleChildren(d,f,h.id,h)?(h.levelGravity=r.zX.Parents,c=!0):e.bundleParents(d,i,h.id,h)?(h.levelGravity=r.zX.Children,c=!0):e.bundleParents(d,i,h.id,h)&&(h.levelGravity=r.zX.Parents,c=!0),c))for(s=0,u=i.length;s<u;s+=1)l=i[s],(a=t.edge(n,l)).setFar(l,h.id)}return{process:function(o){var r=t.getLogicalFamily(),a=e.getAnnotations();if(function(e,t){var n,o,r,a,l,s=ne(),u={};if(t.length>0){for(a=0,l=t.length;a<l;a+=1)o=t[a],u.hasOwnProperty(o.fromItem)?u[o.fromItem].push(o):(u[o.fromItem]=[o],e.loopChildren(this,o.fromItem,(function(t,n,i){return s.addEdge(o.fromItem,t,new oo(o.fromItem,o.fromItem,t,t)),e.SKIP})),e.loopParents(this,o.fromItem,(function(t,n,i){return s.addEdge(t,o.fromItem,new oo(t,t,o.fromItem,o.fromItem)),e.SKIP})));for(r in u)if(u.hasOwnProperty(r))for((n=u[r]).sort((function(e,t){return t.toItems.length-e.toItems.length})),a=0;a<n.length;a+=1)o=n[a],i(e,s,o.fromItem,o.toItems,(function(){return new Qi({id:o.id,isVisible:!0,isLevelNeutral:!0,isActive:!1,itemConfig:o})}))}}(r=r.clone(),a),n.logicalFamily=r,n.maximumId=e.getMaximumId(),o&&!r.validate())throw"References are broken in family structure!";return!0},getLogicalFamily:function(){return n.logicalFamily},getMaximumId:function(){return n.maximumId}}}function ao(e,t){var n={maximumId:null,logicalFamily:null};return{process:function(i){var o=t.getLogicalFamily(),r=t.getMaximumId();return o=1==e.getOptions().hideGrandParentsConnectors?o.getFamilyWithoutGrandParentsRelations():o.clone(),n.logicalFamily=o,n.maximumId=r,!0},getLogicalFamily:function(){return n.logicalFamily},getMaximumId:function(){return n.maximumId}}}function lo(e){var t={maximumId:null,logicalFamily:null};return{process:function(n){var i=e.getLogicalFamily(),o=e.getMaximumId();if((i=i.clone()).optimizeReferences((function(){return new Qi({id:o+=1,isVisible:!1,isActive:!1,itemConfig:{title:"bundle #"+o,description:" This item was created by references optimizer."},levelGravity:r.zX.Children,isLevelNeutral:!0})})),n&&!i.validate())throw"References are broken in family structure!";if(n&&i.hasLoops())throw"Structure has loops!";if(i.eliminateManyToMany((function(){return new Qi({id:o+=1,isVisible:!1,isActive:!1,itemConfig:{title:"dummy #"+o,description:"This is item used to eliminate M:M relations."},levelGravity:r.zX.Children,hideParentConnection:!1,hideChildrenConnection:!1,isLevelNeutral:!0})})),n&&!i.validate())throw"References are broken in family structure!";return t.logicalFamily=i,t.maximumId=o,!0},getLogicalFamily:function(){return t.logicalFamily},getMaximumId:function(){return t.maximumId}}}function so(e){this.debug=e}function uo(e,t,n,i,o){this.isChildren=e,this.items=t,this.len=t.length,this.matrixNodeId=n,this.connectionId=i,this.matrixWidth=o,this.blocksCount=Math.ceil(this.matrixWidth/2),this.rowsCount=Math.ceil(this.len/this.matrixWidth)}function ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ho(Object(n),!0).forEach((function(t){(0,Se.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fo(e,t,n){this.items=e,this.hideParentConnection=t,this.hideChildrenConnection=n,this.data={columns:[],rows:[]}}function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?po(Object(n),!0).forEach((function(t){(0,Se.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function go(e,t,n){this.items=e,this.hideParentConnection=t,this.hideChildrenConnection=n,this.data={columns:[],row:null}}function yo(e){this.parent=so.prototype,this.parent.constructor.apply(this,arguments)}function vo(e,t){var n={maximumId:null,logicalFamily:null},i=new yo(!1);return{process:function(o){var r=t.getLogicalFamily(),a=t.getMaximumId(),l=e.getOptions(),s={enableMatrixLayout:l.enableMatrixLayout,minimumMatrixSize:l.minimumMatrixSize,maximumColumnsInMatrix:l.maximumColumnsInMatrix};r=r.clone();var u=i.extract(s,e.getConfig,r,a),h=(a=u.maximumId,u.layouts),c=u.nestedLayoutParentConnectorIds,d=u.nestedLayoutBottomConnectorIds,f=u.bundles;return n.logicalFamily=r,n.maximumId=a,n.layouts=h,n.nestedLayoutParentConnectorIds=c,n.nestedLayoutBottomConnectorIds=d,n.bundles=f,!0},getLogicalFamily:function(){return n.logicalFamily},getMaximumId:function(){return n.maximumId},getLayouts:function(){return n.layouts},getNestedLayoutParentConnectorIds:function(){return n.nestedLayoutParentConnectorIds},getNestedLayoutBottomConnectorIds:function(){return n.nestedLayoutBottomConnectorIds},getBundles:function(){return n.bundles}}}function To(e){this.parent=so.prototype,this.parent.constructor.apply(this,arguments)}function wo(e,t){var n={maximumId:null,logicalFamily:null},i=new To(!1);return{process:function(o){var r=t.getLogicalFamily(),a=t.getMaximumId(),l=e.getOptions(),s={groupByType:l.groupByType,alignBylevels:l.alignBylevels};return r=r.clone(),a=i.normalize(s,r,a),n.logicalFamily=r,n.maximumId=a,!0},getLogicalFamily:function(){return n.logicalFamily},getMaximumId:function(){return n.maximumId}}}function bo(e,t,n){this.id=e,this.familyId=t,this.level=n,this.childIndex=0}function ko(e){this.itemId=e,this.position=null,this.balance=0,this.left={},this.right={},this.crossings={}}function Co(){}function Oo(){}function Po(e,t,n){var i={maximumId:null,logicalFamily:null,treeLevels:null,bundles:null,connectorStacks:null},o=new Co,r=new Oo,a=new ln;return{process:function(a){var l=n.getLogicalFamily(),s=n.getMaximumId(),u=e.getOptions(),h={logicalFamily:l,maximumId:s,itemsPositions:t.getPositions(),itemsGroups:t.getGroups(),primaryParents:r.getUserDefinedPrimaryParents(u.items,l)},c=o.balance(h),d=(s=c.maximumId,c.treeLevels),f=c.bundles,p=c.connectorStacks;return i.maximumId=s,i.treeLevels=d,i.bundles=f,i.connectorStacks=p,i.logicalFamily=l,!0},getLogicalFamily:function(){return i.logicalFamily},getMaximumId:function(){return i.maximumId},getTreeLevels:function(){return i.treeLevels},getBundles:function(){return i.bundles},getConnectorsStacksSizes:function(e){return i.connectorStacks[e]||a}}}function xo(e,t,n){var i={items:{}};return{process:function(){var o,r,a=e.getOptions(),l=t.getAnnotations();for(i.items={},o=0,r=l.length;o<r;o+=1){var s=l[o],u=new Mt,h=n.getTemplate(s.templateName,a.defaultLabelAnnotationTemplate,n.DefaultWidgetLabelAnnotationTemplateName);u.template=h,i.items[s.id]=u}return!0},getTemplateParams:function(e){return i.items[e]}}}function So(e,t){return{process:function(){return!0},getTemplateParams:function(n){return e.getTemplateParams(n)||t.getTemplateParams(n)}}}function Lo(e,t,n,i){var o={items:[]},a={},l=new Ye(new Ue(["string","number"],!0),!0);return{process:function(){var s={isChanged:!1,hash:a},u=e.getCursorTreeItem(),h=n.getLogicalFamily(),c=t.getNeighboursSelectionMode(),d=i.getActiveItems();return o.items=l.read(o.items,function(e,t,n,i){var o=[],a={};if(null!==e)switch(t){case r.DL.ParentsAndChildren:n.loopParents(this,e,(function(e,t){if(t.isVisible&&!a.hasOwnProperty(e)&&(a[e]=!0,o.push(e)),i.hasOwnProperty(e))return n.SKIP})),n.loopChildren(this,e,(function(e,t){if(t.isVisible&&!a.hasOwnProperty(e)&&(a[e]=!0,o.push(e)),i.hasOwnProperty(e))return n.SKIP}));break;case r.DL.ParentsChildrenSiblingsAndSpouses:n.loopNeighbours(this,e,(function(e,t){if(t.isVisible&&!a.hasOwnProperty(e)&&(a[e]=!0,o.push(e)),i.hasOwnProperty(e))return!0}))}return o}(u,c,h,d),"items",s),s.isChanged},getItems:function(){return o.items}}}function Io(e,t,n,i){var o={items:[]};return{process:function(){var a=i.getSelectionPathMode(),l=e.getLogicalFamily(),s=t.getCursorTreeItem(),u=n.getItems().slice(0);return u.push(s),o.items=function(e,t,n){var i,o,a,l=[],s={};for(o=0,a=e.length;o<a;o+=1)switch(i=e[o],n){case r.lz.None:break;case r.lz.FullStack:t.loopParents(this,i,(function(e,n){if(null!=s[e])return t.SKIP;n.isVisible&&l.push(e),s[e]=!0}))}return l}(u,l,a),!0},getItems:function(){return o.items}}}function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach((function(t){(0,Se.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zo(e,t,n){this.offset=e,this.leftPadding=t,this.rightPadding=n}function Ro(e,t,n){this.logicalFamily=e,this.treeLevels=t,this.getConnectorsStacksSizes=n,this.treeLevelsPositions=[],this.childLayoutsPositions={}}function Eo(e,t){var n={layoutsTree:{},maximumId:null};return{process:function(){var i=e.getLogicalFamily(),o=e.getTreeLevels(),a=e.getMaximumId(),l=e.getConnectorsStacksSizes,s=t.getLayouts(),u=new Ro(i,o,l),h=$();a++,h.add(null,a,u);for(var c=[{id:a,levelLayout:u}];c.length>0;){for(var d=[],f=0;f<c.length;f+=1){var p=c[f],m=p.id;p.levelLayout.loop(this,(function(e){var t=e.id,n=s[t];n?d.push({id:t,levelLayout:n}):n=new Pn(e.isVisible?r.EE.Auto:r.EE.Invisible),h.add(m,t,n)}))}c=d}return n.layoutsTree=h,n.maximumId=a,!0},getLayoutsTree:function(){return n.layoutsTree},getMaximumId:function(){return n.maximumId}}}function Fo(e,t,n,i,o){var a=new Ke;return a.addDependency("options",e),a.addDependency("graphics",t),a.addDependency("getLayout",n),a.addDependency("setLayout",i),a.addDependency("templates",o),a.addDependency("defaultConfig",new ge),a.addDependency("defaultItemConfig",new ye),a.addDependency("defaultTemplateConfig",new xe),a.addDependency("defaultPaletteItemConfig",new Ce),a.addDependency("defaultBackgroundAnnotationConfig",new Te),a.addDependency("defaultConnectorAnnotationConfig",new we),a.addDependency("defaultHighlightPathAnnotationConfig",new be),a.addDependency("defaultShapeAnnotationConfig",new Oe),a.addDependency("defaultLabelAnnotationConfig",new ke),a.addDependency("defaultLevelAnnotationConfig",new Pe),a.addDependency("showElbowDots",!0),a.addDependency("null",null),a.addDependency("foreground",r.k0.Foreground),a.addDependency("background",r.k0.Background),a.addTask("OptionsTask",["options"],Xe,r.wL.Black),a.addTask("CalloutOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],$e,r.wL.Navy),a.addTask("ConnectorsOptionTask",["OptionsTask","defaultConfig"],et,r.wL.Navy),a.addTask("ItemsOptionTask",["OptionsTask","defaultItemConfig"],Ni,r.wL.Navy),a.addTask("ItemsContentOptionTask",["OptionsTask","defaultItemConfig"],nt,r.wL.Navy),a.addTask("ItemsSizesOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],ot,r.wL.Navy),a.addTask("MinimumVisibleLevelsOptionTask",["OptionsTask","defaultConfig"],rt,r.wL.Navy),a.addTask("LabelsOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],at,r.wL.Navy),a.addTask("TemplatesOptionTask",["OptionsTask","defaultConfig","defaultTemplateConfig"],lt,r.wL.Navy),a.addTask("OrientationOptionTask",["OptionsTask","defaultConfig"],st,r.wL.Navy),a.addTask("VisualTreeOptionTask",["OptionsTask","defaultConfig"],Gi,r.wL.Navy),a.addTask("MinimizedItemsOptionTask",["OptionsTask"],ht,r.wL.Navy),a.addTask("HideGrandParentsConnectorsOptionTask",["OptionsTask","defaultConfig"],Wi,r.wL.Navy),a.addTask("NormalizeOptionTask",["OptionsTask","defaultConfig"],Zi,r.wL.Navy),a.addTask("ExtractNestedLayoutsOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],qi,r.wL.Navy),a.addTask("OrderFamilyNodesOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],Ki,r.wL.Navy),a.addTask("LinePaletteOptionTask",["OptionsTask","defaultPaletteItemConfig"],Xi,r.wL.Navy),a.addTask("CursorItemOptionTask",["OptionsTask","defaultConfig"],ct,r.wL.Navy),a.addTask("HighlightItemOptionTask",["OptionsTask","defaultConfig"],dt,r.wL.Navy),a.addTask("SelectedItemsOptionTask",["OptionsTask"],ft,r.wL.Navy),a.addTask("CursorSelectionPathModeOptionTask",["OptionsTask","defaultConfig"],pt,r.wL.Navy),a.addTask("NeighboursSelectionModeOptionTask",["OptionsTask","defaultConfig"],Yi,r.wL.Navy),a.addTask("SplitAnnotationsOptionTask",["OptionsTask"],mt,r.wL.Cyan),a.addTask("ForegroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","foreground"],gt,r.wL.Navy),a.addTask("BackgroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","background"],gt,r.wL.Navy),a.addTask("ForegroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","foreground"],yt,r.wL.Navy),a.addTask("BackgroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","background"],yt,r.wL.Navy),a.addTask("ForegroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","foreground"],vt,r.wL.Navy),a.addTask("BackgroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","background"],vt,r.wL.Navy),a.addTask("BackgroundAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultBackgroundAnnotationConfig"],Tt,r.wL.Navy),a.addTask("LevelAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultLevelAnnotationConfig"],wt,r.wL.Navy),a.addTask("ScaleOptionTask",["OptionsTask","defaultConfig"],bt,r.wL.Navy),a.addTask("FrameOptionTask",["OptionsTask","defaultConfig"],kt,r.wL.Navy),a.addTask("LevelTitlePlacementOptionTask",["OptionsTask","defaultConfig"],Ct,r.wL.Navy),a.addTask("LevelTitleTemplateOptionTask",["OptionsTask","defaultConfig"],Ot,r.wL.Navy),a.addTask("UserDefinedNodesOrderTask",["OrderFamilyNodesOptionTask","defaultItemConfig"],Ji,r.wL.Red),a.addTask("LogicalFamilyTask",["ItemsOptionTask"],$i,r.wL.Cyan),a.addTask("LabelAnnotationOptionTask",["SplitAnnotationsOptionTask","LogicalFamilyTask","defaultLabelAnnotationConfig"],to,r.wL.Navy),a.addTask("LabelAnnotationTemplateOptionTask",["LabelAnnotationOptionTask","defaultLabelAnnotationConfig"],no,r.wL.Navy),a.addTask("LabelAnnotationPlacementOptionTask",["LabelAnnotationOptionTask","defaultLabelAnnotationConfig"],io,r.wL.Navy),a.addTask("CombinedContextsTask",["ItemsContentOptionTask","LabelAnnotationOptionTask"],Pt,r.wL.Cyan),a.addTask("AddLabelAnnotationsTask",["LabelAnnotationPlacementOptionTask","LogicalFamilyTask"],ro,r.wL.Red),a.addTask("RemoveLoopsTask",["AddLabelAnnotationsTask"],eo,r.wL.Red),a.addTask("HideGrandParentsConnectorsTask",["HideGrandParentsConnectorsOptionTask","RemoveLoopsTask"],ao,r.wL.Red),a.addTask("BindFamilyConnectorsTask",["HideGrandParentsConnectorsTask"],lo,r.wL.Red),a.addTask("ExtractNestedLayoutsTask",["ExtractNestedLayoutsOptionTask","BindFamilyConnectorsTask"],vo,r.wL.Red),a.addTask("NormalizeLogicalFamilyTask",["NormalizeOptionTask","ExtractNestedLayoutsTask"],wo,r.wL.Red),a.addTask("OrderFamilyNodesTask",["OrderFamilyNodesOptionTask","UserDefinedNodesOrderTask","NormalizeLogicalFamilyTask"],Po,r.wL.Red),a.addTask("FamCreateLayoutsTreeTask",["OrderFamilyNodesTask","ExtractNestedLayoutsTask"],Eo,r.wL.Red),a.addTask("ReadTemplatesTask",["TemplatesOptionTask","templates"],It,r.wL.Cyan),a.addTask("ActiveItemsTask",["ItemsSizesOptionTask","ReadTemplatesTask"],At,r.wL.Cyan),a.addTask("ItemTemplateParamsTask",["ItemsSizesOptionTask","CursorItemOptionTask","ReadTemplatesTask"],zt,r.wL.Cyan),a.addTask("LabelAnnotationTemplateParamsTask",["ItemsSizesOptionTask","LabelAnnotationTemplateOptionTask","ReadTemplatesTask"],xo,r.wL.Cyan),a.addTask("CombinedTemplateParamsTask",["ItemTemplateParamsTask","LabelAnnotationTemplateParamsTask"],So,r.wL.Cyan),a.addTask("GroupTitleTemplateTask",["TemplatesOptionTask","templates"],Rt,r.wL.Cyan),a.addTask("CheckBoxTemplateTask",["ItemsSizesOptionTask","templates"],Et,r.wL.Cyan),a.addTask("ButtonsTemplateTask",["ItemsSizesOptionTask","templates"],Ft,r.wL.Cyan),a.addTask("AnnotationLabelTemplateTask",["ItemsOptionTask","templates"],Bt,r.wL.Cyan),a.addTask("LevelAnnotationTemplateTask",["OrientationOptionTask","LevelTitleTemplateOptionTask","templates"],Dt,r.wL.Cyan),a.addTask("ConnectionsGraphTask",["graphics","CreateTransformTask","ConnectorsOptionTask","OrderFamilyNodesTask","ExtractNestedLayoutsTask","AlignDiagramTask","RemoveLoopsTask"],Sn,r.wL.Cyan),a.addTask("HighlightItemTask",["HighlightItemOptionTask","ActiveItemsTask"],Ln,r.wL.Cyan),a.addTask("CursorItemTask",["CursorItemOptionTask","ActiveItemsTask"],In,r.wL.Cyan),a.addTask("CursorNeighboursTask",["CursorItemTask","NeighboursSelectionModeOptionTask","AddLabelAnnotationsTask","ActiveItemsTask"],Lo,r.wL.Cyan),a.addTask("SelectedItemsTask",["SelectedItemsOptionTask","ItemsOptionTask"],Mn,r.wL.Cyan),a.addTask("SelectionPathItemsTask",["RemoveLoopsTask","CursorItemTask","SelectedItemsTask","CursorSelectionPathModeOptionTask"],Io,r.wL.Cyan),a.addTask("NormalVisibilityItemsByForegroundShapeAnnotationTask",["ForegroundShapeAnnotationOptionTask"],Rn,r.wL.Cyan),a.addTask("NormalVisibilityItemsByBackgroundShapeAnnotationTask",["BackgroundShapeAnnotationOptionTask"],Rn,r.wL.Cyan),a.addTask("NormalVisibilityItemsByBackgroundAnnotationTask",["BackgroundAnnotationOptionTask"],Rn,r.wL.Cyan),a.addTask("NormalVisibilityItemsByForegroundHighlightPathAnnotationTask",["ForegroundHighlightPathAnnotationOptionTask"],Rn,r.wL.Cyan),a.addTask("NormalVisibilityItemsByBackgroundHighlightPathAnnotationTask",["BackgroundHighlightPathAnnotationOptionTask"],Rn,r.wL.Cyan),a.addTask("NormalVisibilityItemsByForegroundConnectorAnnotationTask",["ForegroundConnectorAnnotationOptionTask"],En,r.wL.Cyan),a.addTask("NormalVisibilityItemsByBackgroundConnectorAnnotationTask",["BackgroundConnectorAnnotationOptionTask"],En,r.wL.Cyan),a.addTask("NormalVisibilityItemsByMinimumVisibleLevelsTask",["MinimumVisibleLevelsOptionTask","OrderFamilyNodesTask"],Hi,r.wL.Cyan),a.addTask("CombinedNormalVisibilityItemsTask",["ItemsSizesOptionTask","CursorItemTask","CursorNeighboursTask","SelectedItemsTask","SelectionPathItemsTask","NormalVisibilityItemsByForegroundShapeAnnotationTask","NormalVisibilityItemsByBackgroundShapeAnnotationTask","NormalVisibilityItemsByBackgroundAnnotationTask","NormalVisibilityItemsByForegroundHighlightPathAnnotationTask","NormalVisibilityItemsByBackgroundHighlightPathAnnotationTask","NormalVisibilityItemsByForegroundConnectorAnnotationTask","NormalVisibilityItemsByBackgroundConnectorAnnotationTask","NormalVisibilityItemsByMinimumVisibleLevelsTask"],Bn,r.wL.Cyan),a.addTask("FrameSizeTask",["FrameOptionTask","ReadTemplatesTask","ScaleOptionTask"],Dn,r.wL.Navy),a.addTask("LevelTitleSizeTask",["LevelTitlePlacementOptionTask","LevelAnnotationOptionTask","OrientationOptionTask","ScaleOptionTask"],jn,r.wL.Navy),a.addTask("LayoutOptionsTask",["getLayout","OptionsTask"],_n,r.wL.Black),a.addTask("CurrentControlSizeTask",["LayoutOptionsTask","ItemsSizesOptionTask","FrameSizeTask","LevelTitleSizeTask"],Nn,r.wL.Black),a.addTask("CurrentScrollPositionTask",["LayoutOptionsTask"],Hn,r.wL.Black),a.addTask("ItemsPositionsTask",["CurrentControlSizeTask","ScaleOptionTask","OrientationOptionTask","ItemsSizesOptionTask","ConnectorsOptionTask","OrderFamilyNodesOptionTask","FamCreateLayoutsTreeTask","CombinedTemplateParamsTask","CursorItemTask","CombinedNormalVisibilityItemsTask"],Gn,r.wL.Red),a.addTask("AlignDiagramTask",["OrientationOptionTask","ItemsSizesOptionTask","VisualTreeOptionTask","ScaleOptionTask","CurrentControlSizeTask","ActiveItemsTask","ItemsPositionsTask"],Wn,r.wL.Red),a.addTask("CreateTransformTask",["OrientationOptionTask","ScaleOptionTask","AlignDiagramTask"],qn,r.wL.Cyan),a.addTask("PaletteManagerTask",["ConnectorsOptionTask","LinePaletteOptionTask"],Xn,r.wL.Cyan),a.addTask("ApplyLayoutChangesTask",["graphics","setLayout","ItemsSizesOptionTask","CurrentControlSizeTask","ScaleOptionTask","AlignDiagramTask","FrameSizeTask","LevelTitleSizeTask"],Yn,r.wL.Cyan),a.addTask("CenterOnCursorTask",["LayoutOptionsTask","ApplyLayoutChangesTask","CurrentScrollPositionTask","CursorItemTask","AlignDiagramTask","CreateTransformTask","ScaleOptionTask"],Un,r.wL.Cyan),a.addTask("ProjectItemsToFrameTask",["CreateTransformTask","FrameSizeTask","ApplyLayoutChangesTask","ScaleOptionTask","AlignDiagramTask","CenterOnCursorTask","ItemTemplateParamsTask","SelectedItemsTask"],Jn,r.wL.Cyan),a.addTask("ViewPortPlacementTask",["ScaleOptionTask","CenterOnCursorTask","CreateTransformTask","ApplyLayoutChangesTask"],Qn,r.wL.Green),a.addTask("VerticalOffsetTask",["ViewPortPlacementTask"],$n,r.wL.Green),a.addTask("LogicalLevelsPlacementTask",["OrderFamilyNodesTask","AlignDiagramTask"],Vi,r.wL.Green),a.addTask("MergeLevelIntervalsTask",["LevelAnnotationOptionTask","LogicalLevelsPlacementTask"],ti,r.wL.Green),a.addTask("DrawBackgroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","ForegroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","foreground"],ai,r.wL.Cyan),a.addTask("DrawForegroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","BackgroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","background"],ai,r.wL.Cyan),a.addTask("DrawBackgroundAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","BackgroundAnnotationOptionTask","LogicalFamilyTask","AlignDiagramTask"],oi,r.wL.Green),a.addTask("DrawForegroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground"],ci,r.wL.Green),a.addTask("DrawBackgroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background"],ci,r.wL.Green),a.addTask("DrawForegroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground"],mi,r.wL.Green),a.addTask("DrawBackgroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background"],mi,r.wL.Green),a.addTask("DrawCursorTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","CombinedTemplateParamsTask","CursorItemTask","SelectedItemsTask"],gi,r.wL.Green),a.addTask("DrawHighlightTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","CombinedTemplateParamsTask","HighlightItemTask","CursorItemTask","SelectedItemsTask"],yi,r.wL.Green),a.addTask("DrawHighlightAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","ScaleOptionTask","CombinedContextsTask","CalloutOptionTask","ReadTemplatesTask","AlignDiagramTask","CenterOnCursorTask","HighlightItemTask","CursorItemTask","SelectedItemsTask","FrameSizeTask"],vi,r.wL.Green),a.addTask("DrawTreeItemsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","ScaleOptionTask","ItemsSizesOptionTask","CombinedContextsTask","AlignDiagramTask","CenterOnCursorTask","CombinedTemplateParamsTask","CursorItemTask","SelectedItemsTask","GroupTitleTemplateTask","CheckBoxTemplateTask","ButtonsTemplateTask"],Ti,r.wL.Green),a.addTask("DrawMinimizedItemsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","MinimizedItemsOptionTask","CombinedTemplateParamsTask","AlignDiagramTask"],bi,r.wL.Green),a.addTask("DrawConnectorsTask",["graphics","ConnectionsGraphTask","ConnectorsOptionTask","showElbowDots","PaletteManagerTask"],ki,r.wL.Green),a.addTask("DrawItemLabelsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","LabelsOptionTask","AlignDiagramTask"],Oi,r.wL.Green),a.addTask("DrawFrameItemsTask",["graphics","ApplyLayoutChangesTask","ProjectItemsToFrameTask","ItemTemplateParamsTask","MinimizedItemsOptionTask"],Pi,r.wL.Green),a.addTask("DrawFrameHighlightTask",["graphics","ProjectItemsToFrameTask","CombinedContextsTask","ItemTemplateParamsTask","HighlightItemTask","CursorItemTask"],xi,r.wL.Green),a.addTask("DrawLevelAnnotationBackgroundTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask"],Li,r.wL.Green),a.addTask("DrawLevelAnnotationTitlesTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask","LevelTitlePlacementOptionTask"],Si,r.wL.Green),a}function Bo(e,t,n,i){var o,r,a,l=new ve,s=e.tasks.getTask("CombinedContextsTask"),u=e.tasks.getTask("AlignDiagramTask"),h=e.tasks.getTask("LogicalFamilyTask"),c=s.getConfig(t),d=s.getConfig(n),f=h.getLogicalFamily();return c&&null!=c.id&&(l.oldContext=c),d&&null!=d.id&&(l.context=d,f.loopParents(this,d.id,(function(e,t,n){if(n>0)return f.BREAK;l.parentItems.push(s.getConfig(e))})),f.loopChildren(this,d.id,(function(e,t,n){if(n>0)return f.BREAK;l.childrenItems.push(s.getConfig(e))})),a=L(e.layout.mousePanel),r=L(e.layout.element),o=u.getItemPosition(n),l.position=new j(o.actualPosition).translate(a.left,a.top).translate(-r.left,-r.top)),null!=i&&(l.name=i),l}function Do(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function jo(e,t,n){return Di(e,t,Fo,Bo,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Do(Object(n),!0).forEach((function(t){(0,Se.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({AnnotationLabelTemplate:Le,ButtonsTemplate:Ie,CustomRenderTemplate:Ae,CheckBoxTemplate:Me,CursorTemplate:ze,DotHighlightTemplate:Re,GroupTitleTemplate:_e,HighlightTemplate:Ne,ItemTemplate:He,UserTemplate:Ve,LevelTitleTemplate:We,LevelBackgroundTemplate:Ze,LabelAnnotationTemplate:Ge},n))}function _o(){return{template:function(){return{}},getHashCode:function(){return 0},render:function(e,t,n){var i=n.context;e.save(),e.font("Helvetica",12).text(i.label,t.x,t.y,{width:t.width,height:t.height,align:"center"}),e.restore()}}}function No(e){return{template:function(){return{}},getHashCode:function(){return 0},render:function(t,n,i){var o=i.isSelected?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAF/SURBVDhPpZM7rwFREMf/u4hEY5vVkigoSERiKwq1QqOh28R30QnFRqnSKHwFn0C37Sbi0SCE2KzE41wzd/feG48g91ftmdn5zznzkLLZrNhutzidTvgEv98PRVEgxeNx0e12EYvFcDweXfdjZFmGEIKDx+MxdF0HotGomEwmV/tnUAzFyqT8KrNHLpdDJpPBZrPh81UHLPAO7XYb6/Ua8/kcpmnC5/NBkqT3BJbLJRqNBgKBACqVCgqFAg6HA/veEiiVSlBVFZfLBZ1Ox7V+81KAMtPVV6sV+v2+a/2FBeg9RDqdhqZp/E1Mp1O0Wi32V6tVLuAtLEBvGw6HmM1m2O/3yOfz7CyXy4hEItz3ZrPJtr/8dIEKUiwWYRgGX3e32yGZTOJ8PnMBB4MBB9xy14VarcaZFosFQqEQHMdBvV5HIpFw/3gATZNlWTxdHr1eT4TDYZFKpVzLPRRDsU9HeTQaCdu23dM91wKzwNNlCgaDXINHW0pF95bpn+us4AsY2TIOZFyZ9AAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAACjSURBVDhPrZNNCsQgDEY/f2q33sCCN+iNPJlXE2/gTtDiVBln1TJo+zZBJS+YELLvewkhIOeMETjnkFKCaK2LtRbbtiGl9H2+hlKKUkpLds7BGAMopYr3/rwfo+bUXFrN/yrfcXrQBDMwxkAImRfEGFucFnTeEdT/zNIEy7K0wyi/KfSGjPJoCp13BDM9EEK0eLtM67riOI7LLa0F+zI9XGeJDyTldfBA9FNyAAAAAElFTkSuQmCC";t.save(),t.image(o,n.x,n.y),t.font("Helvetica",11).text(e,n.x+20,n.y+4,{ellipsis:!0,width:n.width-4,height:n.height,align:"left"}),t.restore()}}}function Ho(e,t){return{template:function(){return{}},getHashCode:function(){return 0},render:function(e,n,i){null!=t&&t(e,n,i)}}}function Vo(e,t){var n=t;return{template:function(){return{}},getHashCode:function(){return 0},render:function(e,t,i){e.save(),e.roundedRect(t.x,t.y,t.width,t.height,4).lineWidth(n.cursorBorderWidth).stroke("#fbd850"),e.restore()}}}function Go(){return{template:function(){return{}},getHashCode:function(){return 0},render:function(){}}}function Wo(e){var t=e.doc,n=e.textOrientation,i=e.label,o=e.fontSize,a=e.fontColor,l=e.position,s=e.titleColor,u=e.horizontalAlignment,h=e.verticalAlignment;t.save(),t.fillColor(s).roundedRect(l.x,l.y,l.width-2,l.height,4).fill();var c=new j(l.x+4,l.y,l.width-8,l.height);switch(n){case r.GE.RotateLeft:t.translate(0,l.height).rotate(-90,{origin:[l.x,l.y]}),c=new j(l.x+4,l.y,l.height-8,l.width);break;case r.GE.RotateRight:t.translate(l.width,0).rotate(90,{origin:[l.x,l.y]}),c=new j(l.x+4,l.y,l.height-8,l.width)}t.font("Helvetica",o);var d=t.currentLineHeight();switch(h){case r.Vn.Top:c.y+=2;break;case r.Vn.Middle:c.y+=Math.ceil(c.height/2-d/2);break;case r.Vn.Bottom:c.y+=Math.ceil(c.height-d-1)}t.fillColor(a).text(i,c.x,c.y,{ellipsis:!0,width:c.width,height:c.height,align:Ee(u)}),t.restore()}function Zo(e){var t=e.groupTitleFontSize,n=(e.groupTitleFontFamily,e.groupTitleFontWeight,e.groupTitleFontStyle,e.groupTitleOrientation),i=e.groupTitleHorizontalAlignment,o=e.groupTitleVerticalAlignment,r=e.groupTitleColor,a=e.itemTitleFirstFontColor,l=e.itemTitleSecondFontColor;return{template:function(){return{}},getHashCode:function(){return 0},render:function(e,s,u){var h=u.context,c=h.groupTitleColor||r,d=C(c,l,a),f=h.groupTitle,p=parseInt(t,10);Wo({doc:e,textOrientation:n,label:f,fontSize:p,fontColor:d,position:s,titleColor:c,horizontalAlignment:i,verticalAlignment:o})}}}function qo(e,t){var n=t;return{template:function(){return{}},getHashCode:function(){return 0},render:function(e,t,i){e.save(),e.roundedRect(t.x,t.y,t.width,t.height,4).lineWidth(n.highlightBorderWidth).stroke("#fbcb09"),e.restore()}}}function Ko(e,t){var n=t;return{template:function(){return{}},getHashCode:function(){return 0},render:function(t,i,o){var a=o.context,l=null!=a.itemTitleColor?a.itemTitleColor:r.wL.RoyalBlue,s=C(l,e.itemTitleSecondFontColor,e.itemTitleFirstFontColor),u=new P.Z(n.itemSize);u.width-=2*n.itemBorderWidth,u.height-=2*n.itemBorderWidth,t.save(),t.roundedRect(i.x,i.y,i.width,i.height,4).lineWidth(n.itemBorderWidth).stroke("#dddddd"),t.fillColor(l).roundedRect(i.x+2,i.y+2,u.width-4,18,2).fill(),t.fillColor(s).font("Helvetica",12).text(a.title,i.x+4,i.y+7,{ellipsis:!0,width:u.width-4-8,height:16,align:"left"}),null!=a.image&&t.image(a.image,i.x+3,i.y+24),t.rect(i.x+3,i.y+24,50,60).stroke("#cccccc"),t.fillColor("black").font("Helvetica",10).text(a.description,i.x+56,i.y+24,{ellipsis:!0,width:u.width-4-56,height:74,align:"left"}),t.restore()}}}function Xo(e,t,n){return{template:function(){return{}},getHashCode:function(){return 0},render:function(i,o,r){null!=n?n(i,o,r):Ko(e,t).render(i,o,r)}}}function Yo(){return{template:function(){return{}},getHashCode:function(){return 0},render:function(e,t,n){var i=n.context;e.save(),e.font("Helvetica",12).text(i.title,t.x,t.y,{width:t.width,height:t.height,align:"center"}),e.restore()}}}function Uo(e,t){var n=e.levelTitleFontSize,i=(e.levelTitleFontFamily,e.levelTitleFontWeight,e.levelTitleFontStyle,e.levelTitleFontColor),o=e.levelTitleOrientation,a=e.levelTitleHorizontalAlignment,l=e.levelTitleVerticalAlignment,s=e.levelTitleColor;return{template:function(){return{}},getHashCode:function(){return 0},render:function(e,u,h){var c=h.context,d=c.titleColor||s,f=c.title,p=c.titleFontColor||i;if(o==r.GE.Auto)switch(t){case r.F7.Top:o=r.GE.RotateRight;break;case r.F7.Bottom:o=r.GE.RotateLeft;case r.F7.Left:case r.F7.Right:}var m=parseInt(n,10);Wo({doc:e,textOrientation:o,label:f,fontSize:m,fontColor:p,position:u,titleColor:d,horizontalAlignment:a,verticalAlignment:l})}}}function Jo(e,t){return{template:function(){return{}},getHashCode:function(){return 0},render:function(e,t,n){var i=n.context,o=i.opacity,a=i.borderColor,l=i.fillColor,s=i.lineWidth,u=i.lineType;e.save(),e.rect(t.x,t.y,t.width,t.height,0).fillColor(l,o).fill(),e.lineJoin("round"),t.loopEdges((function(t,n){var i=0;switch(n){case r.TK.Top:i=s.top;break;case r.TK.Right:i=s.right;break;case r.TK.Bottom:i=s.bottom;break;case r.TK.Left:i=s.left}if(i>0){if(null!=u){var o=Math.round(i)||1;switch(u){case r.SP.Solid:break;case r.SP.Dotted:e.dash(o,2*o);break;case r.SP.Dashed:e.dash(5*o,3*o)}}e.moveTo(t.from.x,t.from.y).lineTo(t.to.x,t.to.y).lineWidth(i).strokeColor(a).stroke()}})),e.restore()}}}function Qo(e){this._doc=e,this._context=this._doc,this.m_placeholders={},this.m_activePlaceholder=null,this.saveCounter=0}function $o(e,t,n){var i={doc:null,options:e,tasks:null,graphics:null,controlSize:null},o=!1;function a(){return i.options}function l(){return i.graphics}function s(e){var t=i.graphics,n=e.frameMousePanelRect,o=e.titlesMousePanelRect,r=e.scrollPanelRect,a=e.controlSize;t.position("frameplaceholder",n.x,n.y,n.width,n.height),t.position("titlesplaceholder",o.x,o.y,o.width,o.height),t.position("placeholder",r.x,r.y,r.width,r.height),i.controlSize=a}function u(){i.options.scale=1,i.options.showFrame=!1,i.options.hasButtons=r.xB.False,i.options.pageFitMode=r.sj.AutoSize,i.options.autoSizeMinimum=new P.Z(0,0),i.options.autoSizeMaximum=new P.Z(1e6,1e6)}return{draw:function(e,r,h){return i.doc=e,i.tasks=t(a,l,s,n),i.graphics=new Qo(i.doc),i.graphics.debug=o,u(),i.doc.save(),i.doc.translate(r,h),i.tasks.process("OptionsTask",null,o),i.graphics.clean(),i.doc.restore(),new P.Z(i.controlSize)},getSize:function(){return i.tasks=t(a,l,s,n),i.graphics=new Qo(i.doc),i.graphics.debug=o,u(),i.tasks.process("OptionsTask","ApplyLayoutChangesTask",o),i.graphics.clean(),new P.Z(i.controlSize)}}}function er(e){return{process:function(){return!0},isItemSelected:function(e){return!1}}}function tr(e){return{process:function(){return!0},getOptions:function(){return{scrollPanelSize:new P.Z(800,600),optimalPanelSize:new P.Z(775,575),hasFrame:!0,hasLevelTitles:!0}}}}function nr(e,t,n,i){var o=new Ke;return o.addDependency("options",e),o.addDependency("graphics",t),o.addDependency("setLayout",n),o.addDependency("templates",i),o.addDependency("defaultConfig",new fe),o.addDependency("defaultItemConfig",new pe),o.addDependency("defaultTemplateConfig",new xe),o.addDependency("defaultBackgroundAnnotationConfig",new Te),o.addDependency("defaultConnectorAnnotationConfig",new we),o.addDependency("defaultHighlightPathAnnotationConfig",new be),o.addDependency("defaultShapeAnnotationConfig",new Oe),o.addDependency("defaultLevelAnnotationConfig",new Pe),o.addDependency("showElbowDots",!1),o.addDependency("null",null),o.addDependency("foreground",r.k0.Foreground),o.addDependency("background",r.k0.Background),o.addTask("OptionsTask",["options"],Xe,r.wL.Black),o.addTask("CalloutOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],$e,r.wL.Navy),o.addTask("ConnectorsOptionTask",["OptionsTask","defaultConfig"],et,r.wL.Navy),o.addTask("ItemsOptionTask",["OptionsTask","defaultItemConfig"],tt,r.wL.Navy),o.addTask("ItemsSizesOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],ot,r.wL.Navy),o.addTask("TemplatesOptionTask",["OptionsTask","defaultConfig","defaultTemplateConfig"],lt,r.wL.Navy),o.addTask("OrientationOptionTask",["OptionsTask","defaultConfig"],st,r.wL.Navy),o.addTask("VisualTreeOptionTask",["OptionsTask","defaultConfig"],ut,r.wL.Navy),o.addTask("CursorItemOptionTask",["OptionsTask","defaultConfig"],ct,r.wL.Navy),o.addTask("HighlightItemOptionTask",["OptionsTask","defaultConfig"],dt,r.wL.Navy),o.addTask("SelectedItemsOptionTask",["OptionsTask"],ft,r.wL.Navy),o.addTask("SplitAnnotationsOptionTask",["OptionsTask"],mt,r.wL.Cyan),o.addTask("ForegroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","foreground"],gt,r.wL.Navy),o.addTask("BackgroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","background"],gt,r.wL.Navy),o.addTask("ForegroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","foreground"],yt,r.wL.Navy),o.addTask("BackgroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","background"],yt,r.wL.Navy),o.addTask("ForegroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","foreground"],vt,r.wL.Navy),o.addTask("BackgroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","background"],vt,r.wL.Navy),o.addTask("BackgroundAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultBackgroundAnnotationConfig"],Tt,r.wL.Navy),o.addTask("LevelAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultLevelAnnotationConfig"],wt,r.wL.Navy),o.addTask("ScaleOptionTask",["OptionsTask","defaultConfig"],bt,r.wL.Navy),o.addTask("FrameOptionTask",["OptionsTask","defaultConfig"],kt,r.wL.Navy),o.addTask("LevelTitlePlacementOptionTask",["OptionsTask","defaultConfig"],Ct,r.wL.Navy),o.addTask("LevelTitleTemplateOptionTask",["OptionsTask","defaultConfig"],Ot,r.wL.Navy),o.addTask("CombinedContextsTask",["ItemsOptionTask"],Pt,r.wL.Cyan),o.addTask("OrgTreeTask",["ItemsOptionTask"],St,r.wL.Red),o.addTask("ReadTemplatesTask",["TemplatesOptionTask","templates"],It,r.wL.Cyan),o.addTask("ItemTemplateParamsTask",["ItemsSizesOptionTask","CursorItemOptionTask","ReadTemplatesTask"],zt,r.wL.Cyan),o.addTask("GroupTitleTemplateTask",["TemplatesOptionTask","templates"],Rt,r.wL.Cyan),o.addTask("CheckBoxTemplateTask",["ItemsSizesOptionTask","templates"],Et,r.wL.Cyan),o.addTask("ButtonsTemplateTask",["ItemsSizesOptionTask","templates"],Ft,r.wL.Cyan),o.addTask("AnnotationLabelTemplateTask",["ItemsOptionTask","templates"],Bt,r.wL.Cyan),o.addTask("LevelAnnotationTemplateTask",["OrientationOptionTask","LevelTitleTemplateOptionTask","templates"],Dt,r.wL.Cyan),o.addTask("VisualTreeTask",["OrgTreeTask","null","VisualTreeOptionTask"],an,r.wL.Red),o.addTask("VisualTreeLevelsTask",["VisualTreeTask","ItemTemplateParamsTask"],yn,r.wL.Red),o.addTask("ExtractNestedLayoutsTask",["OptionsTask"],vn,r.wL.Red),o.addTask("CreateLayoutsTreeTask",["VisualTreeTask","VisualTreeLevelsTask","ExtractNestedLayoutsTask"],xn,r.wL.Red),o.addTask("ConnectionsGraphTask",["graphics","CreateTransformTask","ConnectorsOptionTask","VisualTreeLevelsTask","ExtractNestedLayoutsTask","AlignDiagramTask"],Sn,r.wL.Cyan),o.addTask("HighlightItemTask",["HighlightItemOptionTask","null"],Ln,r.wL.Cyan),o.addTask("CursorItemTask",["CursorItemOptionTask","null"],In,r.wL.Cyan),o.addTask("SelectedItemsTask",["SelectedItemsOptionTask","ItemsOptionTask"],Mn,r.wL.Cyan),o.addTask("CombinedNormalVisibilityItemsTask",["OptionsTask"],er,r.wL.Cyan),o.addTask("FrameSizeTask",["FrameOptionTask","ReadTemplatesTask","ScaleOptionTask"],Dn,r.wL.Navy),o.addTask("LevelTitleSizeTask",["LevelTitlePlacementOptionTask","LevelAnnotationOptionTask","OrientationOptionTask","ScaleOptionTask"],jn,r.wL.Navy),o.addTask("CurrentControlSizeTask",["OptionsTask"],tr,r.wL.Cyan),o.addTask("ItemsPositionsTask",["CurrentControlSizeTask","ScaleOptionTask","OrientationOptionTask","ItemsSizesOptionTask","ConnectorsOptionTask","VisualTreeOptionTask","CreateLayoutsTreeTask","ItemTemplateParamsTask","CursorItemTask","CombinedNormalVisibilityItemsTask"],Gn,r.wL.Red),o.addTask("AlignDiagramTask",["OrientationOptionTask","ItemsSizesOptionTask","VisualTreeOptionTask","ScaleOptionTask","CurrentControlSizeTask","null","ItemsPositionsTask"],Wn,r.wL.Red),o.addTask("CreateTransformTask",["OrientationOptionTask","ScaleOptionTask","AlignDiagramTask"],qn,r.wL.Cyan),o.addTask("PaletteManagerTask",["ConnectorsOptionTask","null"],Xn,r.wL.Cyan),o.addTask("ApplyLayoutChangesTask",["graphics","setLayout","ItemsSizesOptionTask","CurrentControlSizeTask","ScaleOptionTask","AlignDiagramTask","FrameSizeTask","LevelTitleSizeTask"],Yn,r.wL.Green),o.addTask("ViewPortPlacementTask",["ScaleOptionTask","CenterOnCursorTask","CreateTransformTask","ApplyLayoutChangesTask"],Qn,r.wL.Green),o.addTask("VerticalOffsetTask",["ViewPortPlacementTask"],$n,r.wL.Green),o.addTask("LogicalLevelsPlacementTask",["OrgTreeTask","VisualTreeTask","AlignDiagramTask"],ei,r.wL.Green),o.addTask("MergeLevelIntervalsTask",["LevelAnnotationOptionTask","LogicalLevelsPlacementTask"],ti,r.wL.Green),o.addTask("DrawBackgroundAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","BackgroundAnnotationOptionTask","VisualTreeTask","AlignDiagramTask"],oi,r.wL.Green),o.addTask("DrawBackgroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background","DrawBackgroundAnnotationTask"],mi,r.wL.Green),o.addTask("DrawBackgroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background","DrawBackgroundShapeAnnotationTask"],ci,r.wL.Green),o.addTask("DrawTreeItemsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","null","ItemsSizesOptionTask","CombinedContextsTask","AlignDiagramTask","null","ItemTemplateParamsTask","CursorItemTask","SelectedItemsTask","GroupTitleTemplateTask","CheckBoxTemplateTask","ButtonsTemplateTask","DrawBackgroundConnectorAnnotationTask"],Ti,r.wL.Green),o.addTask("DrawBackgroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","ForegroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","foreground","DrawTreeItemsTask"],ai,r.wL.Cyan),o.addTask("DrawConnectorsTask",["graphics","ConnectionsGraphTask","ConnectorsOptionTask","showElbowDots","PaletteManagerTask","DrawBackgroundHighlightPathAnnotationTask"],ki,r.wL.Green),o.addTask("DrawForegroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","BackgroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","background","DrawConnectorsTask"],ai,r.wL.Cyan),o.addTask("DrawForegroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground","DrawForegroundHighlightPathAnnotationTask"],mi,r.wL.Green),o.addTask("DrawForegroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground","DrawForegroundShapeAnnotationTask"],ci,r.wL.Green),o.addTask("DrawCursorTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","ItemTemplateParamsTask","CursorItemTask","SelectedItemsTask","DrawForegroundConnectorAnnotationTask"],gi,r.wL.Green),o.addTask("DrawHighlightTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","ItemTemplateParamsTask","HighlightItemTask","CursorItemTask","SelectedItemsTask","DrawCursorTask"],yi,r.wL.Green),o.addTask("DrawLevelAnnotationBackgroundTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask"],Li,r.wL.Green),o.addTask("DrawLevelAnnotationTitlesTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask","LevelTitlePlacementOptionTask"],Si,r.wL.Green),o}function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function or(e,t){return $o(e,nr,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){(0,Se.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({AnnotationLabelTemplate:_o,ButtonsTemplate:Go,CheckBoxTemplate:No,CursorTemplate:Vo,CustomRenderTemplate:Ho,DotHighlightTemplate:Go,GroupTitleTemplate:Zo,HighlightTemplate:qo,ItemTemplate:Ko,UserTemplate:Xo,LevelTitleTemplate:Uo,LevelBackgroundTemplate:Jo,LabelAnnotationTemplate:Yo},t))}function rr(e,t,n,i){var o=new Ke;return o.addDependency("options",e),o.addDependency("graphics",t),o.addDependency("setLayout",n),o.addDependency("templates",i),o.addDependency("defaultConfig",new ge),o.addDependency("defaultItemConfig",new ye),o.addDependency("defaultTemplateConfig",new xe),o.addDependency("defaultPaletteItemConfig",new Ce),o.addDependency("defaultBackgroundAnnotationConfig",new Te),o.addDependency("defaultConnectorAnnotationConfig",new we),o.addDependency("defaultHighlightPathAnnotationConfig",new be),o.addDependency("defaultShapeAnnotationConfig",new Oe),o.addDependency("defaultLabelAnnotationConfig",new ke),o.addDependency("defaultLevelAnnotationConfig",new Pe),o.addDependency("showElbowDots",!0),o.addDependency("null",null),o.addDependency("foreground",r.k0.Foreground),o.addDependency("background",r.k0.Background),o.addTask("OptionsTask",["options"],Xe,r.wL.Black),o.addTask("CalloutOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],$e,r.wL.Navy),o.addTask("ConnectorsOptionTask",["OptionsTask","defaultConfig"],et,r.wL.Navy),o.addTask("ItemsOptionTask",["OptionsTask","defaultItemConfig"],Ni,r.wL.Navy),o.addTask("ItemsSizesOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],ot,r.wL.Navy),o.addTask("TemplatesOptionTask",["OptionsTask","defaultConfig","defaultTemplateConfig"],lt,r.wL.Navy),o.addTask("OrientationOptionTask",["OptionsTask","defaultConfig"],st,r.wL.Navy),o.addTask("VisualTreeOptionTask",["OptionsTask","defaultConfig"],Gi,r.wL.Navy),o.addTask("HideGrandParentsConnectorsOptionTask",["OptionsTask","defaultConfig"],Wi,r.wL.Navy),o.addTask("ExtractNestedLayoutsOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],qi,r.wL.Navy),o.addTask("NormalizeOptionTask",["OptionsTask","defaultConfig"],Zi,r.wL.Navy),o.addTask("OrderFamilyNodesOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],Ki,r.wL.Navy),o.addTask("LinePaletteOptionTask",["OptionsTask","defaultPaletteItemConfig"],Xi,r.wL.Navy),o.addTask("CursorItemOptionTask",["OptionsTask","defaultConfig"],ct,r.wL.Navy),o.addTask("HighlightItemOptionTask",["OptionsTask","defaultConfig"],dt,r.wL.Navy),o.addTask("SelectedItemsOptionTask",["OptionsTask"],ft,r.wL.Navy),o.addTask("SplitAnnotationsOptionTask",["OptionsTask"],mt,r.wL.Cyan),o.addTask("ForegroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","foreground"],gt,r.wL.Navy),o.addTask("BackgroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","background"],gt,r.wL.Navy),o.addTask("ForegroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","foreground"],yt,r.wL.Navy),o.addTask("BackgroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","background"],yt,r.wL.Navy),o.addTask("ForegroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","foreground"],vt,r.wL.Navy),o.addTask("BackgroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","background"],vt,r.wL.Navy),o.addTask("BackgroundAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultBackgroundAnnotationConfig"],Tt,r.wL.Navy),o.addTask("LevelAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultLevelAnnotationConfig"],wt,r.wL.Navy),o.addTask("ScaleOptionTask",["OptionsTask","defaultConfig"],bt,r.wL.Navy),o.addTask("FrameOptionTask",["OptionsTask","defaultConfig"],kt,r.wL.Navy),o.addTask("LevelTitlePlacementOptionTask",["OptionsTask","defaultConfig"],Ct,r.wL.Navy),o.addTask("LevelTitleTemplateOptionTask",["OptionsTask","defaultConfig"],Ot,r.wL.Navy),o.addTask("UserDefinedNodesOrderTask",["OrderFamilyNodesOptionTask","defaultItemConfig"],Ji,r.wL.Red),o.addTask("LogicalFamilyTask",["ItemsOptionTask"],$i,r.wL.Cyan),o.addTask("LabelAnnotationOptionTask",["SplitAnnotationsOptionTask","LogicalFamilyTask","defaultLabelAnnotationConfig"],to,r.wL.Navy),o.addTask("LabelAnnotationTemplateOptionTask",["LabelAnnotationOptionTask","defaultLabelAnnotationConfig"],no,r.wL.Navy),o.addTask("LabelAnnotationPlacementOptionTask",["LabelAnnotationOptionTask","defaultLabelAnnotationConfig"],io,r.wL.Navy),o.addTask("CombinedContextsTask",["ItemsOptionTask","LabelAnnotationOptionTask"],Pt,r.wL.Cyan),o.addTask("AddLabelAnnotationsTask",["LabelAnnotationPlacementOptionTask","LogicalFamilyTask"],ro,r.wL.Red),o.addTask("RemoveLoopsTask",["AddLabelAnnotationsTask"],eo,r.wL.Red),o.addTask("HideGrandParentsConnectorsTask",["HideGrandParentsConnectorsOptionTask","RemoveLoopsTask"],ao,r.wL.Red),o.addTask("BindFamilyConnectorsTask",["HideGrandParentsConnectorsTask"],lo,r.wL.Red),o.addTask("ExtractNestedLayoutsTask",["ExtractNestedLayoutsOptionTask","BindFamilyConnectorsTask"],vo,r.wL.Red),o.addTask("NormalizeLogicalFamilyTask",["NormalizeOptionTask","ExtractNestedLayoutsTask"],wo,r.wL.Red),o.addTask("OrderFamilyNodesTask",["OrderFamilyNodesOptionTask","UserDefinedNodesOrderTask","NormalizeLogicalFamilyTask"],Po,r.wL.Red),o.addTask("FamCreateLayoutsTreeTask",["OrderFamilyNodesTask","ExtractNestedLayoutsTask"],Eo,r.wL.Red),o.addTask("ReadTemplatesTask",["TemplatesOptionTask","templates"],It,r.wL.Cyan),o.addTask("ItemTemplateParamsTask",["ItemsSizesOptionTask","CursorItemOptionTask","ReadTemplatesTask"],zt,r.wL.Cyan),o.addTask("LabelAnnotationTemplateParamsTask",["ItemsSizesOptionTask","LabelAnnotationTemplateOptionTask","ReadTemplatesTask"],xo,r.wL.Cyan),o.addTask("CombinedTemplateParamsTask",["ItemTemplateParamsTask","LabelAnnotationTemplateParamsTask"],So,r.wL.Cyan),o.addTask("GroupTitleTemplateTask",["TemplatesOptionTask","templates"],Rt,r.wL.Cyan),o.addTask("CheckBoxTemplateTask",["ItemsSizesOptionTask","templates"],Et,r.wL.Cyan),o.addTask("ButtonsTemplateTask",["ItemsSizesOptionTask","templates"],Ft,r.wL.Cyan),o.addTask("AnnotationLabelTemplateTask",["ItemsOptionTask","templates"],Bt,r.wL.Cyan),o.addTask("LevelAnnotationTemplateTask",["OrientationOptionTask","LevelTitleTemplateOptionTask","templates"],Dt,r.wL.Cyan),o.addTask("ConnectionsGraphTask",["graphics","CreateTransformTask","ConnectorsOptionTask","OrderFamilyNodesTask","ExtractNestedLayoutsTask","AlignDiagramTask","RemoveLoopsTask"],Sn,r.wL.Cyan),o.addTask("HighlightItemTask",["HighlightItemOptionTask","null"],Ln,r.wL.Cyan),o.addTask("CursorItemTask",["CursorItemOptionTask","null"],In,r.wL.Cyan),o.addTask("SelectedItemsTask",["SelectedItemsOptionTask","ItemsOptionTask"],Mn,r.wL.Cyan),o.addTask("CombinedNormalVisibilityItemsTask",["OptionsTask"],er,r.wL.Cyan),o.addTask("FrameSizeTask",["FrameOptionTask","ReadTemplatesTask","ScaleOptionTask"],Dn,r.wL.Navy),o.addTask("LevelTitleSizeTask",["LevelTitlePlacementOptionTask","LevelAnnotationOptionTask","OrientationOptionTask","ScaleOptionTask"],jn,r.wL.Navy),o.addTask("CurrentControlSizeTask",["OptionsTask"],tr,r.wL.Cyan),o.addTask("ItemsPositionsTask",["CurrentControlSizeTask","ScaleOptionTask","OrientationOptionTask","ItemsSizesOptionTask","ConnectorsOptionTask","OrderFamilyNodesOptionTask","FamCreateLayoutsTreeTask","CombinedTemplateParamsTask","CursorItemTask","CombinedNormalVisibilityItemsTask"],Gn,r.wL.Red),o.addTask("AlignDiagramTask",["OrientationOptionTask","ItemsSizesOptionTask","VisualTreeOptionTask","ScaleOptionTask","CurrentControlSizeTask","null","ItemsPositionsTask"],Wn,r.wL.Red),o.addTask("CreateTransformTask",["OrientationOptionTask","ScaleOptionTask","AlignDiagramTask"],qn,r.wL.Cyan),o.addTask("PaletteManagerTask",["ConnectorsOptionTask","LinePaletteOptionTask"],Xn,r.wL.Cyan),o.addTask("ApplyLayoutChangesTask",["graphics","setLayout","ItemsSizesOptionTask","CurrentControlSizeTask","ScaleOptionTask","AlignDiagramTask","FrameSizeTask","LevelTitleSizeTask"],Yn,r.wL.Green),o.addTask("ViewPortPlacementTask",["ScaleOptionTask","CenterOnCursorTask","CreateTransformTask","ApplyLayoutChangesTask"],Qn,r.wL.Green),o.addTask("VerticalOffsetTask",["ViewPortPlacementTask"],$n,r.wL.Green),o.addTask("LogicalLevelsPlacementTask",["OrderFamilyNodesTask","AlignDiagramTask"],Vi,r.wL.Green),o.addTask("MergeLevelIntervalsTask",["LevelAnnotationOptionTask","LogicalLevelsPlacementTask"],ti,r.wL.Green),o.addTask("DrawBackgroundAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","BackgroundAnnotationOptionTask","LogicalFamilyTask","AlignDiagramTask"],oi,r.wL.Green),o.addTask("DrawBackgroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background","DrawBackgroundAnnotationTask"],mi,r.wL.Green),o.addTask("DrawBackgroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background","DrawBackgroundShapeAnnotationTask"],ci,r.wL.Green),o.addTask("DrawBackgroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","ForegroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","foreground","DrawBackgroundConnectorAnnotationTask"],ai,r.wL.Cyan),o.addTask("DrawConnectorsTask",["graphics","ConnectionsGraphTask","ConnectorsOptionTask","showElbowDots","PaletteManagerTask","DrawBackgroundHighlightPathAnnotationTask"],ki,r.wL.Green),o.addTask("DrawForegroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","BackgroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","background","DrawConnectorsTask"],ai,r.wL.Cyan),o.addTask("DrawTreeItemsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","null","ItemsSizesOptionTask","CombinedContextsTask","AlignDiagramTask","null","CombinedTemplateParamsTask","CursorItemTask","SelectedItemsTask","GroupTitleTemplateTask","CheckBoxTemplateTask","ButtonsTemplateTask","DrawForegroundHighlightPathAnnotationTask"],Ti,r.wL.Green),o.addTask("DrawCursorTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","CombinedTemplateParamsTask","CursorItemTask","SelectedItemsTask","DrawTreeItemsTask"],gi,r.wL.Green),o.addTask("DrawHighlightTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","CombinedTemplateParamsTask","HighlightItemTask","CursorItemTask","SelectedItemsTask","DrawCursorTask"],yi,r.wL.Green),o.addTask("DrawForegroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground","DrawHighlightTask"],mi,r.wL.Green),o.addTask("DrawForegroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground","DrawForegroundShapeAnnotationTask"],ci,r.wL.Green),o.addTask("DrawLevelAnnotationBackgroundTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask"],Li,r.wL.Green),o.addTask("DrawLevelAnnotationTitlesTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask","LevelTitlePlacementOptionTask"],Si,r.wL.Green),o}function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function lr(e,t){return $o(e,rr,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach((function(t){(0,Se.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({AnnotationLabelTemplate:_o,ButtonsTemplate:Go,CheckBoxTemplate:No,CursorTemplate:Vo,CustomRenderTemplate:Ho,DotHighlightTemplate:Go,GroupTitleTemplate:Zo,HighlightTemplate:qo,ItemTemplate:Ko,UserTemplate:Xo,LevelTitleTemplate:Uo,LevelBackgroundTemplate:Jo,LabelAnnotationTemplate:Yo},t))}sn.prototype.toAttr=function(){var e={lineWidth:this.lineWidth,lineType:this.lineType};return null!==this.fillColor&&(e.fillColor=this.fillColor),null!==this.opacity&&(e.opacity=this.opacity),null!==this.lineColor&&(e.borderColor=this.lineColor),e},sn.prototype.toString=function(){return this._key},un.prototype=new E,un.prototype.clone=function(){return new un(this)},un.prototype.loop=function(e,t){null!=t&&t.call(e,this.x,this.y,0)},un.prototype.setPoint=function(e,t){this.x=e.x,this.y=e.y},un.prototype.getEndPoint=function(){return this},un.prototype.invert=function(e){this.x=e.x,this.y=e.y},un.prototype.transform=function(e,t){var n=this;e.transformPoint(n.x,n.y,t,n,(function(e,t){n.x=e,n.y=t}))},hn.prototype=new un,hn.prototype.clone=function(){return new hn(this)},hn.prototype.trim=function(e,t){var n=this.offsetPoint(this,e,t);return this.x=n.x,this.y=n.y,this},hn.prototype.offsetPoint=function(e,t,n){var i=e.distanceTo(t);return 0===i||0===n?new E(e):new E(e.x+(t.x-e.x)/i*n,e.y+(t.y-e.y)/i*n)},cn.prototype.clone=function(){return new cn(this.cpX,this.cpY,this.x,this.y)},cn.prototype.loop=function(e,t){null!=t&&(t.call(e,this.cpX,this.cpY,0),t.call(e,this.x,this.y,1))},cn.prototype.setPoint=function(e,t){switch(t){case 0:this.cpX=e.x,this.cpY=e.y;break;case 1:this.x=e.x,this.y=e.y}},cn.prototype.getEndPoint=function(){return this},cn.prototype.invert=function(e){this.x=e.x,this.y=e.y},cn.prototype.transform=function(e,t){var n=this;e.transformPoints(n.x,n.y,n.cpX,n.cpY,t,n,(function(e,t,i,o){n.x=e,n.y=t,n.cpX=i,n.cpY=o}))},cn.prototype.trim=function(e,t){var n=.5,i=this.offsetPoint(this.x,this.y,this.cpX,this.cpY,e.x,e.y,n),o=this.offsetPoint(this.x,this.y,this.cpX,this.cpY,e.x,e.y,.1);return n=t*(n/i.distanceTo(this.x,this.y)+.1/o.distanceTo(this.x,this.y))/2,i=this.offsetPoint(this.x,this.y,this.cpX,this.cpY,e.x,e.y,n),this.x=i.x,this.y=i.y,this},cn.prototype.offsetPoint=function(e,t,n,i,o,r,a){return new E((1-a)*(1-a)*e+2*(1-a)*a*n+a*a*o,(1-a)*(1-a)*t+2*(1-a)*a*i+a*a*r)},fn.prototype=new E,fn.prototype.clone=function(){return new fn(this.cpX1,this.cpY1,this.cpX2,this.cpY2,this.x,this.y)},fn.prototype.loop=function(e,t){null!=t&&(t.call(e,this.cpX1,this.cpY1,0),t.call(e,this.cpX2,this.cpY2,1),t.call(e,this.x,this.y,2))},fn.prototype.setPoint=function(e,t){switch(t){case 0:this.cpX1=e.x,this.cpY1=e.y;break;case 1:this.cpX2=e.x,this.cpY2=e.y;break;case 2:this.x=e.x,this.y=e.y}},fn.prototype.getEndPoint=function(){return this},fn.prototype.invert=function(e){var t=this.cpX1,n=this.cpY1;this.x=e.x,this.y=e.y,this.cpX1=this.cpX2,this.cpY1=this.cpY2,this.cpX2=t,this.cpY2=n},fn.prototype.transform=function(e,t){var n=this;e.transform3Points(n.x,n.y,n.cpX1,n.cpY1,n.cpX2,n.cpY2,t,n,(function(e,t,i,o,r,a){n.x=e,n.y=t,n.cpX1=i,n.cpY1=o,n.cpX2=r,n.cpY2=a}))},fn.prototype.trim=function(e,t){var n=.5,i=this.offsetPoint(this.x,this.y,this.cpX2,this.cpY2,this.cpX1,this.cpY1,e.x,e.y,n),o=this.offsetPoint(this.x,this.y,this.cpX2,this.cpY2,this.cpX1,this.cpY1,e.x,e.y,.1);return n=t*(n/i.distanceTo(this.x,this.y)+.1/o.distanceTo(this.x,this.y))/2,i=this.offsetPoint(this.x,this.y,this.cpX2,this.cpY2,this.cpX1,this.cpY1,e.x,e.y,n),this.x=i.x,this.y=i.y,this},fn.prototype.offsetPoint=function(e,t,n,i,o,r,a,l,s){return new E((1-s)*(1-s)*(1-s)*e+3*(1-s)*(1-s)*s*n+3*(1-s)*s*s*o+s*s*s*a,(1-s)*(1-s)*(1-s)*t+3*(1-s)*(1-s)*s*i+3*(1-s)*s*s*r+s*s*s*l)},pn.prototype.trace=function(e,t,n){},pn.prototype.getId=function(e){var t="_"+e.nodeid;return e.nodeid+=1,t},pn.prototype.ConnectorEdge=function(e,t,n,i,o,r,a,l,s,u,h){this.polyline=n,this.from=e,this.to=t,this.weight=a||0,this.fromOffset=l||0,this.hasArrow=h||!1,this.parentsArrowId=i,this.childrenArrowId=o,this.dotId=r,this.hasMiddle=s,this.middleParent=u,this.isOppositeFlow=!1},pn.prototype.ConnectorDestination=function(e){for(var t in this.id=null,this.x=null,this.y=null,this.bundleid=null,this.hasElbow=!1,this.elbowPoint1=null,this.elbowPoint2=null,this.visibility=null,this.isSquared=!0,e)e.hasOwnProperty(t)&&(this[t]=e[t])},pn.prototype.traceFork=function(e,t,n,i,o,a,l,s,u){var h,c,d,f,p,m,g,y,v,T,w,b,k,C=[];if(a){for(C=[],h=0,d=o.length;h<d&&((f=o[h]).x<i.x&&!f.isSquared);h+=1)C.push(f);for((d=C.length)>0&&(p=(m=C[d-1]).x==i.x?i:new this.ConnectorDestination({id:m.bundleid,x:m.x,y:i.y}),this.traceAngularSegments(e,t,n,p,C,!1)),C=[],c=o.length-1;c>=h&&((f=o[c]).x>i.x&&!f.isSquared);c-=1)C.push(f);for((d=C.length)>0&&(p=(m=C[d-1]).x==i.x?i:new this.ConnectorDestination({id:m.bundleid,x:m.x,y:i.y}),this.traceAngularSegments(e,t,n,p,C,!1)),g=h;g<=c;g+=1){switch(f=o[g],(v=n.bevelSize)<2&&(v=0),n.elbowType){case r.ex.Bevel:case r.ex.Round:v>0&&Math.abs(i.x-f.x)>v&&Math.abs(i.y-f.y)>v&&(f.hasElbow=!0,f.elbowPoint1=new E(f.x,i.y+(i.y>f.y?-v:v)),f.elbowPoint2=new E(f.x+(i.x>f.x?v:-v),i.y))}y=new dn,f.hasElbow?(t.transform.transform3Points(f.elbowPoint2.x,f.elbowPoint2.y,f.elbowPoint1.x,f.elbowPoint2.y,f.elbowPoint1.x,f.elbowPoint1.y,!0,this,(function(e,t,i,o,a,l){switch(n.elbowType){case r.ex.Bevel:y.addSegment(new un(e,t)),y.addSegment(new hn(a,l));break;case r.ex.Round:y.addSegment(new un(e,t)),y.addSegment(new fn(e,t,i,o,a,l))}})),t.transform.transformPoints(f.elbowPoint1.x,f.elbowPoint1.y,f.x,f.y,!0,this,(function(e,t,n,i){y.addSegment(new hn(n,i))}))):t.transform.transformPoints(f.x,i.y,f.x,f.y,!0,this,(function(e,t,n,i){y.addSegment(new un(e,t)),y.addSegment(new hn(n,i))}));var O=f.x==i.x?i.id:f.bundleid,P=f.visibility!==r.EE.Invisible;e.graph.addEdge(O,f.id,new this.ConnectorEdge(O,f.id,y,l?f.id:null,l?null:f.id,null,P?this.NORMAL_ITEM_WEIGHT:this.LINE_ITEM_WEIGHT,s,null,null,P))}for(h=Math.max(h-1,0),c=Math.min(c+1,o.length-1),T=i,w=i.id,g=h;g<=c;g+=1)k=(b=o[g]).bundleid,b.x>T.x&&(y=new dn,t.transform.transformPoints(T.x,i.y,null!=b.elbowPoint2?b.elbowPoint2.x:b.x,i.y,!0,this,(function(e,t,n,i){y.addSegment(new un(e,t)),y.addSegment(new hn(n,i))})),e.graph.addEdge(w,k,new this.ConnectorEdge(w,k,y,null,null,w,Math.abs(b.x-T.x)/1e4,s,u,l?k:w)),T=b.elbowPoint2||b,w=k);for(T=i,w=i.id,g=c;g>=h;g-=1)k=(b=o[g]).bundleid,b.x<T.x&&(y=new dn,t.transform.transformPoints(T.x,i.y,null!=b.elbowPoint2?b.elbowPoint2.x:b.x,i.y,!0,this,(function(e,t,n,i){y.addSegment(new un(e,t)),y.addSegment(new hn(n,i))})),e.graph.addEdge(w,k,new this.ConnectorEdge(w,k,y,null,null,w,Math.abs(b.x-T.x)/1e4,s,u,l?k:w)),T=b.elbowPoint2||b,w=k)}else this.traceAngularSegments(e,t,n,i,o,!0)},pn.prototype.traceAngularSegments=function(e,t,n,i,o,a){var l,s,u,h,c;for(l=0,s=o.length;l<s;l+=1){switch(h=o[l],c=new dn,t.transform.transformPoint(i.x,i.y,!0,this,(function(e,t){c.addSegment(new un(e,t))})),n.connectorType){case r.r7.Angular:t.transform.transformPoint(h.x,h.y,!0,this,(function(e,t){c.addSegment(new hn(e,t))}));break;case r.r7.Curved:u=new j(i,h),a?i.x>u.x?t.transform.transform3Points(u.right(),u.verticalCenter(),u.x,u.verticalCenter(),u.x,u.bottom(),!0,this,(function(e,t,n,i,o,r){c.addSegment(new fn(e,t,n,i,o,r))})):t.transform.transform3Points(u.x,u.verticalCenter(),u.right(),u.verticalCenter(),u.right(),u.bottom(),!0,this,(function(e,t,n,i,o,r){c.addSegment(new fn(e,t,n,i,o,r))})):i.x>u.x?t.transform.transformPoints(u.x,u.y,u.x,u.bottom(),!0,this,(function(e,t,n,i){c.addSegment(new cn(e,t,n,i))})):t.transform.transformPoints(u.right(),u.y,u.right(),u.bottom(),!0,this,(function(e,t,n,i){c.addSegment(new cn(e,t,n,i))}))}var d=h.visibility!==r.EE.Invisible;e.graph.addEdge(i.id,h.id,new this.ConnectorEdge(i.id,h.id,c,null,d?h.id:null,d?this.NORMAL_ITEM_WEIGHT:this.LINE_ITEM_WEIGHT,null,null,null,!0))}},mn.prototype=new pn,mn.prototype.trace=function(e,t,n){var i,o,a,l,s,u,h,c,d,f,p,m,g,y=n.connectorType===r.r7.Squared;if(i=[],this.fromItems.length>0){for(u=0,h=(a=this.fromItems).length;u<h;u+=1)l=a[u],s=t.treeItemsPositions[l],g=new this.ConnectorDestination({id:t.nestedLayoutBottomConnectorIds.hasOwnProperty(l)?t.nestedLayoutBottomConnectorIds[l]:l,bundleid:this.getId(e),x:s.actualPosition.horizontalCenter(),y:s.actualPosition.bottom(),isSquared:!0,visibility:s.actualVisibility}),i.push(g);i.sort((function(e,t){return e.x-t.x})),p=s.bottomConnectorShift-s.bottomConnectorInterval*(this.fromStackSize-this.fromOffset+1)}if(o=[],this.toItems.length>0){for(d=!1,a=this.toItems,u=0;u<a.length;u+=1){switch(l=a[u],c=!0,(s=t.treeItemsPositions[l]).actualVisibility){case r.EE.Dot:case r.EE.Line:c=y}0,g=new this.ConnectorDestination({id:l,bundleid:this.getId(e),x:s.actualPosition.horizontalCenter()+0,y:s.actualPosition.top(),isSquared:c,visibility:s.actualVisibility}),o.push(g),d=d||g.isSquared}o.sort((function(e,t){return e.x-t.x})),m=s.topConnectorShift}f=1==o.length?o[0].x:1==i.length?i[0].x:o.length>0&&i.length>0?(i[0].x+i[i.length-1].x+o[0].x+o[o.length-1].x)/4:o.length>0?(o[0].x+o[o.length-1].x)/2:(i[0].x+i[i.length-1].x)/2;var v=null;i.length>0&&(v=new this.ConnectorDestination({id:0==o.length&&this.dotId?this.dotId:this.getId(e),x:f,y:p}),this.traceFork(e,t,n,v,i,!0,!0,this.fromOffset,n.showExtraArrows));var T=null;o.length>0&&(T=new this.ConnectorDestination({id:0==i.length&&this.dotId?this.dotId:this.getId(e),x:f,y:m}),null!=v&&T.y==v.y&&(T=v),this.traceFork(e,t,n,T,o,d,!1,0,n.showExtraArrows)),null!=v&&null!=T&&v.id!=T.id&&t.transform.transformPoints(v.x,v.y,T.x,T.y,!0,this,(function(t,n,i,o){var r=new dn;r.addSegment(new un(t,n)),r.addSegment(new hn(i,o)),e.graph.addEdge(v.id,T.id,new this.ConnectorEdge(v.id,T.id,r,null,null,null,0))}))},gn.prototype=new pn,gn.prototype.trace=function(e,t,n){var i=this.fromItem,o=this.toItem,a=t.treeItemsPositions[i],l=t.treeItemsPositions[o],s=new dn;a.actualPosition.x<l.actualPosition.x?t.transform.transformPoints(a.actualPosition.right(),a.horizontalConnectorsShift,l.actualPosition.x,l.horizontalConnectorsShift,!0,this,(function(e,t,n,i){s.addSegment(new un(e,t)),s.addSegment(new hn(n,i))})):t.transform.transformPoints(a.actualPosition.x,a.horizontalConnectorsShift,l.actualPosition.right(),a.horizontalConnectorsShift,!0,this,(function(e,t,n,i){s.addSegment(new un(e,t)),s.addSegment(new hn(n,i))}));var u=l.actualVisibility!==r.EE.Invisible,h=a.actualVisibility!==r.EE.Invisible;e.graph.addEdge(i,o,new this.ConnectorEdge(i,o,s,u?o:null,h?i:null,null,u||h?this.NORMAL_ITEM_WEIGHT:this.LINE_ITEM_WEIGHT,null,null,null,!0))},Tn.prototype.setShift=function(e,t,n,i,o){return this.shift=e,this.levelSpace=t,this.topConnectorShift=-t/2-n,this.connectorShift=this.depth+i+(o+1)*(t/2),this.nextLevelShift=n+this.depth+i+t+o*t/2,this.nextLevelShift},Tn.prototype.getNodesBottom=function(){return this.shift+this.depth},Tn.prototype.toString=function(){return this.currentvisibility},On.prototype.loop=function(e,t){if(null!=t){var n=0;this.treeLevels.loopLevels(this,(function(i){this.treeLevels.loopLevelItems(this,i,(function(i,o){t.call(e,o,n)})),n+=1}))}},On.prototype.measure=function(e,t,n,i,o,a){this.treeLevelsPositions=[],this.treeLevels.loopLevels(this,(function(e,t){var n=new Tn;this.treeLevelsPositions.push(n)})),this.setOffsets(this.treeLevels,o,this.childLayoutsPositions,this.treeLevelsPositions,this.visualTree,this.rightMargins,this.leftMargins,a.intervals,a.arrowsDirection,a.linesWidth,a.cousinsIntervalMultiplier,a.horizontalAlignment,a.padding),this.setLevelsDepth(this.treeLevels,o,this.treeLevelsPositions,a.verticalAlignment),this.shiftLevels(this.treeLevelsPositions,a.padding.top,a.shifts,a.arrowsDirection,a.linesWidth,this.getConnectorsStacksSizes);var l=new wn;return l.actualVisibility=r.EE.Normal,l.actualSize=this.getLayoutSize(this.treeLevels,o,this.childLayoutsPositions,this.treeLevelsPositions,a.padding),l},On.prototype.getLayoutSize=function(e,t,n,i,o){return new j(0,0,Math.round(this.getLayoutWidth(e,t,n,o)),Math.round(this.getLayoutHeight(i,o)))},On.prototype.getLayoutWidth=function(e,t,n,i){var o=0;return e.loopLevels(this,(function(r,a){var l=e.getLevelLength(r);if(l>0){var s=e.getItemAtPosition(r,l-1),u=t[s],h=n[s];o=Math.max(o,h.offset+u.actualSize.width+i.right)}})),o},On.prototype.getLayoutHeight=function(e,t){return e[e.length-1].getNodesBottom()+t.bottom},On.prototype.setLevelsDepth=function(e,t,n,i){var o,a;e.loopLevels(this,(function(l,s){var u=n[l];switch(u.shift=0,u.depth=0,u.actualVisibility=r.EE.Invisible,o=null,a=null,e.loopLevelItems(this,l,(function(e,n,i){var l=t[e];switch(u.depth=Math.max(u.depth,l.actualSize.height),l.actualVisibility){case r.EE.Dot:case r.EE.Line:case r.EE.Invisible:a=a?Math.min(a,l.actualSize.height):l.actualSize.height;break;default:o=o?Math.min(o,l.actualSize.height):l.actualSize.height}u.actualVisibility=Math.min(u.actualVisibility,l.actualVisibility)})),null==o&&(o=u.depth),null!=a&&a>o&&(o=a),i){case r.Vn.Top:u.horizontalConnectorsDepth=o/2;break;case r.Vn.Middle:u.horizontalConnectorsDepth=u.depth/2;break;case r.Vn.Bottom:u.horizontalConnectorsDepth=u.depth-o/2}}))},On.prototype.shiftLevels=function(e,t,n,i,o,a){var l,s,u,h=0,c=0,d=8*o;switch(i){case r.zX.Parents:h=d,c=0;break;case r.zX.Children:h=0,c=d}var f=!0;for(l=0,s=e.length;l<s;l+=1)if(u=e[l],f&&u.actualVisibility==r.EE.Invisible)u.setShift(0,0,0,0,0);else{var p=a(l).parentsStackSize;t+=u.setShift(t,n[u.actualVisibility],c,h,p),f=!1}},On.prototype.setOffsets=function(e,t,n,i,o,a,l,s,u,h,c,d,f){var p,m;for(p=0,m=i.length;p<m;p+=1)i[p].currentOffset=0;o.loopPostOrder(this,(function(p,m,g,y){var v,T,w,b,k,C,O,P,x,S,L,I,A,M,z,R,E=t[p],F=E.actualVisibility,B=e.getLevelIndex(p),D=i[B],j=s[F===r.EE.Auto?D.currentvisibility:F]/2,_=D.currentOffset>0?j+j*m.relationDegree*c:f.left,N=8*h;n[p]=new Cn(0,_,j);var H=n[p];if(u!=r.zX.None&&(m.connectorPlacement&r.En.Left&&(H.leftPadding+=N),m.connectorPlacement&r.En.Right&&(H.rightPadding+=N)),H.offset=D.currentOffset+H.leftPadding,D.currentOffset=H.offset+E.actualSize.width+H.rightPadding,o.hasChildren(p))if((w=this.getChildrenOffset(m,t,n,o,d))>0)this.offsetItemChildren(m,w,e,o,t,n,i);else if(w<0&&(w=-w,this.offsetItem(m,w,e,t,n,i),b=null,k={},O=null,null!==(P=o.parent(m.id))&&(o.loopChildrenReversed(this,P.id,(function(e,i,o){if(i===m)b=[];else if(null!==b){if(C=this.getGapBetweenSiblings(i,m,a,l,t,n),k[i.id]=C,!(C>0))return O=i,!0;b.splice(0,0,i)}})),b.length>0))){if(x=null,null!==O)for((S=(S=[O]).concat(b)).push(m),x=[[O]],v=1,T=S.length;v<T;v+=1)L=S[v-1],I=S[v],L.gravity==r.a3.Right||I.gravity==r.a3.Left?x[x.length-1].push(I):x.push([I]);else(x=[b.slice(0)])[x.length-1].push(m);if(x.length>0)for(v=(b=x[x.length-1]).length-2;v>=0;v-=1)R=b[v],C=k[R.id],w=Math.min(C,w),this.offsetItem(R,w,e,t,n,i),this.offsetItemChildren(R,w,e,o,t,n,i);for(M=w/(x.length-1),A=x.length-2;A>0;A-=1)for(v=(z=x[A]).length-1;v>=0;v-=1)R=z[v],C=k[R.id],w=Math.min(A*M,Math.min(C,w)),this.offsetItem(R,w,e,t,n,i),this.offsetItemChildren(R,w,e,o,t,n,i)}}))},On.prototype.getGapBetweenSiblings=function(e,t,n,i,o,r){for(var a=null,l=this.getRightMargins(e,n,o,r),s=this.getLeftMargins(t,i,r),u=Math.min(l.length,s.length),h=0;h<u;h+=1){var c=s[h]-l[h];if(a=null!==a?Math.min(a,c):c,c<=0)break}return Math.floor(a)},On.prototype.getRightMargins=function(e,t,n,i){var o=[],r=t[e.id];void 0===r&&(r=[]),(r=r.slice()).splice(0,0,e.id);for(var a=0,l=r.length;a<l;a+=1){var s=r[a],u=n[s],h=i[s];o[a]=h.offset+u.actualSize.width+h.rightPadding}return o},On.prototype.getLeftMargins=function(e,t,n){var i=[],o=t[e.id];void 0===o&&(o=[]),(o=o.slice()).splice(0,0,e.id);for(var r=0,a=o.length;r<a;r+=1){var l=n[o[r]];i[r]=l.offset-l.leftPadding}return i},On.prototype.getChildrenOffset=function(e,t,n,i,o){var a=t[e.id],l=n[e.id].offset+a.actualSize.width/2,s=null;if(null===e.visualAggregatorId){var u=null;i.loopChildren(this,e.id,(function(e,t,n){if((u=t).connectorPlacement&r.En.Top)return!0}));var h=t[u.id],c=n[u.id],d=null;i.loopChildrenReversed(this,e.id,(function(e,t,n){if((d=t).connectorPlacement&r.En.Top)return!0}));var f=t[d.id],p=n[d.id];switch(o){case r.a3.Left:s=c.offset+h.actualSize.width/2;break;case r.a3.Right:s=p.offset+f.actualSize.width/2;break;case r.a3.Center:s=(c.offset+p.offset+f.actualSize.width)/2}}else{var m=t[e.visualAggregatorId];s=n[e.visualAggregatorId].offset+m.actualSize.width/2}return l-s},On.prototype.offsetItem=function(e,t,n,i,o,r){var a=i[e.id],l=o[e.id];l.offset+=t;var s=r[n.getLevelIndex(e.id)];s.currentOffset=Math.max(s.currentOffset,l.offset+a.actualSize.width+l.rightPadding)},On.prototype.offsetItemChildren=function(e,t,n,i,o,r,a){i.loopLevels(this,e.id,(function(e,i,l){var s=o[e],u=r[e];u.offset+=t;var h=a[n.getLevelIndex(e)];return h.currentOffset=Math.max(h.currentOffset,u.offset+s.actualSize.width),!0}))},On.prototype.arrange=function(e,t,n,i,o,r){var a=null;null!=r&&this.treeLevels.loopLevels(this,(function(t,n){var l=this.treeLevelsPositions[t];this.treeLevels.loopLevelItems(this,t,(function(t,n,s){var u=i[t],h=this.childLayoutsPositions[t],c=this.getItemPosition(u.actualVisibility,h.offset,u.actualSize,a,l,o.verticalAlignment);r.call(e,t,kn(kn({},u),c))})),a=l}))},On.prototype.getItemPosition=function(e,t,n,i,o,a){var l=0;switch(e){case r.EE.Normal:switch(a){case r.Vn.Top:l=0;break;case r.Vn.Middle:l=(o.depth-n.height)/2;break;case r.Vn.Bottom:l=o.depth-n.height}break;case r.EE.Dot:case r.EE.Line:case r.EE.Invisible:l=o.horizontalConnectorsDepth-n.height/2}return{actualPosition:new j(t,o.shift+l,n.width,n.height),horizontalConnectorsShift:o.shift+o.horizontalConnectorsDepth,topConnectorShift:null!=i?i.shift+i.connectorShift:null,topConnectorInterval:null!=i?i.levelSpace/2:null,bottomConnectorShift:o.shift+o.connectorShift,bottomConnectorInterval:o.levelSpace/2}},Pn.prototype.measure=function(e,t,n,i,o,a){var l,s,u,h=a.orientationType,c=a.checkBoxPanelSize,d=a.buttonsPanelSize,f=a.groupTitlePanelSize,p=a.groupTitlePlacementType,m=n||t?r.EE.Normal:this.visibility,g=m===r.EE.Auto?e:m;switch(g){case r.EE.Normal:if(l=i.template.templateConfig,u=new j(0,0,(s=new P.Z(l.itemSize)).width,s.height),t&&(s.height+=l.cursorPadding.top+l.cursorPadding.bottom,s.width+=l.cursorPadding.left+l.cursorPadding.right,u.x=l.cursorPadding.left,u.y=l.cursorPadding.top),i.hasSelectorCheckbox&&(s.height+=c),i.hasButtons&&(s.width+=d,p===r.hZ.Right))u.x+=d;if(i.hasGroupTitle)if(s.width+=f,p===r.hZ.Right);else u.x+=f;break;case r.EE.Dot:l=i.template.templateConfig,s=new P.Z(l.minimizedItemSize);break;case r.EE.Line:case r.EE.Invisible:s=new P.Z}switch(h){case r.F7.Left:case r.F7.Right:s.invert()}var y=new wn;return y.actualVisibility=g,y.actualSize=s,y.contentPosition=u,y},Pn.prototype.arrange=function(e,t,n,i,o,r){},Zn.prototype.setOrientation=function(e){switch(e){case r.F7.Top:this.invertArea=!1,this.invertHorizontally=!1,this.invertVertically=!1;break;case r.F7.Bottom:this.invertArea=!1,this.invertHorizontally=!1,this.invertVertically=!0;break;case r.F7.Left:this.invertArea=!0,this.invertHorizontally=!1,this.invertVertically=!1;break;case r.F7.Right:this.invertArea=!0,this.invertHorizontally=!0,this.invertVertically=!1}},Zn.prototype.getOrientation=function(e){var t=e;if(this.invertHorizontally)switch(e){case r.F7.Left:t=r.F7.Right;break;case r.F7.Right:t=r.F7.Left}if(this.invertVertically)switch(e){case r.F7.Top:t=r.F7.Bottom;break;case r.F7.Bottom:t=r.F7.Top}if(this.invertArea)switch(t){case r.F7.Top:t=r.F7.Left;break;case r.F7.Bottom:t=r.F7.Right;break;case r.F7.Left:t=r.F7.Top;break;case r.F7.Right:t=r.F7.Bottom}return t},Zn.prototype.transformPoint=function(e,t,n,i,o){var r;n&&this.invertArea&&(r=e,e=t,t=r),this.invertHorizontally&&(e=this.size.width-e),this.invertVertically&&(t=this.size.height-t),n||this.invertArea&&(r=e,e=t,t=r),o.call(i,e,t)},Zn.prototype.transformPoints=function(e,t,n,i,o,r,a){var l;o&&this.invertArea&&(l=e,e=t,t=l,l=n,n=i,i=l),this.invertHorizontally&&(e=this.size.width-e,n=this.size.width-n),this.invertVertically&&(t=this.size.height-t,i=this.size.height-i),o||this.invertArea&&(l=e,e=t,t=l,l=n,n=i,i=l),a.call(r,e,t,n,i)},Zn.prototype.transform3Points=function(e,t,n,i,o,r,a,l,s){var u;a&&this.invertArea&&(u=e,e=t,t=u,u=n,n=i,i=u,u=o,o=r,r=u),this.invertHorizontally&&(e=this.size.width-e,n=this.size.width-n,o=this.size.width-o),this.invertVertically&&(t=this.size.height-t,i=this.size.height-i,r=this.size.height-r),a||this.invertArea&&(u=e,e=t,t=u,u=n,n=i,i=u,u=o,o=r,r=u),s.call(l,e,t,n,i,o,r)},Zn.prototype.transformRect=function(e,t,n,i,o,r,a){var l;o&&this.invertArea&&(l=e,e=t,t=l,l=n,n=i,i=l),this.invertHorizontally&&(e=this.size.width-e-n),this.invertVertically&&(t=this.size.height-t-i),o||this.invertArea&&(l=e,e=t,t=l,l=n,n=i,i=l),a.call(r,e,t,n,i)},Zn.prototype.transformThickness=function(e,t){var n,i=e.left,o=e.right,r=e.top,a=e.bottom;return t&&this.invertArea&&(n=i,i=r,r=n,n=o,o=a,a=n),this.invertHorizontally&&(n=i,i=o,o=n),this.invertVertically&&(n=r,r=a,a=n),t||this.invertArea&&(n=i,i=r,r=n,n=o,o=a,a=n),new _(i,r,o,a)},Kn.prototype.selectPalette=function(e){this.cursor=e%this.paletteLength},Kn.prototype.getPalette=function(e){var t=null;switch(e){case r.ML.Regular:t=this.regularIndex;break;case r.ML.Highlight:t=this.highlightIndex;break;case r.ML.Extra:t=this.cursor}return this.palette[t]},ni.prototype._getLabelPosition=function(e,t,n,i,o,a,l,s){var u=null;switch(s){case r.TK.Top:u=new j(e+n/2-o/2,t-l-a,o,a);break;case r.TK.TopRight:u=new j(e+n-o,t-l-a,o,a);break;case r.TK.TopLeft:u=new j(e,t-l-a,o,a);break;case r.TK.Right:u=new j(e+n+l,t+i/2-a/2,o,a);break;case r.TK.RightTop:u=new j(e+n+l,t,o,a);break;case r.TK.RightBottom:u=new j(e+n+l,t+i-a,o,a);break;case r.TK.BottomRight:u=new j(e+n-o,t+i+l,o,a);break;case r.TK.BottomLeft:u=new j(e,t+i+l,o,a);break;case r.TK.Left:u=new j(e-o-l,t+i/2-a/2,o,a);break;case r.TK.LeftTop:u=new j(e-o-l,t,o,a);break;case r.TK.LeftBottom:u=new j(e-o-l,t+i-a,o,a);break;case r.TK.Auto:case r.TK.Bottom:default:u=new j(e+n/2-o/2,t+i+l,o,a)}return u},ni.prototype._betweenPoint=function(e,t){return new E((e.x+t.x)/2,(e.y+t.y)/2)},ni.prototype._offsetPoint=function(e,t,n){var i=e.distanceTo(t);return 0===i||0===n?new E(e):new E(e.x+(t.x-e.x)/i*n,e.y+(t.y-e.y)/i*n)},ii.prototype=new ni,ii.prototype.draw=function(e){var t=new dn(new sn({lineColor:this.borderColor,lineWidth:this.lineWidth,fillColor:this.fillColor,lineType:this.lineType,opacity:this.opacity}));X(this,e,(function(e){for(var n=0,i=e.length;n<i;n+=1){var o=e[n];0==n?t.addSegment(new un(o.x,o.y)):t.addSegment(new hn(o.x,o.y))}})),t.transform(this.transform,!0),this.graphics.polyline(t)},ui.prototype=new ni,ui.prototype.draw=function(e,t,n,i,o,a,l,s,u,h,c,d,f,p,m){var g,y,v,T,w,b=o/2,k=null,C=r.TK.Auto,O=r.TK.Auto,P=this;if(T=new B(n.centerPoint(),i.centerPoint()),n.loopEdges((function(e,t){return g=e.getIntersectionPoint(T,!0,1),C=t,null!=g})),i.loopEdges((function(e,t){return y=e.getIntersectionPoint(T,!0,1),O=t,null!=y})),null!=g&&null!=y){var x=new B(g,y);f.getOffset(x,(function(n,i,o){var s=(n*a-(i-1)*a/2)*o;switch(x.offset(s),g=x.from,y=x.to,u){case r.GV.TwoWay:(w=new B(y.clone(),g.clone())).offset(b),P._drawLine(e,t,w.from,w.to,!1),(w=new B(g.clone(),y.clone())).offset(b),P._drawLine(e,t,w.from,w.to,!1);break;case r.GV.OneWay:P._drawLine(e,t,g,y,!1);break;case r.GV.BothWay:P._drawLine(e,t,g,y,!0)}if(d){switch(c){case r.xj.From:k=P._getLabelPositionBySnapPoint(g.x,g.y,l.width,l.height,h,C);break;case r.xj.Between:v=P._betweenPoint(g,y),k=P._getLabelPositionBySnapPoint(v.x,v.y,l.width,l.height,h,r.TK.Right);break;case r.xj.To:k=P._getLabelPositionBySnapPoint(y.x,y.y,l.width,l.height,h,O)}null!=p&&p.call(this,k,m)}}))}},ui.prototype._drawLine=function(e,t,n,i,o){var r;e.addInverted((function(o){(r=o.getPolyline(t)).addSegment(new un(n)),r.addSegment(new hn(i)),r.addArrow(t.lineWidth,(function(t){t.mergeTo(e.getPolyline(t.paletteItem))}))}),!1),o&&(r=e.getPolyline(t)).addArrow(t.lineWidth,(function(t){t.mergeTo(e.getPolyline(t.paletteItem))}))},ui.prototype._getLabelPositionBySnapPoint=function(e,t,n,i,o,a){var l=null;switch(a){case r.TK.Auto:case r.TK.Top:l=new j(e-n/2,t-o-i,n,i);break;case r.TK.Right:l=new j(e+o,t-i/2,n,i);break;case r.TK.Bottom:l=new j(e-n/2,t+o,n,i);break;case r.TK.Left:l=new j(e-n-o,t-i/2,n,i)}return l},hi.prototype=new ni,hi.prototype.draw=function(e,t,n,i,o,a,l,s,u,h,c,d,f,p,m){var g,y,v,T,w,b,k,C,O,P,x,S,L,I=r.TK.Auto,A=r.TK.Auto,M=null;switch(S=e.getPolyline(t),C=[],u){case r.GV.TwoWay:C=[-o/2,o/2],L=!1;break;case r.GV.OneWay:C=[0],L=!1;break;case r.GV.BothWay:C=[0],L=!0}if(g=Math.max(d?l.width:0,5*o),n.right()+g<i.left()||n.left()>i.right()+g)if(n.left()>i.right()?(v=new E(n.left(),n.verticalCenter()),T=new E(i.right(),i.verticalCenter())):(v=new E(n.right(),n.verticalCenter()),T=new E(i.left(),i.verticalCenter())),d&&(n.left()>i.right()?(I=r.TK.Left,A=r.TK.Right):(I=r.TK.Right,A=r.TK.Left)),y=new j(v,T),x=v.y<=T.y,P=v.x<T.x,y.height<y.width){for(y.height<2*o&&y.offset(0,x?2*o:0,0,x?0:2*o),b=0,k=C.length;b<k;b+=1)O=C[b],e.addInverted((function(n){var i=n.getPolyline(t);i.addSegment(new un(v.x,v.y+O)),i.addSegment(new cn(y.horizontalCenter(),(x?y.top():y.bottom())+O,T.x,T.y+O)),L&&i.addArrow(t.lineWidth,(function(t){t.mergeTo(e.getPolyline(t.paletteItem))}))}),b||u==r.GV.OneWay),S.addArrow(t.lineWidth,(function(t){t.mergeTo(e.getPolyline(t.paletteItem))}));d&&(M=new j((w=l.width<y.width/5*2?cn.prototype.offsetPoint(v.x,v.y,y.horizontalCenter(),x?y.top():y.bottom(),T.x,T.y,.5):new E(v.x,x?y.top():y.bottom())).x+(P?o:-l.width-o),x?w.y-l.height-o:w.y+o,l.width,l.height))}else{for(b=0,k=C.length;b<k;b+=1)O=C[b],e.addInverted((function(n){var i=n.getPolyline(t);i.addSegment(new un(v.x,v.y+O)),i.addSegment(new cn(y.horizontalCenter()+O*(x!=P?1:-1),(x?y.top():y.bottom())+O,y.horizontalCenter()+O*(x!=P?1:-1),y.verticalCenter()+O)),i.addSegment(new cn(y.horizontalCenter()+O*(x!=P?1:-1),(x?y.bottom():y.top())+O,T.x,T.y+O)),L&&i.addArrow(t.lineWidth,(function(t){t.mergeTo(e.getPolyline(t.paletteItem))}))}),b||u==r.GV.OneWay),S.addArrow(t.lineWidth,(function(t){t.mergeTo(e.getPolyline(t.paletteItem))}));d&&(M=new j(y.horizontalCenter()+(x!=P?o:-(o+l.width)),y.verticalCenter()-l.height/2,l.width,l.height))}else if(n.verticalCenter()<i.top()||n.verticalCenter()>i.bottom()){for(P=n.x<s.width/2,v=new E(P?n.right():n.left(),n.verticalCenter()),T=new E(P?i.right():i.left(),i.verticalCenter()),(y=new j(v,T)).offset(10*o,0,10*o,0),x=v.y<=T.y,b=0,k=C.length;b<k;b+=1)O=C[b],e.addInverted((function(n){var o=n.getPolyline(t);o.addSegment(new un(v.x,v.y+O)),o.addSegment(new cn(P?y.right()+O*(x?-1:1):y.left()-O*(x?-1:1),y.verticalCenter(),P?i.right():i.left(),i.verticalCenter()-O)),L&&o.addArrow(t.lineWidth,(function(t){t.mergeTo(e.getPolyline(t.paletteItem))}))}),b||u==r.GV.OneWay),S.addArrow(t.lineWidth,(function(t){t.mergeTo(e.getPolyline(t.paletteItem))}));d&&(A=I=P?r.TK.Right:r.TK.Left,M=new j((w=cn.prototype.offsetPoint(v.x,v.y,P?y.right():y.left(),y.verticalCenter(),T.x,T.y,.5)).x+(P?o/2:-o/2-l.width),w.y-l.height/2,l.width,l.height))}else{for(v=new E(n.horizontalCenter(),n.top()),T=new E(i.horizontalCenter(),i.top()),(y=new j(v,T)).offset(0,7*o,0,0),P=v.x<T.x,b=0,k=C.length;b<k;b+=1)O=C[b],e.addInverted((function(n){var o=n.getPolyline(t);o.addSegment(new un(v.x+O,v.y)),o.addSegment(new cn(y.horizontalCenter(),y.top()-O*(P?-1:1),i.horizontalCenter()-O,i.top())),L&&o.addArrow(t.lineWidth,(function(t){t.mergeTo(e.getPolyline(t.paletteItem))}))}),b||u==r.GV.OneWay),S.addArrow(t.lineWidth,(function(t){t.mergeTo(e.getPolyline(t.paletteItem))}));d&&(I=r.TK.Top,A=r.TK.Top,M=new j((w=cn.prototype.offsetPoint(v.x,v.y,y.horizontalCenter(),y.top(),T.x,T.y,.5)).x-l.width/2,w.y-(h+l.height),l.width,l.height))}if(d)switch(c){case r.xj.From:M=this._getLabelPosition(n.x,n.y,n.width,n.height,M.width,M.height,h,I);break;case r.xj.To:M=this._getLabelPosition(i.x,i.y,i.width,i.height,M.width,M.height,h,A)}null!=p&&p(M,m)},di.prototype=new ni,di.prototype.draw=function(e,t){var n,i,o,a,l,s,u,h=new E((t=new j(t).offset(this.offset)).x,t.y),c=new E(t.right(),t.y),d=new E(t.right(),t.bottom()),f=[null,null,null,null,null,null,null,null],p=[h,c,d,new E(t.left(),t.bottom())],m=this.m_graphics.getPxSize(this.cornerRadius,Math.min(h.distanceTo(c),c.distanceTo(d)));for(a={},null!==this.fillColor&&(a.fillColor=this.fillColor,a.opacity=this.opacity),null!==this.lineColor&&(a.lineColor=this.borderColor),a.lineWidth=this.lineWidth,a.lineType=this.lineType,l=new sn(a),u=(s=new ri).getPolyline(l),null!==e&&null!==(n=this.pointerPlacement===r.TK.Auto?this._getPlacement(e,h,d):this.pointerPlacement)&&(f[n]=e),o=0;o<p.length;o+=1)this._drawSegment(u,p[0],p[1],p[2],this.pointerWidth,m,f[1],f[2]),i=p.shift(),p.push(i),i=f.shift(),f.push(i),i=f.shift(),f.push(i);this.m_graphics.polylinesBuffer(s)},di.prototype._getPlacement=function(e,t,n){var i=null,o=null;return i=e.x<t.x?0:e.x>n.x?2:1,o=e.y<t.y?0:e.y>n.y?2:1,this.m_map[i][o]},di.prototype._drawSegment=function(e,t,n,i,o,r,a,l){var s,u,h,c=this._offsetPoint(t,n,r),d=this._offsetPoint(n,t,r),f=this._offsetPoint(n,i,r);o=this.m_graphics.getPxSize(o,t.distanceTo(n)/2),0===e.length()&&e.addSegment(new un(c)),null!==a&&(s=this._betweenPoint(t,n),u=this._offsetPoint(s,t,o),h=this._offsetPoint(s,n,o),e.addSegment(new hn(u)),e.addSegment(new hn(a)),e.addSegment(new hn(h))),e.addSegment(new hn(d)),null!==l?(e.addSegment(new hn(l)),e.addSegment(new hn(f))):e.addSegment(new cn(n,f))},fi.Markers={},fi.DrawCircle=function(e,t){var n=Math.min(t.width/2,t.height/2);t=new j(t.horizontalCenter()-n,t.verticalCenter()-n,2*n,2*n),fi.DrawOval(e,t)},fi.DrawRectangle=function(e,t){e.addSegment(new un(t.x,t.verticalCenter())),e.addSegment(new hn(t.x,t.y)),e.addSegment(new hn(t.right(),t.y)),e.addSegment(new hn(t.right(),t.bottom())),e.addSegment(new hn(t.x,t.bottom())),e.addSegment(new hn(t.x,t.verticalCenter()))},fi.DrawOval=function(e,t){var n,i;n=t.width/2*.5522848,i=t.height/2*.5522848,e.addSegment(new un(t.x,t.verticalCenter())),e.addSegment(new fn(t.x,t.verticalCenter()-i,t.horizontalCenter()-n,t.y,t.horizontalCenter(),t.y)),e.addSegment(new fn(t.horizontalCenter()+n,t.y,t.right(),t.verticalCenter()-i,t.right(),t.verticalCenter())),e.addSegment(new fn(t.right(),t.verticalCenter()+i,t.horizontalCenter()+n,t.bottom(),t.horizontalCenter(),t.bottom())),e.addSegment(new fn(t.horizontalCenter()-n,t.bottom(),t.x,t.verticalCenter()+i,t.x,t.verticalCenter()))},fi.DrawTriangle=function(e,t){e.addSegment(new un(t.left(),t.bottom())),e.addSegment(new hn(t.horizontalCenter(),t.y)),e.addSegment(new hn(t.right(),t.bottom())),e.addSegment(new hn(t.left(),t.bottom()))},fi.DrawCrossOut=function(e,t){e.addSegment(new un(t.horizontalCenter(),t.verticalCenter())),e.addSegment(new hn(t.x,t.y)),e.addSegment(new un(t.horizontalCenter(),t.verticalCenter())),e.addSegment(new hn(t.right(),t.bottom())),e.addSegment(new un(t.horizontalCenter(),t.verticalCenter())),e.addSegment(new hn(t.right(),t.y)),e.addSegment(new un(t.horizontalCenter(),t.verticalCenter())),e.addSegment(new hn(t.left(),t.bottom()))},fi.DrawRhombus=function(e,t){e.addSegment(new un(t.horizontalCenter(),t.bottom())),e.addSegment(new hn(t.left(),t.verticalCenter())),e.addSegment(new hn(t.horizontalCenter(),t.y)),e.addSegment(new hn(t.right(),t.verticalCenter())),e.addSegment(new hn(t.horizontalCenter(),t.bottom()))},fi.DrawWedge=function(e,t){e.addSegment(new un(t.horizontalCenter(),t.y)),e.addSegment(new hn(t.right(),t.y)),e.addSegment(new hn(t.horizontalCenter(),t.bottom())),e.addSegment(new hn(t.left(),t.y)),e.addSegment(new hn(t.horizontalCenter(),t.y))},fi.DrawFramedOval=function(e,t){fi.DrawRectangle(e,t),fi.DrawOval(e,t)},fi.DrawFramedTriangle=function(e,t){fi.DrawRectangle(e,t),fi.DrawTriangle(e,t)},fi.DrawFramedWedge=function(e,t){fi.DrawRectangle(e,t),fi.DrawWedge(e,t)},fi.DrawFramedRhombus=function(e,t){fi.DrawRectangle(e,t),fi.DrawRhombus(e,t)},fi.DrawNone=function(e,t){},fi.Markers[r.DY.Circle]=fi.DrawCircle,fi.Markers[r.DY.Rectangle]=fi.DrawRectangle,fi.Markers[r.DY.Oval]=fi.DrawOval,fi.Markers[r.DY.Triangle]=fi.DrawTriangle,fi.Markers[r.DY.CrossOut]=fi.DrawCrossOut,fi.Markers[r.DY.Rhombus]=fi.DrawRhombus,fi.Markers[r.DY.Wedge]=fi.DrawWedge,fi.Markers[r.DY.FramedOval]=fi.DrawFramedOval,fi.Markers[r.DY.FramedTriangle]=fi.DrawFramedTriangle,fi.Markers[r.DY.FramedWedge]=fi.DrawFramedWedge,fi.Markers[r.DY.FramedRhombus]=fi.DrawFramedRhombus,fi.Markers[r.DY.None]=fi.DrawNone,fi.prototype.draw=function(e,t,n,i){var o;o=e.getPolyline(i),fi.Markers[t](o,n)},pi.prototype=new ni,pi.prototype.draw=function(e,t){var n,i,o,a,l;if(e=new j(e).offset(this.offset),this.transform=new Zn,this.transform.size=this.panelSize,this.transform.setOrientation(this.orientationType),this.hasLabel&&(n=this._getLabelPosition(e.x,e.y,e.width,e.height,this.labelSize.width,this.labelSize.height,this.labelOffset,this.labelPlacement)),this.shapeType===r.DY.Rectangle)(i=new di(this.m_graphics)).cornerRadius=this.cornerRadius,i.opacity=this.opacity,i.lineWidth=this.lineWidth,i.lineType=this.lineType,i.borderColor=this.borderColor,i.fillColor=this.fillColor,i.draw(null,e);else o=new sn({lineColor:this.borderColor,lineWidth:this.lineWidth,lineType:this.lineType,fillColor:this.fillColor,opacity:this.opacity}),this.transform.transformRect(e.x,e.y,e.width,e.height,!1,this,(function(t,n,i,o){e=new j(t,n,i,o)})),l=new fi,a=new ri,l.draw(a,this.shapeType,e,o),a.transform(this.transform,!0),this.m_graphics.polylinesBuffer(a);this.hasLabel&&this.m_graphics.template(n.x,n.y,0,0,0,0,n.width,n.height,this.labelTemplate.template(),this.labelTemplate.getHashCode(),this.labelTemplate.render,t,null)},Ci.prototype=new j,Mi.prototype.begin=function(){var e,t,n,i;for(e in this.m_visible)if(this.m_visible.hasOwnProperty(e))for(t in this.m_visible[e])if(this.m_visible[e].hasOwnProperty(t)){for(n=this.m_visible[e][t].length-1;n>=0;n-=1)(i=this.m_visible[e][t][n]).style.visibility="hidden",this.m_invisible[e][t].push(i);this.m_visible[e][t].length=0}},Mi.prototype.end=function(){var e,t,n;for(e in this.m_visible)if(this.m_visible.hasOwnProperty(e))for(t in this.m_visible[e])if(this.m_visible[e].hasOwnProperty(t)&&(n=null,this.m_invisible[e][t].length>this.threshold))for(;void 0!==(n=this.m_invisible[e][t].pop());)n.parentNode.removeChild(n)},Mi.prototype.reset=function(e,t){e=e+"-"+t;var n,i,o=null;for(n in this.m_visible[e])if(this.m_visible[e].hasOwnProperty(n)){for(i=this.m_visible[e][n].length-1;i>=0;i-=1)o=this.m_visible[e][n][i],this.m_invisible[e][n].push(o),o.style.visibility="hidden";this.m_visible[e][n].length=0}},Mi.prototype.clear=function(){var e,t,n;for(e in this.m_visible)if(this.m_visible.hasOwnProperty(e))for(t in this.m_visible[e])if(this.m_visible[e].hasOwnProperty(t)){for(n=null;void 0!==(n=this.m_visible[e][t].pop());)n.parentNode.removeChild(n);for(;void 0!==(n=this.m_invisible[e][t].pop());)n.parentNode.removeChild(n)}},Mi.prototype.get=function(e,t,n){e=e+"-"+t;var i=null;return void 0===this.m_visible[e]&&(this.m_visible[e]={},this.m_invisible[e]={}),void 0===this.m_visible[e][n]&&(this.m_visible[e][n]=[],this.m_invisible[e][n]=[]),null!==(i=this.m_invisible[e][n].pop()||null)&&(this.m_visible[e][n].push(i),i.style.visibility="inherit"),i},Mi.prototype.put=function(e,t,n,i){e=e+"-"+t,this.m_visible[e][n].push(i)},Ei.prototype.clean=function(){var e,t,n,i;for(e in this.m_cache.clear(),this.m_cache=null,this.m_element=null,this.m_placeholders)if(this.m_placeholders.hasOwnProperty(e)){for(n in(t=this.m_placeholders[e]).layers)t.layers.hasOwnProperty(n)&&((i=t.layers[n]).canvas.parentNode.removeChild(i.canvas),i.canvas=null);t.layers.length=0,t.activeLayer=null,t.size=null,t.rect=null,t.div=null}this.m_placeholders.length=0,this.m_activePlaceholder=null},Ei.prototype.resize=function(e,t,n){var i=this.m_placeholders[e];void 0===i&&(i=this._activatePlaceholder(e)),this.resizePlaceholder(i,0,0,t,n)},Ei.prototype.position=function(e,t,n,i,o){var r=this.m_placeholders[e];void 0===r&&(r=this._activatePlaceholder(e)),this.resizePlaceholder(r,t,n,i,o)},Ei.prototype.show=function(e){var t=this.m_placeholders[e];null!=t&&R.applyStyles(t.div,{display:"inherit",visibility:"inherit"})},Ei.prototype.hide=function(e){var t=this.m_placeholders[e];null!=t&&R.applyStyles(t.div,{display:"none",visibility:"hidden"})},Ei.prototype.resizePlaceholder=function(e,t,n,i,o){var r,a;for(r in e.size=new P.Z(i,o),e.rect=new j(t,n,i,o),R.applyStyles(e.div,e.rect.getCSS()),e.layers)e.layers.hasOwnProperty(r)&&-1!==(a=e.layers[r]).name&&R.applyStyles(a.canvas,{position:"absolute",width:"0px",height:"0px"})},Ei.prototype.begin=function(){this.m_cache.begin()},Ei.prototype.end=function(){this.m_cache.end()},Ei.prototype.reset=function(e,t){var n="none",i=-1;switch(arguments.length){case 1:"string"==typeof e?n=e:i=e;break;case 2:n=e,i=t}this.m_cache.reset(n,i)},Ei.prototype.activate=function(e,t){switch(arguments.length){case 1:"string"==typeof e?(this._activatePlaceholder(e),this._activateLayer(-1)):(this._activatePlaceholder("none"),this._activateLayer(e));break;case 2:this._activatePlaceholder(e),this._activateLayer(t)}return this.m_activePlaceholder},Ei.prototype._activatePlaceholder=function(e){var t,n,i=this.m_placeholders[e];return void 0===i&&(t=null,t="none"===e?this.m_element:(n=this.m_element.getElementsByClassName(e)).length>0?n[0]:this.m_element,(i=new zi(e)).div=t,i.size=M(t),i.rect=new j(0,0,i.size.width,i.size.height),this.m_placeholders[e]=i),this.m_activePlaceholder=i,this.m_activePlaceholder},Ei.prototype._activateLayer=function(e){var t,n,i,o,r=this.m_activePlaceholder.layers[e];if(void 0===r){if(t=this.m_activePlaceholder,-1===e)(r=new Ri(e)).canvas=t.div;else{for(o in n=R.toHTML(["div",{style:{position:"absolute",width:"0px",height:"0px"},class:["Layer"+e,"Layer"+this.layerNames[e]]}]),i=null,t.layers)t.layers.hasOwnProperty(o)&&(r=t.layers[o]).name<e&&(i=null!==i?Math.max(i,r.name):r.name);(r=new Ri(e)).canvas=n,null===i?this.prepend(t.div,r.canvas):this.insertAfter(t.layers[i].canvas,r.canvas)}t.layers[e]=r}this.m_activePlaceholder.activeLayer=r},Ei.prototype.prepend=function(e,t){null==e.firstChild?e.appendChild(t):e.insertBefore(t,e.firstChild)},Ei.prototype.insertAfter=function(e,t){var n=e.parentNode;n.lastChild==e?n.appendChild(t):n.insertBefore(t,e.nextSibling)},Ei.prototype.text=function(e,t,n,i,o,a,l,s,u){var h,c,d=this.m_activePlaceholder,f={position:"absolute",padding:0,margin:0,textAlign:Ee(l),fontSize:u.fontSize,fontFamily:u.fontFamily,fontWeight:u.fontWeight,fontStyle:u.fontStyle,color:u.fontColor,lineHeight:1},p="";switch(a){case r.GE.Horizontal:case r.GE.Auto:f.left=e+"px",f.top=t+"px",f.width=n+"px",f.height=i+"px";break;case r.GE.RotateLeft:f.left=e+Math.round(n/2-i/2)+"px",f.top=t+Math.round(i/2-n/2)+"px",f.width=i+"px",f.height=n+"px",p="rotate(-90deg)";break;case r.GE.RotateRight:f.left=e+Math.round(n/2-i/2)+"px",f.top=t+Math.round(i/2-n/2)+"px",f.width=i+"px",f.height=n+"px",p="rotate(90deg)"}if(f["-webkit-transform-origin"]="center center",f["-moz-transform-origin"]="center center",f["-o-transform-origin"]="center center",f["-ms-transform-origin"]="center center",f["-webkit-transform"]=p,f["-moz-transform"]=p,f["-o-transform"]=p,f["-ms-transform"]=p,f.transform=p,f.maxWidth=f.width,f.maxHeight=f.height,o=o.replace(new RegExp("\n","g"),"<br/>"),s===r.Vn.Top)this.debug&&(f.border="solid 1px black"),null===(h=this.m_cache.get(d.name,d.activeLayer.name,"text"))?(h=R.toHTML(["div",{style:f,$:function(e){e.innerHTML=o}}]),d.activeLayer.canvas.appendChild(h),this.m_cache.put(d.name,d.activeLayer.name,"text",h)):(R.applyStyles(h,f),h.innerHTML=o);else if(f.borderCollapse="collapse",c={verticalAlign:Fe(s),padding:0},this.debug&&(c.border="solid 1px black"),null===(h=this.m_cache.get(d.name,d.activeLayer.name,"textintable")))h=R.toHTML(["table",{style:f},["tbody",["tr",["td",{style:c,$:function(e){e.innerHTML=o}}]]]]),d.activeLayer.canvas.appendChild(h),this.m_cache.put(d.name,d.activeLayer.name,"textintable",h);else{R.applyStyles(h,f);var m=h.getElementsByTagName("td")[0];R.applyStyles(m,c),m.innerHTML=o}},Ei.prototype.polylinesBuffer=function(e){e.loop(this,(function(e){e.length()>0&&this.polyline(e)}))},Ei.prototype.template=function(e,t,n,i,o,a,l,s,u,h,c,d,m){var g,y,v=this.m_activePlaceholder,T="template"+(null!==h?h:p(u)),w=0;return g=this.m_cache.get(v.name,v.activeLayer.name,T),null!==m&&void 0!==m.borderWidth&&(m.borderWidth=m.borderWidth.toString(),w=this.getPxSize(m.borderWidth)),f(y={width:l-w+"px",height:s-w+"px",top:t+a+"px",left:e+o+"px"},m),null==d&&(d=new li),d.x=e+o,d.y=t+a,d.width=l-w,d.height=s-w,null==g?(g=this.getElementByTemplate(u),y=f(y,{position:"absolute",padding:"0px",margin:"0px"},m),R.applyStyles(g,y),d.element=g,d.renderingMode=r.sO.Create,null!==c&&c(null,d),v.activeLayer.canvas.appendChild(g),this.m_cache.put(v.name,v.activeLayer.name,T,g)):(d.element=g,d.renderingMode=r.sO.Update,R.applyStyles(g,y),null!==c&&c(null,d)),g},Ei.prototype.getElementByTemplate=function(e){var t=null;if(Array.isArray(e))t=R.toHTML(e);else{var n=document.createElement("div");n.innerHTML=e,t=n.firstChild}return t},Ei.prototype.getPxSize=function(e,t){var n=e;return"string"==typeof e&&(n=e.indexOf("pt")>0?96*parseInt(e,10)/72:e.indexOf("%")>0?parseFloat(e)/100*t:parseInt(e,10)),n},Fi.prototype.setAttribute=function(e,t){this.attr[e]=t},Fi.prototype.appendChild=function(e){this.children[this.children.length]=e},Fi.prototype.create=function(e){var t,n,i,o=null;for(t in o=null!==this.ns?document.createElementNS(this.ns,this.name):document.createElement(this.name),this.attr)this.attr.hasOwnProperty(t)&&(void 0!==e?o[t]=this.attr[t]:o.setAttribute(t,this.attr[t]));for(t in this.style)this.style.hasOwnProperty(t)&&(o.style[t]=this.style[t]);for(i=0;i<this.children.length;i+=1)"string"==typeof(n=this.children[i])?o.appendChild(document.createTextNode(n)):o.appendChild(n.create(e));return o},Fi.prototype.update=function(e,t){var n,i,o,r,a;for(n in this.style)this.style.hasOwnProperty(n)&&(a=this.style[n],e.style[n]!==a&&(e.style[n]=a));for(n in this.attr)this.attr.hasOwnProperty(n)&&(a=this.attr[n],void 0!==t?e[n]!==a&&(e[n]=a):e.getAttribute(n)!==a&&e.setAttribute(n,a));for(i=this.children.length,o=0;o<i;o+=1)"string"==typeof(r=this.children[o])?e.innerHtml!==r&&(e.innerHtml=r):this.children[o].update(e.children[o],t)},Bi.prototype=new Ei,Bi.prototype.clean=function(){var e,t,n,i;for(e in this.m_placeholders)if(this.m_placeholders.hasOwnProperty(e))for(n in(t=this.m_placeholders[e]).layers)t.layers.hasOwnProperty(n)&&null!==(i=t.layers[n]).svgcanvas&&(i.svgcanvas.parentNode.removeChild(i.svgcanvas),i.svgcanvas=null);this.parent.clean.apply(this,arguments)},Bi.prototype.resizePlaceholder=function(e,t,n,i,o){var r,a;for(r in this.parent.resizePlaceholder.apply(this,arguments),e.layers)e.layers.hasOwnProperty(r)&&null!==(a=e.layers[r]).svgcanvas&&(R.applyStyles(a.svgcanvas,{position:"absolute",width:i+"px",height:o+"px"}),a.svgcanvas.setAttribute("viewBox","0 0 "+i+" "+o))},Bi.prototype._getCanvas=function(){var e=this.m_activePlaceholder,t=e.activeLayer,n=e.rect;return null===t.svgcanvas&&(t.svgcanvas=document.createElementNS(this._svgxmlns,"svg"),t.svgcanvas.setAttribute("viewBox",n.x+" "+n.y+" "+n.width+" "+n.height),R.applyStyles(t.svgcanvas,{width:n.width+"px",height:n.height+"px"}),this.prepend(e.activeLayer.canvas,t.svgcanvas)),t.svgcanvas},Bi.prototype.polyline=function(e){var t,n,i,o,a,l,s=this.m_activePlaceholder,u=e.paletteItem.toAttr();if(t=new Fi(this._svgxmlns,"path"),void 0!==u.fillColor?(t.setAttribute("fill",u.fillColor),t.setAttribute("fill-opacity",u.opacity)):t.setAttribute("fill-opacity",0),void 0!==u.lineWidth&&void 0!==u.borderColor?(t.setAttribute("stroke",u.borderColor),t.setAttribute("stroke-width",u.lineWidth),void 0!==u.opacity?t.setAttribute("stroke-opacity",u.opacity):t.setAttribute("stroke-opacity",1)):(t.setAttribute("stroke","transparent"),t.setAttribute("stroke-width",0)),null!=u.lineType)switch(o=Math.round(u.lineWidth)||1,u.lineType){case r.SP.Solid:t.setAttribute("stroke-dasharray","");break;case r.SP.Dotted:t.setAttribute("stroke-dasharray",o+","+o);break;case r.SP.Dashed:t.setAttribute("stroke-dasharray",5*o+","+3*o)}n="",e.loop(this,(function(e){switch(e.segmentType){case r.vZ.Move:n+="M"+(Math.round(e.x)+.5)+" "+(Math.round(e.y)+.5);break;case r.vZ.Line:n+="L"+(Math.round(e.x)+.5)+" "+(Math.round(e.y)+.5);break;case r.vZ.QuadraticArc:n+="Q"+(Math.round(e.cpX)+.5)+" "+(Math.round(e.cpY)+.5)+" "+(Math.round(e.x)+.5)+" "+(Math.round(e.y)+.5);break;case r.vZ.Dot:e.width==e.height&&e.width/2<=e.cornerRadius?(a=e.width/2,n+="M"+(Math.round(e.x)+.5)+" "+(Math.round(e.y)+e.height/2+.5),n+="A"+a+" "+a+" 0 0 0 "+(Math.round(e.x+e.width)+.5)+" "+(Math.round(e.y)+e.height/2+.5),n+="A"+a+" "+a+" 0 0 0 "+(Math.round(e.x)+.5)+" "+(Math.round(e.y)+e.height/2+.5)):0===e.cornerRadius?(n+="M"+(Math.round(e.x)+.5)+" "+(Math.round(e.y)+.5),n+="L"+(Math.round(e.x+e.width)+.5)+" "+(Math.round(e.y)+.5),n+="L"+(Math.round(e.x+e.width)+.5)+" "+(Math.round(e.y+e.height)+.5),n+="L"+(Math.round(e.x)+.5)+" "+(Math.round(e.y+e.height)+.5),n+="L"+(Math.round(e.x)+.5)+" "+(Math.round(e.y)+.5)):(l=Math.min(e.cornerRadius,Math.min(e.width/2,e.height/2)),n+="M"+(Math.round(e.x)+.5)+" "+(Math.round(e.y+l)+.5),n+="A"+Math.round(l)+" "+Math.round(l)+" 0 0 1 "+(Math.round(e.x+l)+.5)+" "+(Math.round(e.y)+.5),n+="L"+(Math.round(e.x+e.width-l)+.5)+" "+(Math.round(e.y)+.5),n+="A"+Math.round(l)+" "+Math.round(l)+" 0 0 1 "+(Math.round(e.x+e.width)+.5)+" "+(Math.round(e.y+l)+.5),n+="L"+(Math.round(e.x+e.width)+.5)+" "+(Math.round(e.y+e.height-l)+.5),n+="A"+Math.round(l)+" "+Math.round(l)+" 0 0 1 "+(Math.round(e.x+e.width-l)+.5)+" "+(Math.round(e.y+e.height)+.5),n+="L"+(Math.round(e.x+l)+.5)+" "+(Math.round(e.y+e.height)+.5),n+="A"+Math.round(l)+" "+Math.round(l)+" 0 0 1 "+(Math.round(e.x)+.5)+" "+(Math.round(e.y+e.height-l)+.5),n+="L"+(Math.round(e.x)+.5)+" "+(Math.round(e.y+l)+.5));break;case r.vZ.CubicArc:n+="C"+(Math.round(e.cpX1)+.5)+" "+(Math.round(e.cpY1)+.5)+" "+(Math.round(e.cpX2)+.5)+" "+(Math.round(e.cpY2)+.5)+" "+(Math.round(e.x)+.5)+" "+(Math.round(e.y)+.5)}})),t.setAttribute("d",n),null===(i=this.m_cache.get(s.name,s.activeLayer.name,"path"))?(i=t.create(),this._getCanvas().appendChild(i),this.m_cache.put(s.name,s.activeLayer.name,"path",i)):t.update(i)},Ui.prototype.getUserDefinedPositions=function(e){var t,n,i,o=$(),a={};for(n=0,i=e.length;n<i;n+=1)null!=(t=e[n]).relativeItem&&(a[t.relativeItem]=!0),null!=t.id&&(a[t.id]=!0);for(n=0,i=e.length;n<i;n+=1)if(t=e[n],a.hasOwnProperty(t.id)){var l=t.relativeItem||null;o.add(l,t.id,t)}function s(e,t){this.position=e,this.items=t}var u={},h={},c={};o.loopPostOrder(this,(function(e,t,n,i){var o,a=[],l=h[e],d=c[e];if(null!=l)for(l.sort((function(e,t){return t.position-e.position})),o=0;o<l.length;o+=1)a=a.concat(l[o].items);if(a.push(e),null!=d)for(d.sort((function(e,t){return e.position-t.position})),o=0;o<d.length;o+=1)a=a.concat(d[o].items);null!=n?t.placementType==r.hZ.Left?(h.hasOwnProperty(n)||(h[n]=[]),h[n].push(new s(t.position,a))):(c.hasOwnProperty(n)||(c[n]=[]),c[n].push(new s(t.position,a))):u[e]=a}));var d={},f={};for(var p in u)if(u.hasOwnProperty(p))for(e=u[p],n=0;n<e.length;n+=1){var m=e[n];d[m]=n,f[m]=p}return{position:d,group:f}},oo.prototype.getNear=function(e){return this.values[this[e]]},oo.prototype.getFar=function(e){return this.values[Math.abs(this[e]-1)]},oo.prototype.setNear=function(e,t){this.values[this[e]]=t},oo.prototype.setFar=function(e,t){this.values[Math.abs(this[e]-1)]=t},oo.prototype.toString=function(){return this.parent+","+this.child},so.prototype.validate=function(e,t){if(!e.validate())throw"Family structure failed to pass validation!";e.loop(this,(function(n,i){e.loopChildren(this,n,(function(n,o,r){if(null===o.level||null===i.level||(t?o.level!=i.level+1:o.level<=i.level))throw"Family tree is broken. Children/Parents or levels mismatch!";return e.SKIP}))}))},uo.prototype=new pn,uo.prototype.trace=function(e,t,n){this.isChildren?this.traceChildrenLayout(e,t,n):this.traceParentsLayout(e,t,n)},uo.prototype.traceChildrenLayout=function(e,t,n){for(var i,o=[],a=0;a<this.blocksCount;a+=1){for(var l=null,s=this.rowsCount-1;s>=0;s-=1){var u=this.getNodeIndex(a,s,!0,!0),h=null,c=null;u<this.len&&(h=this.items[u],c=t.treeItemsPositions[h]);var d=this.getNodeIndex(a,s,!1,!0),f=null,p=null;d<this.len&&(f=this.items[d],p=t.treeItemsPositions[f]);var m=null;null==m&&null!=c&&(m=new this.ConnectorDestination({id:this.getId(e),x:c.actualPosition.horizontalCenter()+c.rightMedianOffset,y:c.horizontalConnectorsShift})),null==m&&null!=p&&(m=new this.ConnectorDestination({id:this.getId(e),x:p.actualPosition.horizontalCenter()-p.leftMedianOffset,y:p.horizontalConnectorsShift})),null!=c&&(i=c.actualPosition,t.transform.transformPoints(i.right(),m.y,m.x,m.y,!0,this,(function(n,i,o,r){var a=new dn;a.addSegment(new un(n,i)),a.addSegment(new hn(o,r)),h=t.nestedLayoutParentConnectorIds[h]||h,e.graph.addEdge(h,m.id,new this.ConnectorEdge(h,m.id,a,null,h,null,10,null,null,null,!0))}))),null!=p&&(i=p.actualPosition,t.transform.transformPoints(i.left(),m.y,m.x,m.y,!0,this,(function(n,i,o,r){var a=new dn;a.addSegment(new un(n,i)),a.addSegment(new hn(o,r)),f=t.nestedLayoutParentConnectorIds[f]||f,e.graph.addEdge(f,m.id,new this.ConnectorEdge(f,m.id,a,null,f,null,10,null,null,null,!0))}))),null!=l&&null!=m&&t.transform.transformPoints(l.x,l.y,m.x,m.y,!0,this,(function(t,n,i,o){var r=new dn;r.addSegment(new un(t,n)),r.addSegment(new hn(i,o)),e.graph.addEdge(l.id,m.id,new this.ConnectorEdge(l.id,m.id,r,null,null,null,0))})),null!=m&&(l=m)}null!=l&&o.push(new this.ConnectorDestination({id:l.id,bundleid:this.getId(e),x:l.x,y:l.y,isSquared:!0,visibility:r.EE.Invisible}))}i=t.treeItemsPositions[this.matrixNodeId].actualPosition;var g=new this.ConnectorDestination({id:this.matrixNodeId,x:i.horizontalCenter(),y:i.top()});this.traceFork(e,t,n,g,o,!0,!1,0,n.showExtraArrows)},uo.prototype.traceParentsLayout=function(e,t,n){for(var i,o=[],a=0;a<=this.blocksCount;a+=1){for(var l=null,s=0;s<this.rowsCount;s+=1){var u=this.getNodeIndex(a,s,!0,!1),h=null,c=null;u<this.len&&(h=this.items[u],c=t.treeItemsPositions[h]);var d=this.getNodeIndex(a,s,!1,!1),f=null,p=null;d<this.len&&(f=this.items[d],p=t.treeItemsPositions[f]);var m=null;null==m&&null!=c&&(m=new this.ConnectorDestination({id:this.getId(e),x:c.actualPosition.horizontalCenter()+c.rightMedianOffset,y:c.horizontalConnectorsShift})),null==m&&null!=p&&(m=new this.ConnectorDestination({id:this.getId(e),x:p.actualPosition.horizontalCenter()-p.leftMedianOffset,y:p.horizontalConnectorsShift})),null!=c&&(i=c.actualPosition,t.transform.transformPoints(i.right(),m.y,m.x,m.y,!0,this,(function(n,i,o,r){var a=new dn;a.addSegment(new un(n,i)),a.addSegment(new hn(o,r)),h=t.nestedLayoutBottomConnectorIds[h]||h,e.graph.addEdge(h,m.id,new this.ConnectorEdge(h,m.id,a,h,null,null,10,null,null,null,!0))}))),null!=p&&(i=p.actualPosition,t.transform.transformPoints(i.left(),m.y,m.x,m.y,!0,this,(function(n,i,o,r){var a=new dn;a.addSegment(new un(n,i)),a.addSegment(new hn(o,r)),f=t.nestedLayoutBottomConnectorIds[f]||f,e.graph.addEdge(f,m.id,new this.ConnectorEdge(f,m.id,a,f,null,null,10,null,null,null,!0))}))),null!=l&&null!=m&&t.transform.transformPoints(l.x,l.y,m.x,m.y,!0,this,(function(t,n,i,o){var r=new dn;r.addSegment(new un(t,n)),r.addSegment(new hn(i,o)),e.graph.addEdge(l.id,m.id,new this.ConnectorEdge(l.id,m.id,r,null,null,null,0,null,null,null,!0))})),null!=m&&(l=m)}null!=l&&o.push(new this.ConnectorDestination({id:l.id,bundleid:this.getId(e),x:l.x,y:l.y,isSquared:!0,visibility:r.EE.Invisible}))}i=t.treeItemsPositions[this.matrixNodeId].actualPosition;var g=new this.ConnectorDestination({id:this.connectionId,x:i.horizontalCenter(),y:i.bottom()});this.traceFork(e,t,n,g,o,!0,!0,0,n.showExtraArrows)},uo.prototype.getNodeIndex=function(e,t,n,i){var o,r=null;return i?(o=2*e+(n?0:1),this.matrixWidth>o&&(r=t*this.matrixWidth+o)):(o=2*e+(n?-1:0))>=0&&o<this.matrixWidth&&(r=t*this.matrixWidth+o),r},fo.prototype.loop=function(e,t){if(null!=t)for(var n=0,i=this.items.length;n<i;n+=1){var o=this.items[n];t.call(e,o,0)}},fo.prototype.Column=function(){this.depth=0,this.offset=0,this.leftPadding=0,this.rightPadding=0,this.layoutDirection=r.hZ.Left},fo.prototype.Row=function(){this.depth=0,this.offset=0,this.horizontalConnectorsDepth=0,this.minimalDepth=null,this.dotsDepth=null},fo.prototype.getMatrixWidth=function(e,t){return Math.min(e,Math.ceil(Math.sqrt(t)))},fo.prototype.measure=function(e,t,n,i,o,a){var l={columns:[],rows:[]};this.measureColumns(l,this.items,o,a),this.measureRows(l,this.items,o,a),this.data=l;var s=new wn;return s.actualVisibility=r.EE.Normal,s.actualSize=this.getLayoutSize(l),s},fo.prototype.measureColumns=function(e,t,n,i){var o,a,l,s=this.getMatrixWidth(i.maximumColumnsInMatrix,t.length);for(a=0,l=t.length;a<l;a+=1){var u=n[t[a].id],h=i.intervals[u.actualVisibility]/2,c=a%s;null==(o=e.columns[c])&&((o=new this.Column).layoutDirection=c%2?r.hZ.Right:r.hZ.Left,e.columns[c]=o);var d=h+u.actualSize.width+h;o.depth=Math.max(o.depth,d)}var f=8*i.linesWidth,p=0;for(a=0,l=e.columns.length;a<l;a+=1){if(o=e.columns[a],a%2==0)switch(i.arrowsDirection){case r.zX.Parents:o.leftPadding=this.hideChildrenConnection?0:f,o.rightPadding=0;break;case r.zX.Children:o.leftPadding=0,o.rightPadding=this.hideParentConnection?0:f}else switch(i.arrowsDirection){case r.zX.Parents:o.leftPadding=0,o.rightPadding=this.hideChildrenConnection?0:f;break;case r.zX.Children:o.leftPadding=this.hideParentConnection?0:f,o.rightPadding=0}o.offset=p+o.leftPadding+o.depth/2,p=o.offset+o.depth/2+o.rightPadding}},fo.prototype.measureRows=function(e,t,n,i){var o,a,l,s=this.getMatrixWidth(i.maximumColumnsInMatrix,t.length);for(o=0,a=t.length;o<a;o+=1){var u=n[t[o].id],h=Math.floor(o/s),c=i.shifts[u.actualVisibility]/2;switch(null==(l=e.rows[h])&&(l=new this.Row,e.rows[h]=l),l.depth=Math.max(l.depth,c+u.actualSize.height+c),u.actualVisibility){case r.EE.Dot:case r.EE.Line:case r.EE.Invisible:l.dotsDepth=l.dotsDepth?Math.min(l.dotsDepth,u.actualSize.height):u.actualSize.height;break;default:l.minimalDepth=l.minimalDepth?Math.min(l.minimalDepth,u.actualSize.height):u.actualSize.height}}var d=0;for(o=0,a=e.rows.length;o<a;o+=1)switch((l=e.rows[o]).offset=d+l.depth/2,d=l.offset+l.depth/2,null==l.minimalDepth&&(l.minimalDepth=l.depth),null!=l.dotsDepth&&l.dotsDepth>l.minimalDepth&&(l.minimalDepth=l.dotsDepth),i.verticalAlignment){case r.Vn.Top:l.horizontalConnectorsDepth=l.minimalDepth/2;break;case r.Vn.Middle:l.horizontalConnectorsDepth=l.depth/2;break;case r.Vn.Bottom:l.horizontalConnectorsDepth=l.depth-l.minimalDepth/2}},fo.prototype.getLayoutSize=function(e){return new j(0,0,Math.round(this.getLayoutWidth(e)),Math.round(this.getLayoutHeight(e)))},fo.prototype.getLayoutWidth=function(e){var t=0,n=e.columns.length;if(n>0){var i=e.columns[n-1];t=i.offset+i.depth/2+i.rightPadding}return t},fo.prototype.getLayoutHeight=function(e){var t=0,n=e.rows.length;if(n>0){var i=e.rows[n-1];t=i.offset+i.depth/2}return t},fo.prototype.arrange=function(e,t,n,i,o,r){if(null!=r)for(var a=this.getMatrixWidth(o.maximumColumnsInMatrix,this.items.length),l=0,s=this.items.length;l<s;l+=1){var u=this.items[l].id,h=l%a,c=this.data.columns[h],d=Math.floor(l/a),f=this.data.rows[d],p=i[u],m=this.getItemPosition(p.actualVisibility,c,f,p.actualSize,o.verticalAlignment);m.translate(t.x,t.y),p=co(co({},p),{},{actualPosition:m,horizontalConnectorsShift:t.y+f.offset-f.depth/2+f.horizontalConnectorsDepth,leftMedianOffset:c.depth/2+c.leftPadding,rightMedianOffset:c.depth/2+c.rightPadding,topConnectorShift:f.depth/2,bottomConnectorShift:f.depth/2}),r.call(e,u,p,c.layoutDirection)}},fo.prototype.getItemPosition=function(e,t,n,i,o){var a=0;switch(e){case r.EE.Normal:switch(o){case r.Vn.Top:a=0;break;case r.Vn.Middle:a=(n.depth-i.height)/2;break;case r.Vn.Bottom:a=n.depth-i.height}break;case r.EE.Dot:case r.EE.Line:case r.EE.Invisible:a=n.horizontalConnectorsDepth-i.height/2}return new j(t.offset-i.width/2,n.offset-n.depth/2+a,i.width,i.height)},go.prototype.loop=function(e,t){if(null!=t)for(var n=0,i=this.items.length;n<i;n+=1){var o=this.items[n];t.call(e,o,0)}},go.prototype.Column=function(){this.depth=0,this.offset=0,this.parentsPadding=0,this.childrenPadding=0},go.prototype.Row=function(){this.depth=0,this.offset=0,this.minimalDepth=null,this.dotsDepth=null},go.prototype.measure=function(e,t,n,i,o,a){var l={columns:[],row:null};this.measureColumns(l,this.items,o,a),this.measureRow(l,this.items,o,a),this.data=l;var s=new wn;return s.actualVisibility=r.EE.Normal,s.actualSize=this.getLayoutSize(l),s},go.prototype.measureColumns=function(e,t,n,i){for(var o,a=0,l=8*i.linesWidth,s=0;s<t.length;s+=1){var u=n[t[s].id];null==(o=e.columns[s])&&(o=new this.Column,e.columns[s]=o),o.depth=u.actualSize.width;var h=i.intervals[u.actualVisibility]/2;switch(0!=s&&(o.parentsPadding=h),s!=t.length-1&&(o.childrenPadding=h),i.arrowsDirection){case r.zX.Parents:s!=t.length-1&&(o.childrenPadding+=this.hideChildrenConnection?0:l);break;case r.zX.Children:0!=s&&(o.parentsPadding+=this.hideParentConnection?0:l)}o.offset=a+o.parentsPadding+o.depth/2,a=o.offset+o.depth/2+o.childrenPadding}},go.prototype.measureRow=function(e,t,n,i){e.row=new this.Row;for(var o=e.row,a=0;a<t.length;a+=1){var l=n[t[a].id],s=i.shifts[l.actualVisibility]/2;switch(o.depth=Math.max(o.depth,s+l.actualSize.height+s),l.actualVisibility){case r.EE.Dot:case r.EE.Line:case r.EE.Invisible:o.dotsDepth=o.dotsDepth?Math.min(o.dotsDepth,l.actualSize.height):l.actualSize.height;break;default:o.minimalDepth=o.minimalDepth?Math.min(o.minimalDepth,l.actualSize.height):l.actualSize.height}}o.offset=o.depth/2,null==o.minimalDepth&&(o.minimalDepth=o.depth),null!=o.dotsDepth&&o.dotsDepth>o.minimalDepth&&(o.minimalDepth=o.dotsDepth)},go.prototype.getLayoutSize=function(e){var t=0,n=e.columns.length;if(n>0){var i=e.columns[n-1];t=i.offset+i.depth/2+i.childrenPadding}var o=e.row.offset+e.row.depth/2;return new j(0,0,Math.round(t),Math.round(o))},go.prototype.arrange=function(e,t,n,i,o,a){if(null!=a)for(var l=0;l<this.items.length;l+=1){var s=this.items[l].id,u=this.data.columns[l],h=this.data.row,c=i[s],d=u.offset;n==r.hZ.Left&&(d=t.width-u.offset);var f=this.getItemPosition(c.actualVisibility,d,h,c.actualSize,o);f.translate(t.x,t.y),c=mo(mo({},c),{},{actualPosition:f,horizontalConnectorsShift:t.y+h.offset-h.depth/2+h.offset,leftMedianOffset:u.depth/2+(n==r.hZ.Left?u.childrenPadding:u.parentsPadding),rightMedianOffset:u.depth/2+(n==r.hZ.Left?u.parentsPadding:u.childrenPadding),topConnectorShift:h.depth/2,bottomConnectorShift:h.depth/2}),a.call(e,s,c)}},go.prototype.getItemPosition=function(e,t,n,i,o){return new j(t-i.width/2,n.offset-i.height/2,i.width,i.height)},yo.prototype=new so,yo.prototype.extract=function(e,t,n,i){var o={},r={},a={},l=[];return n.hasNodes()>0&&e.enableMatrixLayout&&n.groupBy(this,Math.max(2,e.minimumMatrixSize),(function(t,s,u){for(var h=[],c=0;c<u.length;c+=1){var d=u[c];if(1==d.length)h.push(d[0].node);else{var f=i+=1,p=i+=1,m=new Qi({id:f,isVisible:!1,isActive:!1,itemConfig:{title:"dummy #"+f,description:"This is item used as aggregator of horizontally grouped nodes."},hideParentConnection:!0,hideChildrenConnection:!0});r[f]=d[0].id,a[f]=d[d.length-1].id;for(var g=0;g<d.length-1;g+=1){var y=d[g],v=d[g+1];l.push(new gn(v.id,y.id))}for(g=0;g<d.length;g+=1){var T=d[g];n.removeNode(T.id)}var w=h.map((function(e){return e.id}));if(t.length>0?(n.add(t,f,m),m.hideParentConnection=!1):n.add(null,f,m),s.length>0){for(g=0;g<s.length;g+=1)n.adopt([f],s[g]);m.hideChildrenConnection=!1}o[f]=new go(d.map((function(e){return e.node})),m.hideParentConnection,m.hideChildrenConnection),h.push(m)}}f=i+=1,p=i+=1;var b=new Qi({id:f,isVisible:!1,isActive:!1,itemConfig:{title:"dummy #"+f,description:"This is item used as aggregator of matrixed nodes."},hideParentConnection:!0,hideChildrenConnection:!0});a[f]=p;g=0;for(var k=h.length;g<k;g+=1){T=h[g];n.removeNode(T.id)}w=h.map((function(e){return e.id}));if(t.length>0?(n.add(t,f,b),b.hideParentConnection=!1,l.push(new uo(!0,w,f,f,this.getMatrixWidth(e.maximumColumnsInMatrix,w.length)))):n.add(null,f,b),s.length>0){for(g=0;g<s.length;g+=1)n.adopt([f],s[g]);b.hideChildrenConnection=!1,l.push(new uo(!1,w,f,p,this.getMatrixWidth(e.maximumColumnsInMatrix,w.length)))}o[f]=new fo(h,b.hideParentConnection,b.hideChildrenConnection)}),(function(e){for(var n=null,i=0,o=0;o<e.length;o+=1){var r=e[o],a=t(r.id);if(null!=a){if(i>0){n=-1;break}if(i++,!a.addToMatrix){n=-1;break}n=a.matrixId}}return 0==i&&(n=-1),n})),{maximumId:i,nestedLayoutParentConnectorIds:r,nestedLayoutBottomConnectorIds:a,layouts:o,bundles:l}},yo.prototype.getMatrixWidth=function(e,t){return Math.min(e,Math.ceil(Math.sqrt(t)))},To.prototype=new so,To.prototype.normalize=function(e,t,n){if(t.hasNodes()>0){var i=[];t.loop(this,(function(e,t){t.isLevelNeutral&&i.push(e)}));var o=t;if(i.length>0){o=t.clone();for(var a=0;a<i.length;a+=1){var l=i[a],s=[];o.loopParents(this,l,(function(e,t,n){if(0!=n)return!0;s.push(e)}));var u=[];if(s.length>0&&o.loopChildren(this,l,(function(e,t,n){if(0!=n)return!0;u.push(e)})),o.removeNode(l),u.length>0)for(var h=0;h<u.length;h+=1){var c=u[h];o.adopt(s,c)}}}o.loopLevels(this,e.groupByType==r.zX.Parents,(function(e,t,n){t.level=n})),e.alignBylevels?this.resortItemsBylevels(t):t.loopLevels(this,e.groupByType==r.zX.Parents,(function(e,t,n){t.level=n})),this.debug&&this.validate(t,!1),this.fillInItems(t,(function(e){return new Qi({id:n+=1,levelGravity:r.zX.Children,isVisible:!1,isActive:!1,itemConfig:{title:"extension #"+n,description:"This is item used to fill gaps in levels."}})})),this.debug&&this.validate(t,!0)}return n},To.prototype.resortItemsBylevels=function(e){var t,n,i=[],o=null,a=null;for(e.loop(this,(function(e,t){t.originalLevel=t.level,t.level=null,null!=t.originalLevel&&(i[t.originalLevel]||(i[t.originalLevel]={}),i[t.originalLevel][e]=t,o=null!=o?Math.min(t.originalLevel,o):t.originalLevel,a=null!=a?Math.max(t.originalLevel,a):t.originalLevel)})),t=o;t<=a;t+=1)n=i[t],this.setLevelsForItems(n,e);e.loopTopo(this,(function(t,n,i){var o;n.levelGravity==r.zX.Parents&&(o=null,e.loopParents(this,t,(function(t,n,i){return o=null==o?n.level+1:Math.max(n.level+1,o),e.SKIP})),n.level=o||n.level)}))},To.prototype.setLevelsForItems=function(e,t){var n,i,o,r=0;for(n in e)e.hasOwnProperty(n)&&t.loopParents(this,n,(function(e,n,i){return r=Math.max(n.level+1,r),t.SKIP}));for(n in e)e.hasOwnProperty(n)&&((i=e[n]).level=r);for(;!c(e);){for(n in o={},e)e.hasOwnProperty(n)&&(i=e[n],t.loopChildren(this,n,(function(e,n,r){return(null==n.originalLevel||n.isLevelNeutral)&&(n.level=null==n.level?i.level+1:Math.max(n.level,i.level+1),o[e]=n),t.SKIP})));e=o}},To.prototype.fillInItems=function(e,t){var n;e.loop(this,(function(i,o){for(var r,a=!0;a;)a=!1,r=[],e.loopParents(this,i,(function(t,n,i){return o.level-1>n.level&&r.push(t),e.SKIP})),r.length>1&&((n=t(o)).level=o.level-1,n.hideParentConnection=!1,n.hideChildrenConnection=!1,e.bundleParents(i,r,n.id,n),a=!0,i=n.id,o=n)})),e.loop(this,(function(i,o){for(var r,a=!0,l=!0;a;)a=!1,r=[],e.loopChildren(this,i,(function(t,n,i){return o.level+1<n.level?r.push(t):l=!1,e.SKIP})),r.length>1&&((n=t(o)).level=o.level+1,l&&(n.hideParentConnection=!1,n.hideChildrenConnection=!1),e.bundleChildren(i,r,n.id,n),a=!0,i=n.id,o=n)})),e.loop(this,(function(i,o){for(var r,a=!0;a;)a=!1,r=[],e.loopParents(this,i,(function(t,n,i){return o.level-1>n.level&&r.push(t),e.SKIP})),r.length>0&&((n=t(o)).level=o.level-1,n.hideParentConnection=!1,n.hideChildrenConnection=!1,e.bundleParents(i,r,n.id,n),a=!0,i=n.id,o=n)}))},ko.prototype.clone=function(e){var t,n=new ko(e);for(t in this.left)this.left.hasOwnProperty(t)&&(n.left[t]=this.left[t]);for(t in this.right)this.right.hasOwnProperty(t)&&(n.right[t]=this.right[t]);for(t in this.crossings)this.crossings.hasOwnProperty(t)&&(n.crossings[t]=this.crossings[t]);return n.itemid=e,n},Co.prototype.balance=function(e){var t={maximumId:null,treeLevels:de(),bundles:[],connectorStacks:[]},n={orgTree:$(),maximumId:e.maximumId,orgPartners:{},itemByChildrenKey:{},minimumLevel:null,maximumLevel:null};this.createOrgTree(e,n);var i,o=-1;return n.orgTree.loopLevels(this,(function(n,r,a){var l=e.logicalFamily.node(n);null!=l&&(i!==a&&(i=a,o+=1),t.treeLevels.addItem(o,n,l))})),this.recalcLevelsDepth(t.bundles,t.connectorStacks,t.treeLevels,e.logicalFamily),t.maximumId=n.maximumId,t},Co.prototype.Family=function(e){this.id=null,this.familyPriority=1,this.childFamilies=[],this.items=[],this.links=[],this.backLinks=[],1==arguments.length&&(this.id=e)},Co.prototype.FamLink=function(e,t){this.fromItem=e,this.toItem=t},Co.prototype.createOrgTree=function(e,t){var n,i,o,r,a,l,s,u,h,c,d,f,p,m,g,y,v,T,w,b,k,C,O,P,x,S=[],L=[];if(e.logicalFamily.hasNodes()>0){if(P={},f=0,x=[],e.logicalFamily.loopRoots(this,(function(n,i){p=new this.Family(f),this.extractOrgChart(n,e.logicalFamily,e.primaryParents,t.orgTree,t.orgPartners,t.itemByChildrenKey,P,p),L.push(p),x.push(p),f+=1})),x.sort((function(e,t){var n=e.items[0].level,i=t.items[0].level;return n!=i?n-i:t.items.length-e.items.length})),S=[],c={},L.length>0){for(a=ne(),n=0,i=L.length;n<i;n+=1)for(o=0,r=(p=L[n]).links.length;o<r;o+=1)l=p.links[o],(u=e.logicalFamily.node(l.fromItem).familyId)!=(h=e.logicalFamily.node(l.toItem).familyId)&&(a.addEdge(u,h,{weight:0}),a.edge(u,h).weight+=1),L[h].backLinks.push(new this.FamLink(l.toItem,l.fromItem));for(;S.length<L.length;)for(n=0,i=x.length;n<i;n+=1)p=x[n],c.hasOwnProperty(p.id)||(null!=(b=a.getSpanningTree(p.id,(function(e){return-e.weight}))).node(p.id)?(b.loopPostOrder(this,(function(e,t,n,i){var o=L[e],r=L[n],a=[];null!=n&&(r.familyPriority=r.familyPriority+o.familyPriority),a=[],b.loopChildren(this,e,(function(e,t,n){a.push(e)})),a.sort((function(e,t){return L[e].familyPriority-L[t].familyPriority})),b.arrangeChildren(e,a)})),b.loopPreOrder(this,(function(e,t){S.push(e),c[e]=!0}))):(S.push(p.id),c[p.id]=!0))}for(t.maximumId+=1,O=new bo(t.maximumId,null,t.minimumLevel-1),t.orgTree.add(null,O.id,O),d={},n=0,i=S.length;n<i;n+=1){for(v={},T=O,w=0,s=(p=L[S[n]]).links.concat(p.backLinks),o=0;o<s.length;o+=1)l=s[o],g=t.orgTree.node(l.toItem),t.orgTree.node(l.fromItem),!0===d[g.familyId]&&(m=p.items[0],(y=g).level>=m.level&&t.orgTree.loopParents(this,y.id,(function(e,t){if(y=t,t.level<m.level)return!0})),v.hasOwnProperty(y.id)?v[y.id]+=1:v[y.id]=1,w<v[y.id]&&(T=y,w=v[y.id]));this.attachFamilyToOrgChart(t,T,p),d[p.id]=!0}k=this.getExtraGravity(t),C=this.getGrandChildren(t),this.balanceOrgTree(t.orgTree,k,C,e.itemsPositions,e.itemsGroups)}},Co.prototype.getGrandChildren=function(e){var t={};return e.orgTree.loopPostOrder(this,(function(n,i,o,r){var a;if(e.minimumLevel=null!=e.minimumLevel?Math.min(e.minimumLevel,i.level):i.level,e.maximumLevel=null!=e.maximumLevel?Math.max(e.maximumLevel,i.level):i.level,null!=o&&(t[o]||(t[o]={}),a=i.level-1,t[o][a]?t[o][a]+=1:t[o][a]=1,null!=t[n]))for(a in t[n])t[n].hasOwnProperty(a)&&(t[o][a]?t[o][a]+=t[n][a]:t[o][a]=t[n][a])})),t},Co.prototype.balanceOrgTree=function(e,t,n,i,o){var r,a,l,s,u,h,c,d,f,p,m,g="__left__",y="__right__";e.loopLevels(this,(function(v,T,w){var b,k=ne(),C={},O=null;if(c=[],e.loopChildren(this,T.id,(function(n,i,o){var l;if(null==O&&(O=i),C[i.id]={},t.hasOwnProperty(i.id))for(l in h=t[i.id])if(h.hasOwnProperty(l))for(p=h[l],C[i.id][l]={},r=0,a=p.length;r<a;r+=1)u=p[r],b=u.commonParent==T.id?u.toParent:e.node(u.fromParent).childIndex<e.node(u.toParent).childIndex?y:g,i.id!=b&&(k.addEdge(i.id,b,{weight:0}),k.edge(i.id,b).weight+=1,null==C[i.id][l][b]&&(C[i.id][l][b]=0),C[i.id][l][b]+=1);o>0&&k.addEdge(i.id,O.id,{weight:0})})),null!=O)for(m=[],k.getTotalWeightGrowthSequence(this,(function(e){return e.weight}),(function(e){m.push(e)})),0===m.length&&(m=[O.id]),d=this.balanceItems(m,g,y,C,n,i,o),l=0,s=d.length;l<s;l+=1)(f=e.node(d[l])).childIndex=l,c.push(f.id);e.arrangeChildren(T.id,c)}))},Co.prototype.balanceItems=function(e,t,n,i,o,r,a){var l,s,u,h,c,d,f,p,m,g,y,v,T,w,b,k,C,O,P,x,S,L,I,A,M,z,R,E,F,B=[],D=K(),j=0,_={},N={};for(f=[t,null,n],l=0;l<f.length;l+=1)h=j++,(c=new ko(d=f[l])).position=l,D.add(h,c),null!==d&&(N[d]=h);for(l=0;l<e.length;l+=1)if((d=e[l])!=t&&d!=n)for(S in p=null,m=null,g=null,y=null,v=null,T=null,s=null,u=null,a.hasOwnProperty(d)&&(R=a[d],_.hasOwnProperty(R)&&(M=r[d],s=(E=_[R]).previousContext(M),u=E.nextContext(M))),D.iterate((function(e,t){var n,r,a,l;if(null==e.itemId){for(n in O=o[d],w=0,b=0,k=0,C=0,e.crossings)e.crossings.hasOwnProperty(n)&&(O&&null!=O[n]&&(w+=e.crossings[n]*O[n]),C+=e.crossings[n]);for(n in i[d])if(i[d].hasOwnProperty(n))for(r in a=i[d][n])a.hasOwnProperty(r)&&N.hasOwnProperty(r)&&null!=(l=D.item(N[r]))&&(l.position<e.position?(w+=(e.left[n]||0)-(l.left[n]||0),k+=Math.abs(l.balance+1)):(w+=(e.right[n]||0)-(l.right[n]||0),k+=Math.abs(l.balance-1)),b+=Math.abs(l.position-e.position));(null==g||g>w||g==w&&(y>b||y==b&&(v>k||v==k&&T>C)))&&(p=t,g=w,m=e,y=b,v=k,T=C)}}),s,u),D.insertBefore(p,j++,m.clone(null)),N[d]=j,x=j,P=m.clone(d),r.hasOwnProperty(d)&&(R=a[d],_.hasOwnProperty(R)||(_[R]=H()),(E=_[R]).add(r[d],j)),D.insertBefore(p,j++,P),P.position=0,z=0,D.iterate((function(e,t){var n,i;if(t!=x){for(n in i=o[d])i.hasOwnProperty(n)&&(e.left[n]?e.left[n]+=i[n]:e.left[n]=i[n]);z+=1,e.position=z}}),x),z=0,D.iterateBack((function(e,t){var n,i;if(t!=x){for(n in i=o[d],o[d])o[d].hasOwnProperty(n)&&(e.right[n]?e.right[n]+=i[n]:e.right[n]=i[n]);z-=1,e.position=z}}),x),i[d])if(i[d].hasOwnProperty(S))for(I in L=i[d][S])L.hasOwnProperty(I)&&N.hasOwnProperty(I)&&(F=N[I],null!=(A=D.item(F))&&(A.position<0?(A.balance+=1,P.balance-=1,D.iterateBack((function(e,t){t!=x&&t!=F&&(e.crossings[S]?e.crossings[S]+=L[I]:e.crossings[S]=L[I])}),x,F)):(A.balance-=1,P.balance+=1,D.iterate((function(e,t){t!=x&&t!=F&&(e.crossings[S]?e.crossings[S]+=L[I]:e.crossings[S]=L[I])}),x,F))));return D.iterate((function(e){var i=e.itemId;null!=i&&i!=t&&i!=n&&B.push(i)})),B},Co.prototype.ExtraGravity=function(e){this.commonParent=null,this.fromParent=null,this.toParent=null,this.level=e},Co.prototype.getExtraGravity=function(e){var t,n,i,o,r,a,l={};for(t in e.orgPartners)if(e.orgPartners.hasOwnProperty(t))for(n=e.orgTree.node(t),i=0,o=(r=e.orgPartners[t]).length;i<o;i+=1)a=e.orgTree.node(r[i]),this.addExtraGravitiesForConnection(e.orgTree,l,a,n);return l},Co.prototype.addExtraGravitiesForConnection=function(e,t,n,i){var o=new this.ExtraGravity(n.level),r=new this.ExtraGravity(i.level);e.zipUp(this,n.id,i.id,(function(e,n,i,a){if(this.addExtraGravityForItem(t,e,o),this.addExtraGravityForItem(t,i,r),n==a)return o.commonParent=n,o.fromParent=e,o.toParent=i,r.commonParent=n,r.fromParent=i,r.toParent=e,!0}))},Co.prototype.addExtraGravityForItem=function(e,t,n){e.hasOwnProperty(t)||(e[t]={}),null==e[t][n.level]&&(e[t][n.level]=[]),e[t][n.level].push(n)},Co.prototype.attachFamilyToOrgChart=function(e,t,n){var i,o=n.items[0],r=null,a=t;for(i=t.level+1;i<o.level;i+=1)e.maximumId+=1,r=new bo(e.maximumId,null,i),e.orgTree.add(a.id,r.id,r),n.items.push(r),a=r;o.hideParentConnection=!0,e.orgTree.adopt(a.id,o.id,o)},Co.prototype.extractOrgChart=function(e,t,n,i,o,r,a,l){var s,u,h,c,d,f=[],p=t.node(e);for(d=new bo(p.id,l.id,p.level),i.add(null,d.id,d),l.items.push(d),a[p.id]=p,p.familyId=l.id,f=this.extractChildren(p,t,n,i,o,r,a,l);f.length>0;){for(h=[],s=0,u=f.length;s<u;s+=1)c=f[s],h=h.concat(this.extractChildren(c,t,n,i,o,r,a,l));f=h}},Co.prototype.extractChildren=function(e,t,n,i,o,r,a,l){var s,u=[],h=null,c=null;if(1==t.countChildren(e.id)&&(h=t.firstChild(e.id)),null!=r[h])null==o[(c=r[h]).id]&&(o[c.id]=[]),o[c.id].push(e.id),l.links.push(new this.FamLink(e.id,h));else{if(null!=h){if(n.hasOwnProperty(h)){var d=n[h];if(d!=e.id)return null==o[d]&&(o[d]=[]),o[d].push(e.id),l.links.push(new this.FamLink(e.id,h)),u}r[h]=e}t.loopChildren(this,e.id,(function(n,o,r){if(a[o.id])throw"Many to many relations should not exist at this stage";return u.push(o),s=new bo(o.id,l.id,o.level),i.add(e.id,s.id,s),l.items.push(s),a[o.id]=!0,o.familyId=l.id,t.SKIP}))}return u},Co.prototype.recalcLevelsDepth=function(e,t,n,i){var o,r,a,l,s,u,h,c,d,f,p={};n.loopLevels(this,(function(m,g){var y=new ln;if(t[m]=y,h=[],n.loopLevelItems(this,m,(function(t,n,o){var r=[],a=[],l=null;p.hasOwnProperty(t)||(p[t]=!0,n.hideChildrenConnection?l=t:r.push(t),i.loopChildren(this,t,(function(e,t,n){return i.loopParents(this,e,(function(e,t){return p.hasOwnProperty(e)||(p[e]=!0,t.hideChildrenConnection?l=e:r.push(e)),i.SKIP})),t.hideParentConnection?l=e:a.push(e),i.SKIP})),(r.length>1||a.length>0)&&(u=new mn(r,a,l),e.push(u),r.length>1&&h.push(u)))})),h.length>0){for(f=ue(),o=0,r=h.length;o<r;o+=1){for(u=h[o],c=null,d=null,a=0,l=u.fromItems.length;a<l;a+=1)s=n.getItemPosition(u.fromItems[a]),c=null!=c?Math.min(c,s):s,d=null!=d?Math.max(d,s):s;f.add(c,d,u)}y.parentsStackSize=f.resolve(this,(function(e,t,n,i,o){n.fromOffset=i+1,n.fromStackSize=o}))}}))},Oo.prototype.getUserDefinedPrimaryParents=function(e,t){var n,i,o={},r={};for(n=0,i=e.length;n<i;n+=1){var a=e[n];null!=a.primaryParent&&(r[a.id]=a.primaryParent)}for(var l in r)for(var s=r[l],u={},h=[l];h.length>0;){var c=[];for(n=0,i=h.length;n<i;n+=1)l=h[n],t.loopParents(this,l,(function(e,n){if(u[e]=l,e==s){for(;null!=u[e];)o[u[e]]=e,e=u[e];return c=[],t.BREAK}return 0==n.isVisible&&c.push(e),t.SKIP}));h=c}return o},Ro.prototype.loop=function(e,t){if(null!=t){var n=0;this.treeLevels.loopLevels(this,(function(i){this.treeLevels.loopLevelItems(this,i,(function(i,o){t.call(e,o,n)})),n+=1}))}},Ro.prototype.measure=function(e,t,n,i,o,a){this.treeLevelsPositions=[],this.treeLevels.loopLevels(this,(function(e,t){var n=new Tn;this.treeLevelsPositions.push(n)})),this.setOffsets(this.treeLevels,o,this.childLayoutsPositions,this.treeLevelsPositions,this.logicalFamily,a.intervals,a.padding),this.setLevelsDepth(this.treeLevels,o,this.treeLevelsPositions,a.verticalAlignment),this.shiftLevels(this.treeLevelsPositions,a.padding.top,a.shifts,a.arrowsDirection,a.linesWidth,this.getConnectorsStacksSizes);var l=new wn;return l.actualVisibility=r.EE.Normal,l.actualSize=this.getLayoutSize(this.treeLevels,o,this.childLayoutsPositions,this.treeLevelsPositions,a.padding),l},Ro.prototype.getLayoutSize=function(e,t,n,i,o){return new j(0,0,Math.round(this.getLayoutWidth(e,t,n,o)),Math.round(this.getLayoutHeight(i,o)))},Ro.prototype.getLayoutWidth=function(e,t,n,i){var o=0;return e.loopLevels(this,(function(r,a){var l=e.getLevelLength(r);if(l>0){var s=e.getItemAtPosition(r,l-1),u=t[s],h=n[s];o=Math.max(o,h.offset+u.actualSize.width+i.right)}})),o},Ro.prototype.getLayoutHeight=function(e,t){return e[e.length-1].getNodesBottom()+t.bottom},Ro.prototype.setLevelsDepth=function(e,t,n,i){var o,a;e.loopLevels(this,(function(l,s){var u=n[l];switch(u.shift=0,u.depth=0,u.actualVisibility=r.EE.Invisible,o=null,a=null,e.loopLevelItems(this,l,(function(e,n,i){var l=t[e];switch(u.depth=Math.max(u.depth,l.actualSize.height),l.actualVisibility){case r.EE.Dot:case r.EE.Line:case r.EE.Invisible:a=a?Math.min(a,l.actualSize.height):l.actualSize.height;break;default:o=o?Math.min(o,l.actualSize.height):l.actualSize.height}u.actualVisibility=Math.min(u.actualVisibility,l.actualVisibility)})),null==o&&(o=u.depth),null!=a&&a>o&&(o=a),i){case r.Vn.Top:u.horizontalConnectorsDepth=o/2;break;case r.Vn.Middle:u.horizontalConnectorsDepth=u.depth/2;break;case r.Vn.Bottom:u.horizontalConnectorsDepth=u.depth-o/2}}))},Ro.prototype.shiftLevels=function(e,t,n,i,o,a){var l,s,u,h,c=0,d=0,f=8*o;switch(i){case r.zX.Parents:c=f,d=0;break;case r.zX.Children:c=0,d=f}for(l=0,s=e.length;l<s;l+=1)u=e[l],h=a(l).parentsStackSize,t+=u.setShift(t,n[u.actualVisibility],d,c,h)},Ro.prototype.setOffsets=function(e,t,n,i,o,r,a){var l,s;for(l=0,s=i.length;l<s;l+=1)i[l].currentOffset=0;var u=new ae(this,o.getPlanarFamily(e),e,(function(e,i){var o=t[e],a=r[o.actualVisibility]/2;return n[e]=new zo(0,a,a),a+o.actualSize.width+a})),h=null;e.loopLevels(this,(function(n,i){var o=e.getItemAtPosition(n,0);if(null!=o){var r=t[o],a=u.getOffset(o)-r.actualSize.width/2;h=null===h?a:Math.min(h,a)}})),e.loopLevels(this,(function(i,o){e.loopLevelItems(this,i,(function(e,i,o){var r=t[e],l=u.getOffset(e);n[e].offset=l-r.actualSize.width/2-h+a.left}))}))},Ro.prototype.arrange=function(e,t,n,i,o,r){var a=null;null!=r&&this.treeLevels.loopLevels(this,(function(t,n){var l=this.treeLevelsPositions[t];this.treeLevels.loopLevelItems(this,t,(function(t,n,s){var u=i[t],h=this.childLayoutsPositions[t],c=this.getItemPosition(u.actualVisibility,h.offset,u.actualSize,a,l,o.verticalAlignment);r.call(e,t,Mo(Mo({},u),c))})),a=l}))},Ro.prototype.getItemPosition=function(e,t,n,i,o,a){var l=0;switch(e){case r.EE.Normal:switch(a){case r.Vn.Top:l=0;break;case r.Vn.Middle:l=(o.depth-n.height)/2;break;case r.Vn.Bottom:l=o.depth-n.height}break;case r.EE.Dot:case r.EE.Line:case r.EE.Invisible:l=o.horizontalConnectorsDepth-n.height/2}return{actualPosition:new j(t,o.shift+l,n.width,n.height),horizontalConnectorsShift:o.shift+o.horizontalConnectorsDepth,topConnectorShift:null!=i?i.shift+i.connectorShift:null,topConnectorInterval:null!=i?i.levelSpace/2:null,bottomConnectorShift:o.shift+o.connectorShift,bottomConnectorInterval:o.levelSpace/2}},Qo.prototype.clean=function(){for(;this.saveCounter;)this.saveCounter--,this._doc.restore()},Qo.prototype.resize=function(e,t,n){var i=this.m_placeholders[e];i||((i=new zi(e)).size=new P.Z(0,0),i.rect=new j(0,0,0,0),this.m_placeholders[e]=i),i.size=new P.Z(t,n),i.rect=new j(i.rect.x,i.rect.y,t,n)},Qo.prototype.position=function(e,t,n,i,o){this.resize(e,i,o);var r=this.m_placeholders[e];r.rect.x=t,r.rect.y=n},Qo.prototype.begin=function(){},Qo.prototype.end=function(){},Qo.prototype.reset=function(e,t){},Qo.prototype.activate=function(e,t){this.m_placeholders[e]||this.resize(e,0,0),this.m_activePlaceholder=this.m_placeholders[e];for(var n=this.m_activePlaceholder.rect,i=n.x,o=n.y;this.saveCounter;)this.saveCounter--,this._doc.restore();return this._doc.save(),this.saveCounter++,this._doc.translate(i,o),this.m_activePlaceholder},Qo.prototype.text=function(e,t,n,i,o,r,a,l,s){},Qo.prototype.polylinesBuffer=function(e){e.loop(this,(function(e){e.length()>0&&this.polyline(e)}))},Qo.prototype.polyline=function(e){this.m_activePlaceholder;var t,n,i=e.paletteItem.toAttr(),o=this._doc;if(o.save(),e.loop(this,(function(e){switch(e.segmentType){case r.vZ.Move:o.moveTo(Math.round(e.x)+.5,Math.round(e.y)+.5);break;case r.vZ.Line:o.lineTo(Math.round(e.x)+.5,Math.round(e.y)+.5);break;case r.vZ.Dot:e.width==e.height&&e.width/2<=e.cornerRadius?o.roundedRect(Math.round(e.x)+.5,Math.round(e.y)+.5,e.width,e.height,Math.min(e.width,e.height)/2):0===e.cornerRadius?(o.moveTo(Math.round(e.x)+.5,Math.round(e.y)+.5),o.lineTo(Math.round(e.x+e.width)+.5,Math.round(e.y)+.5),o.lineTo(Math.round(e.x+e.width)+.5,Math.round(e.y+e.height)+.5),o.lineTo(Math.round(e.x)+.5,Math.round(e.y+e.height)+.5),o.lineTo(Math.round(e.x)+.5,Math.round(e.y)+.5)):(n=Math.min(e.cornerRadius,Math.min(e.width/2,e.height/2)),o.roundedRect(Math.round(e.x)+.5,Math.round(e.y)+.5,e.width,e.height,n));break;case r.vZ.QuadraticArc:o.quadraticCurveTo(Math.round(e.cpX)+.5,Math.round(e.cpY)+.5,Math.round(e.x)+.5,Math.round(e.y)+.5);break;case r.vZ.CubicArc:o.bezierCurveTo(Math.round(e.cpX1)+.5,Math.round(e.cpY1)+.5,Math.round(e.cpX2)+.5,Math.round(e.cpY2)+.5,Math.round(e.x)+.5,Math.round(e.y)+.5)}})),o.lineJoin("round"),null!=i.lineType)switch(t=Math.round(i.lineWidth)||1,i.lineType){case r.SP.Solid:break;case r.SP.Dotted:o.dash(t,2*t);break;case r.SP.Dashed:o.dash(5*t,3*t)}void 0!==i.lineWidth&&void 0!==i.fillColor?o.lineWidth(i.lineWidth).fillColor(i.fillColor,i.opacity).strokeColor(i.borderColor).fillAndStroke():void 0!==i.lineWidth?o.lineWidth(i.lineWidth).stroke(i.borderColor):void 0!==i.fillColor&&o.fillColor(i.fillColor,i.opacity),o.restore()},Qo.prototype.rightAngleLine=function(e,t,n,i,o){},Qo.prototype.template=function(e,t,n,i,o,r,a,l,s,u,h,c,d){var f=0;null!==d&&void 0!==d.borderWidth&&(f=this.getPxSize(d.borderWidth));var p=new j(e+o,t+r,a-f,l-f);null==c&&(c=new li),null!==h&&h(this._doc,p,c)},Qo.prototype.getPxSize=function(e,t){var n=e;return"string"==typeof e&&(n=e.indexOf("pt")>0?96*parseInt(e,10)/72:e.indexOf("%")>0?parseFloat(e)/100*t:parseInt(e,10)),n}},4808:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=o?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(7294)),r=u(n(5697)),a=n(9420),l=u(n(7055)),s=n(3269);function u(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(h,e);var t,i,r,u=y(h);function h(e,t,n){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(i=u.call(this,e)).TaskManagerFactory=t,i.EventArgs=n;var r=e.config,a=e.centerOnCursor,c=r.highlightItem,d=r.cursorItem,f=r.selectedItems;i.state={config:r,viewportSize:{width:0,height:0},contentPosition:{x:0,y:0},centerOnCursor:a,highlightItem:c,cursorItem:d,selectedItems:(f||[]).slice()};var p=i.state.viewportSize;return i.onRefreshViewport=i.onRefreshViewport.bind(T(i)),i.onSizeChanged=i.onSizeChanged.bind(T(i)),i.onScroll=i.onScroll.bind(T(i)),i.onMouseMove=i.onMouseMove.bind(T(i)),i.onClick=i.onClick.bind(T(i)),i.onCheckboxChange=i.onCheckboxChange.bind(T(i)),i.onKeyDown=i.onKeyDown.bind(T(i)),i.onFrameClick=i.onFrameClick.bind(T(i)),i.onFrameMouseMove=i.onFrameMouseMove.bind(T(i)),i.getOptions=i.getOptions.bind(T(i)),i.getGraphics=i.getGraphics.bind(T(i)),i.getLayout=i.getLayout.bind(T(i)),i.setLayout=i.setLayout.bind(T(i)),i.getEventArgs=i.getEventArgs.bind(T(i)),i.centerOnCursor=i.centerOnCursor.bind(T(i)),i.onItemRender=i.onItemRender.bind(T(i)),i.onHighlightRender=i.onHighlightRender.bind(T(i)),i.onCursorRender=i.onCursorRender.bind(T(i)),i.controlPanelRef=o.default.createRef(),i.frameMousePanelRef=o.default.createRef(),i.framePlaceholderRef=o.default.createRef(),i.titlesMousePanelRef=o.default.createRef(),i.titlesPlaceholderRef=o.default.createRef(),i.scrollPanelRef=o.default.createRef(),i.mousePanelRef=o.default.createRef(),i.placeholderRef=o.default.createRef(),i.calloutPlaceholderRef=o.default.createRef(),i.layoutOptions={},i.templatesHash={},i.graphics=new l.default(p),i.templates={AnnotationLabelTemplate:s.AnnotationLabelTemplate,ButtonsTemplate:s.ButtonsTemplate,CheckBoxTemplate:s.CheckBoxTemplate,CursorTemplate:s.CursorTemplate,DotHighlightTemplate:s.DotHighlightTemplate,GroupTitleTemplate:s.GroupTitleTemplate,HighlightTemplate:s.HighlightTemplate,ItemTemplate:s.ItemTemplate,UserTemplate:s.UserTemplate,CustomRenderTemplate:s.CustomRenderTemplate,LabelAnnotationTemplate:s.LabelAnnotationTemplate,LevelTitleTemplate:s.LevelTitleTemplate,LevelBackgroundTemplate:s.LevelBackgroundTemplate},i.tasks=t(i.getOptions,i.getGraphics,i.getLayout,i.setLayout,i.templates),i}return t=h,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.config,i=e.centerOnCursor;return t.config!==n?{config:n,highlightItem:n.highlightItem,cursorItem:n.cursorItem,selectedItems:(n.selectedItems||[]).slice(),centerOnCursor:i}:null}}],(i=[{key:"componentDidMount",value:function(){n(9673),this.observer=new ResizeObserver(this.onSizeChanged),this.observer.observe(this.controlPanelRef.current),this.centerOnCursor(),this.fixPixelAlignment()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer),this.timer=null,this.observer.disconnect()}},{key:"componentDidUpdate",value:function(){this.centerOnCursor()}},{key:"centerOnCursor",value:function(){var e=this.state.centerOnCursor;if(e){var t=this.tasks.getTask("CenterOnCursorTask").getPlaceholderOffset(),n=t.x,i=t.y;this.scrollPanelRef.current.scrollLeft=n,this.scrollPanelRef.current.scrollTop=i}}},{key:"fixPixelAlignment",value:function(){var e=this.controlPanelRef.current,t=(0,a.getFixOfPixelAlignment)(e);e.style.marginLeft=t.width+"px",e.style.marginTop=t.height+"px"}},{key:"onSizeChanged",value:function(){var e=(0,a.getInnerSize)(this.controlPanelRef.current),t=e.width,n=e.height;this.setState({viewportSize:{width:t,height:n},centerOnCursor:!0})}},{key:"onScroll",value:function(){null==this.timer&&(this.timer=setTimeout(this.onRefreshViewport,200))}},{key:"onRefreshViewport",value:function(){clearTimeout(this.timer),this.timer=null;var e=this.scrollPanelRef.current,t=e.scrollTop,n=e.scrollLeft;this.setState({contentPosition:{x:Math.floor(n),y:Math.floor(t)},centerOnCursor:!1})}},{key:"onFrameMouseMove",value:function(e){var t=(0,a.getElementOffset)(this.frameMousePanelRef.current),n=e.pageX-t.left,i=e.pageY-t.top,o=this.tasks.getTask("ProjectItemsToFrameTask"),r=this.tasks.getTask("HighlightItemOptionTask");if(r.hasHighlightEnabled()){var l=o.getTreeItemForMousePosition(n,i,r.getGravityRadius());this.setHighlightItem(e,l)}}},{key:"onFrameClick",value:function(e){var t=(0,a.getElementOffset)(this.frameMousePanelRef.current),n=e.pageX-t.left,i=e.pageY-t.top,o=this.tasks.getTask("ProjectItemsToFrameTask"),r=this.tasks.getTask("CursorItemOptionTask"),l=this.tasks.getTask("HighlightItemOptionTask"),s=o.getTreeItemForMousePosition(n,i,l.getGravityRadius());null!==s&&r.hasCursorEnabled()&&(this.setCursorItem(e,s),this.controlPanelRef.current.focus())}},{key:"onMouseMove",value:function(e){var t=(0,a.getElementOffset)(this.mousePanelRef.current),n=e.pageX-t.left,i=e.pageY-t.top,o=this.tasks.getTask("CreateTransformTask"),r=this.tasks.getTask("HighlightItemOptionTask");if(r.hasHighlightEnabled()){var l=o.getTreeItemForMousePosition(n,i,r.getGravityRadius());this.setHighlightItem(e,l)}}},{key:"getEventArgs",value:function(e,t,n){var i,o,r,l=new this.EventArgs,s=this.tasks.getTask("CombinedContextsTask"),u=this.tasks.getTask("AlignDiagramTask"),h=s.getConfig(e),c=s.getConfig(t);return h&&null!=h.id&&(l.oldContext=h),c&&null!=c.id&&(l.context=c,null!==c.parent&&(l.parentItem=s.getConfig(c.parent)),r=(0,a.getElementOffset)(this.mousePanelRef.current),o=(0,a.getElementOffset)(this.scrollPanelRef.current),i=u.getItemPosition(t),l.position=new a.Rect(i.actualPosition).translate(r.left,r.top).translate(-o.left,-o.top)),null!=n&&(l.name=n),l}},{key:"setHighlightItem",value:function(e,t){var n,i=!1,o=this.props,r=o.onHighlightChanging,a=o.onHighlightChanged,l=this.state.highlightItem;t!==l&&(n=this.getEventArgs(l,t),null!=r?r(e,n)||(i=!0,this.setState({highlightItem:t})):this.setState({highlightItem:t}),i||null!=a&&a(e,n))}},{key:"setCursorItem",value:function(e,t){var n,i=!1,o=this.props,r=o.onCursorChanging,a=o.onCursorChanged,l=this.state.cursorItem;t!==l&&(n=this.getEventArgs(l,t),null!=r?r(e,n)||(i=!0,this.setState({cursorItem:t,centerOnCursor:!0})):this.setState({cursorItem:t,centerOnCursor:!0}),i||null!=a&&a(e,n))}},{key:"onClick",value:function(e){var t,n=(0,a.getElementOffset)(this.mousePanelRef.current),i=e.pageX-n.left,o=e.pageY-n.top,r=this.tasks.getTask("CreateTransformTask"),l=this.tasks.getTask("CursorItemOptionTask"),s=this.tasks.getTask("HighlightItemOptionTask"),u=r.getTreeItemForMousePosition(i,o,s.getGravityRadius());t=e.target,null!==u&&("checkbox"===t.getAttribute("name")||"selectiontext"===t.getAttribute("name")||l.hasCursorEnabled()&&(this.setCursorItem(e,u),this.controlPanelRef.current.focus()))}},{key:"onCheckboxChange",value:function(e){var t=this.props,n=t.onSelectionChanging,i=t.onSelectionChanged,o=this.state.selectedItems,r=[],a=e.target.getAttribute("data-id"),l=e.target.checked,s=!1;null!=a&&(r=l?[].concat(f(o),[a]):o.filter((function(e){return e!=a})),null!=n&&(s=n(e,o,r)),s||(this.setState({selectedItems:r}),null!=i&&i(e,o,r)))}},{key:"onKeyDown",value:function(e){var t,n,i=this.tasks.getTask("HighlightItemTask"),o=this.tasks.getTask("HighlightItemOptionTask"),r=this.tasks.getTask("CursorItemTask"),l=this.tasks.getTask("CursorItemOptionTask"),s=this.tasks.getTask("AlignDiagramTask"),u=this.tasks.getTask("CreateTransformTask").getTransform(),h=null,c=null;if(o.hasHighlightEnabled()&&l.hasCursorEnabled()?null===(h=i.getHighlightTreeItem())&&(h=r.getCursorTreeItem()):o.hasHighlightEnabled()?h=i.getHighlightTreeItem():l.hasCursorEnabled()&&(h=r.getCursorTreeItem()),null!=h){switch(e.which){case 13:l.hasCursorEnabled()&&(this.setCursorItem(e,h),e.preventDefault(),this.controlPanelRef.current.focus());break;case 40:c=a.OrientationType.Bottom;break;case 38:c=a.OrientationType.Top;break;case 37:c=a.OrientationType.Left;break;case 39:c=a.OrientationType.Right}if(null!=c){for(n=!1;!n;)n=!0,c=u.getOrientation(c),null!=(t=s.getNextItem(h,c))&&(e.preventDefault(),o.hasHighlightEnabled()?this.setHighlightItem(e,t):l.hasCursorEnabled()&&this.setCursorItem(e,t));this.controlPanelRef.current.focus()}}}},{key:"onItemRender",value:function(e){var t=e.templateName;return this.templatesHash[t].onItemRender(e)}},{key:"onHighlightRender",value:function(e){var t=e.templateName;return this.templatesHash[t].onHighlightRender(e)}},{key:"onCursorRender",value:function(e){var t=e.templateName;return this.templatesHash[t].onCursorRender(e)}},{key:"getOptions",value:function(){var e=this.props.config,t=e.templates||[],n=t.map((function(e){var t=e.onItemRender,n=e.onHighlightRender,i=e.onCursorRender;return d(d({},e),{},{itemTemplate:t?"<p>This template is not being used in React</p>":null,highlightTemplate:n?"<p>This template is not being used in React</p>":null,cursorTemplate:i?"<p>This template is not being used in React</p>":null})}));this.templatesHash=t.reduce((function(e,t){return e[t.name]=t,e}),{});var i=this.state,o=i.highlightItem,r=i.cursorItem,a=i.selectedItems;return d(d({},e),{},{templates:n,highlightItem:o,cursorItem:r,selectedItems:a,onItemRender:this.onItemRender,onCursorRender:this.onCursorRender,onHighlightRender:this.onHighlightRender})}},{key:"getGraphics",value:function(){return this.graphics}},{key:"getLayout",value:function(){var e=this.state,t=e.centerOnCursor,n=e.viewportSize,i=e.contentPosition;return{forceCenterOnCursor:t,scrollPanelSize:new a.Size(n),placeholderOffset:new a.Point(i)}}},{key:"setLayout",value:function(e){var t=e.autoSize,n=e.controlSize,i=e.scale,o=e.frameMousePanelRect,r=e.framePlaceholderSize,l=e.titlesMousePanelRect,s=e.titlesPlaceholderSize,u=e.scrollPanelRect,h=e.mousePanelSize,c=e.placeholderSize;this.layoutOptions={autoSize:t,controlSize:new a.Size(n),scale:i,frameMousePanelRect:new a.Rect(o),framePlaceholderSize:new a.Size(r),titlesMousePanelRect:new a.Rect(l),titlesPlaceholderSize:new a.Size(s),scrollPanelRect:new a.Rect(u),mousePanelSize:new a.Size(h),placeholderSize:new a.Size(c)}}},{key:"render",value:function(){var e=this.graphics;this.tasks.process("OptionsTask",null,!1);var t=this.graphics.placeholders,n=t.placeholder,i=t.calloutplaceholder,r=t.frameplaceholder,a=t.titlesplaceholder,l=n.rect.getCSS(),s=this.layoutOptions,u=s.autoSize,h=s.controlSize,c=s.scale,f=s.frameMousePanelRect,p=s.titlesMousePanelRect,m=s.scrollPanelRect,g=s.mousePanelSize,y="scale("+c+","+c+")";return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{ref:this.controlPanelRef,onKeyDown:this.onKeyDown,style:d({position:"relative",overflow:"hidden",top:"0px",left:"0px",width:"100%",height:"100%",padding:"0px",marginBottom:"0px",marginRight:"0px"},u?h.getCSS():{}),tabIndex:"0"},r&&o.default.createElement("div",{ref:this.frameMousePanelRef,onMouseMove:this.onFrameMouseMove,onClick:this.onFrameClick,style:d({position:"absolute",overflow:"hidden"},f.getCSS())},o.default.createElement("div",{ref:this.framePlaceholderRef,style:d(d({},r.rect.getCSS()),{},{position:"absolute",overflow:"hidden",transformOrigin:"0 0",transform:y,msTransform:y,WebkitTransform:y,OTransform:y,MozTransform:y})},e.map(this,"frameplaceholder",(function(e,t){return o.default.createElement("div",{key:e,style:{position:"absolute",overflow:"visible",left:"0px",top:"0px"}},t)})))),a&&o.default.createElement("div",{ref:this.titlesMousePanelRef,onMouseMove:this.onFrameMouseMove,onClick:this.onFrameClick,style:d({position:"absolute",overflow:"hidden"},p.getCSS())},o.default.createElement("div",{ref:this.titlesPlaceholderRef,style:d(d({},a.rect.getCSS()),{},{position:"absolute",overflow:"hidden",transformOrigin:"0 0",transform:y,msTransform:y,WebkitTransform:y,OTransform:y,MozTransform:y})},e.map(this,"titlesplaceholder",(function(e,t){return o.default.createElement("div",{key:e,style:{position:"absolute",overflow:"visible",left:"0px",top:"0px"}},t)})))),o.default.createElement("div",{ref:this.scrollPanelRef,onScroll:this.onScroll,style:d(d({position:"absolute",overflow:"auto",WebkitOverflowScrolling:"touch"},m.getCSS()),{},{border:m.x>0?"1px dotted #dddddd":""})},o.default.createElement("div",{ref:this.mousePanelRef,onMouseMove:this.onMouseMove,onClick:this.onClick,onChange:this.onCheckboxChange,style:d({position:"absolute",overflow:"hidden"},g.getCSS())},o.default.createElement("div",{ref:this.placeholderRef,style:d(d({},l),{},{position:"absolute",overflow:"hidden",transformOrigin:"0 0",transform:y,msTransform:y,WebkitTransform:y,OTransform:y,MozTransform:y})},e.map(this,"placeholder",(function(e,t){return o.default.createElement("div",{key:e,style:{position:"absolute",overflow:"visible",left:"0px",top:"0px"}},t)})),i&&o.default.createElement("div",{key:"Callout",ref:this.calloutPlaceholderRef,style:{position:"absolute",overflow:"visible",left:i.rect.x+"px",top:i.rect.y+"px"}},e.map(this,"calloutplaceholder",(function(e,t){return o.default.createElement("div",{key:e,style:{position:"absolute",overflow:"visible"}},t)}))))))))}}])&&m(t.prototype,i),r&&m(t,r),h}(o.Component);b(k,"propTypes",{centerOnCursor:r.default.bool,onHighlightChanging:r.default.func,onHighlightChanged:r.default.func,onCursorChanging:r.default.func,onCursorChanged:r.default.func,onSelectionChanging:r.default.func,onSelectionChanged:r.default.func}),b(k,"defaultProps",{centerOnCursor:!0,onHighlightChanging:null,onHighlightChanged:null,onCursorChanging:null,onCursorChanged:null,onSelectionChanging:null,onSelectionChanged:null});var C=k;t.default=C},9417:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(9420),r=l(n(4808)),a=l(n(4180));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var d,f,p,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,e);var t=u(n);function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.call(this,e,o.FamTaskManagerFactory,o.FamEventArgs)}return n}(r.default);d=m,f="propTypes",p={config:a.default.isRequired},f in d?Object.defineProperty(d,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[f]=p;var g=m;t.default=g},7055:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(7294)),o=n(9420),r=a(n(2019));function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=function e(t){d(this,e),this.name=t,this.layers={},this.activeLayer=null,this.size=null,this.rect=null,this.hasGraphics=!0,this.isVisible=!0},p=function(){function e(t){d(this,e),this.name=t,this.items=[],this.polylines=[]}return c(e,[{key:"reset",value:function(){this.items=[],this.polylines=[]}}]),e}(),m=function(){function e(t){d(this,e),this.placeholders={},this.activePlaceholder=null,this.size=t,this.hasGraphics=!0,this.names=Object.keys(o.Layers).reduce((function(e,t){return e[o.Layers[t]]=t,e}),[]),this.orientations=["Horizontal","RotateLeft","RotateRight","Horizontal"],this.horizontalAlignments=["center","left","right"],this.verticalAlignments=["top","middle","bottom"]}return c(e,[{key:"clean",value:function(){this.placeholders={},this.activePlaceholder=null}},{key:"resize",value:function(e,t,n){this.activatePlaceholder(e),this.resizePlaceholder(this.activePlaceholder,0,0,t,n)}},{key:"position",value:function(e,t,n,i,o){this.activatePlaceholder(e),this.resizePlaceholder(this.activePlaceholder,t,n,i,o)}},{key:"show",value:function(e){var t=this.placeholders[e];null!=t&&(t.isVisible=!0)}},{key:"hide",value:function(e){var t=this.placeholders[e];null!=t&&(t.isVisible=!1)}},{key:"resizePlaceholder",value:function(e,t,n,i,r){e.size=new o.Size(i,r),e.rect=new o.Rect(t,n,i,r)}},{key:"reset",value:function(e,t){var n=this.names[t],i=this.placeholders[e];if(null!=i){var o=i.layers[n];null!=o&&o.reset()}}},{key:"activate",value:function(e,t){return this.activatePlaceholder(e),this.activateLayer(t),this.activePlaceholder}},{key:"activatePlaceholder",value:function(e){var t=this.placeholders[e];void 0===t&&((t=new f(e)).size=this.size,t.rect=new o.Rect(0,0,t.size.width,t.size.height),this.placeholders[e]=t),this.activePlaceholder=t}},{key:"activateLayer",value:function(e){var t=this.names[e],n=this.activePlaceholder.layers[t];void 0===n&&(n=new p(t),this.activePlaceholder.layers[t]=n),this.activePlaceholder.activeLayer=n}},{key:"map",value:function(e,t,n){var o=[];if(null!=n){var r=this.placeholders[t];this.names.forEach((function(t){var a=r.layers[t];null!=a&&o.push(n.call(e,t,i.default.createElement(i.default.Fragment,null,a.polylines.length>0?i.default.createElement("svg",{height:r.size.height,width:r.size.width},a.polylines):null,a.items)))}))}return o}},{key:"text",value:function(e,t,n,o,a,l,u,h,c){this.activePlaceholder.activeLayer.items.push(i.default.createElement("div",{key:this.activePlaceholder.activeLayer.items.length,style:s(s({position:"absolute",overflow:"visible",fontFamily:"Trebuchet MS, Tahoma, Verdana, Arial, sans-serif",WebkitTapHighlightColor:"rgba(0,0,0,0)",WebkitUserSelect:"none",WebkitTouchCallout:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",boxSizing:"content-box"},c),{},{top:t+"px",left:e+"px"})},i.default.createElement(r.default,{width:n,height:o,orientation:this.orientations[l],horizontalAlignment:this.horizontalAlignments[u],verticalAlignment:this.verticalAlignments[h]},a)))}},{key:"polylinesBuffer",value:function(e){e.loop(this,(function(e){e.length()>0&&this.polyline(e)}))}},{key:"polyline",value:function(e){var t,n,r,a,l=e.paletteItem.toAttr(),s={};if(void 0!==l.fillColor?(s.fill=l.fillColor,s.fillOpacity=l.opacity):s.fillOpacity=0,void 0!==l.lineWidth&&void 0!==l.borderColor?(s.stroke=l.borderColor,s.strokeWidth=l.lineWidth,void 0!==l.opacity?s.strokeOpacity=l.opacity:s.strokeOpacity=1):(s.stroke="transparent",s.strokeWidth=0),null!=l.lineType)switch(n=Math.round(l.lineWidth)||1,l.lineType){case o.LineType.Dotted:s.strokeDasharray=n+","+n;break;case o.LineType.Dashed:s.strokeDasharray=5*n+","+3*n;break;case o.LineType.Solid:default:s.strokeDasharray=""}t="",e.loop(this,(function(e){switch(e.segmentType){case o.SegmentType.Move:t+="M"+(Math.round(e.x)+.5)+" "+(Math.round(e.y)+.5);break;case o.SegmentType.Line:t+="L"+(Math.round(e.x)+.5)+" "+(Math.round(e.y)+.5);break;case o.SegmentType.QuadraticArc:t+="Q"+(Math.round(e.cpX)+.5)+" "+(Math.round(e.cpY)+.5)+" "+(Math.round(e.x)+.5)+" "+(Math.round(e.y)+.5);break;case o.SegmentType.Dot:e.width===e.height&&e.width/2<=e.cornerRadius?(r=e.width/2,t+="M"+(Math.round(e.x)+.5)+" "+(Math.round(e.y)+e.height/2+.5),t+="A"+r+" "+r+" 0 0 0 "+(Math.round(e.x+e.width)+.5)+" "+(Math.round(e.y)+e.height/2+.5),t+="A"+r+" "+r+" 0 0 0 "+(Math.round(e.x)+.5)+" "+(Math.round(e.y)+e.height/2+.5)):0===e.cornerRadius?(t+="M"+(Math.round(e.x)+.5)+" "+(Math.round(e.y)+.5),t+="L"+(Math.round(e.x+e.width)+.5)+" "+(Math.round(e.y)+.5),t+="L"+(Math.round(e.x+e.width)+.5)+" "+(Math.round(e.y+e.height)+.5),t+="L"+(Math.round(e.x)+.5)+" "+(Math.round(e.y+e.height)+.5),t+="L"+(Math.round(e.x)+.5)+" "+(Math.round(e.y)+.5)):(a=Math.min(e.cornerRadius,Math.min(e.width/2,e.height/2)),t+="M"+(Math.round(e.x)+.5)+" "+(Math.round(e.y+a)+.5),t+="A"+Math.round(a)+" "+Math.round(a)+" 0 0 1 "+(Math.round(e.x+a)+.5)+" "+(Math.round(e.y)+.5),t+="L"+(Math.round(e.x+e.width-a)+.5)+" "+(Math.round(e.y)+.5),t+="A"+Math.round(a)+" "+Math.round(a)+" 0 0 1 "+(Math.round(e.x+e.width)+.5)+" "+(Math.round(e.y+a)+.5),t+="L"+(Math.round(e.x+e.width)+.5)+" "+(Math.round(e.y+e.height-a)+.5),t+="A"+Math.round(a)+" "+Math.round(a)+" 0 0 1 "+(Math.round(e.x+e.width-a)+.5)+" "+(Math.round(e.y+e.height)+.5),t+="L"+(Math.round(e.x+a)+.5)+" "+(Math.round(e.y+e.height)+.5),t+="A"+Math.round(a)+" "+Math.round(a)+" 0 0 1 "+(Math.round(e.x)+.5)+" "+(Math.round(e.y+e.height-a)+.5),t+="L"+(Math.round(e.x)+.5)+" "+(Math.round(e.y+a)+.5));break;case o.SegmentType.CubicArc:t+="C"+(Math.round(e.cpX1)+.5)+" "+(Math.round(e.cpY1)+.5)+" "+(Math.round(e.cpX2)+.5)+" "+(Math.round(e.cpY2)+.5)+" "+(Math.round(e.x)+.5)+" "+(Math.round(e.y)+.5)}})),this.activePlaceholder.activeLayer.polylines.push(i.default.createElement("path",{key:this.activePlaceholder.activeLayer.polylines.length,d:t,style:s}))}},{key:"template",value:function(e,t,n,o,r,a,l,u,h,c,d,f,p){var m,g=e+r,y=t+a,v=l,T=u;m=s({width:v+"px",height:T+"px",top:y+"px",left:g+"px",position:"absolute",padding:"0px",margin:"0px"},p),null==f&&(f={}),f.x=g,f.y=y,f.width=v,f.height=T,null!==d&&this.activePlaceholder.activeLayer.items.push(i.default.createElement("div",{key:this.activePlaceholder.activeLayer.items.length,style:s({position:"absolute",overflow:"visible",fontFamily:"Trebuchet MS, Tahoma, Verdana, Arial, sans-serif",WebkitTapHighlightColor:"rgba(0,0,0,0)",WebkitUserSelect:"none",WebkitTouchCallout:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",boxSizing:"content-box"},m)},d(f)))}},{key:"getPxSize",value:function(e,t){var n=e;return"string"==typeof e&&(n=e.indexOf("pt")>0?96*parseInt(e,10)/72:e.indexOf("%")>0?parseFloat(e)/100*t:parseInt(e,10)),n}}]),e}();t.default=m},5203:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(9420),r=l(n(4808)),a=l(n(3553));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var d,f,p,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,e);var t=u(n);function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.call(this,e,o.OrgTaskManagerFactory,o.OrgEventArgs)}return n}(r.default);d=m,f="propTypes",p={config:a.default.isRequired},f in d?Object.defineProperty(d,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[f]=p;var g=m;t.default=g},9461:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(5697))&&i.__esModule?i:{default:i},r=n(9420);var a=o.default.shape({annotationType:o.default.oneOf([r.AnnotationType.Background]),items:o.default.arrayOf(o.default.oneOfType([o.default.number,o.default.string])),includeChildren:o.default.bool,zOrderType:o.default.oneOf(Object.values(r.ZOrderType)),offset:o.default.shape({left:o.default.number.isRequired,top:o.default.number.isRequired,right:o.default.number.isRequired,bottom:o.default.number.isRequired}),lineWidth:o.default.number,opacity:o.default.number,borderColor:o.default.string,fillColor:o.default.string,lineType:o.default.oneOf(Object.values(r.LineType)),selectItems:o.default.bool});t.default=a},9580:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(5697))&&i.__esModule?i:{default:i},r=n(9420);var a=o.default.shape({annotationType:o.default.oneOf([r.AnnotationType.Connector]),zOrderType:o.default.oneOf(Object.values(r.ZOrderType)),fromItem:o.default.oneOfType([o.default.number,o.default.string]),toItem:o.default.oneOfType([o.default.number,o.default.string]),connectorShapeType:o.default.oneOf(Object.values(r.ConnectorShapeType)),connectorPlacementType:o.default.oneOf(Object.values(r.ConnectorPlacementType)),labelPlacementType:o.default.oneOf(Object.values(r.ConnectorLabelPlacementType)),offset:o.default.oneOfType([o.default.number,o.default.shape({left:o.default.number.isRequired,top:o.default.number.isRequired,right:o.default.number.isRequired,bottom:o.default.number.isRequired})]),lineWidth:o.default.number,color:o.default.string,lineType:o.default.oneOf(Object.values(r.LineType)),selectItems:o.default.bool,label:o.default.any,size:o.default.shape({width:o.default.number.isRequired,height:o.default.number.isRequired})});t.default=a},4180:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=p(n(5697)),o=n(9420),r=p(n(8618)),a=p(n(1336)),l=p(n(9461)),s=p(n(9580)),u=p(n(5626)),h=p(n(433)),c=p(n(3332)),d=p(n(3599)),f=p(n(4683));function p(e){return e&&e.__esModule?e:{default:e}}var m=i.default.shape({navigationMode:i.default.oneOf(Object.values(o.NavigationMode)),pageFitMode:i.default.oneOf(Object.values(o.PageFitMode)),minimalVisibility:i.default.oneOf(Object.values(o.Visibility)),minimumVisibleLevels:i.default.number,orientationType:i.default.oneOf(Object.values(o.OrientationType)),verticalAlignment:i.default.oneOf(Object.values(o.VerticalAlignmentType)),arrowsDirection:i.default.oneOf(Object.values(o.GroupByType)),showExtraArrows:i.default.bool,extraArrowsMinimumSpace:i.default.number,groupByType:i.default.oneOf(Object.values(o.GroupByType)),alignBylevels:i.default.bool,enableMatrixLayout:i.default.bool,minimumMatrixSize:i.default.number,maximumColumnsInMatrix:i.default.number,hideGrandParentsConnectors:i.default.bool,bevelSize:i.default.number,elbowType:i.default.oneOf(Object.values(o.ElbowType)),elbowDotSize:i.default.number,emptyDiagramMessage:i.default.string,items:i.default.arrayOf(r.default),annotations:i.default.arrayOf(i.default.oneOfType([l.default,s.default,u.default,h.default,d.default,c.default])),cursorItem:i.default.oneOfType([i.default.number,i.default.string]),highlightItem:i.default.oneOfType([i.default.number,i.default.string]),highlightGravityRadius:i.default.number,selectedItems:i.default.arrayOf(i.default.oneOfType([i.default.number,i.default.string])),hasSelectorCheckbox:i.default.oneOf(Object.values(o.Enabled)),selectCheckBoxLabel:i.default.string,selectionPathMode:i.default.oneOf(Object.values(o.SelectionPathMode)),neighboursSelectionMode:i.default.oneOf(Object.values(o.NeighboursSelectionMode)),templates:i.default.arrayOf(a.default),defaultTemplateName:i.default.string,defaultLabelAnnotationTemplate:i.default.string,hasButtons:i.default.oneOf(Object.values(o.Enabled)),onButtonsRender:i.default.func,normalLevelShift:i.default.number,dotLevelShift:i.default.number,lineLevelShift:i.default.number,normalItemsInterval:i.default.number,dotItemsInterval:i.default.number,lineItemsInterval:i.default.number,cousinsIntervalMultiplier:i.default.number,itemTitleFirstFontColor:i.default.string,itemTitleSecondFontColor:i.default.string,minimizedItemShapeType:i.default.oneOf(Object.values(o.ShapeType)),linesColor:i.default.string,linesWidth:i.default.number,linesType:i.default.oneOf(Object.values(o.LineType)),showNeigboursConnectorsHighlighted:i.default.bool,highlightLinesColor:i.default.string,highlightLinesWidth:i.default.number,highlightLinesType:i.default.oneOf(Object.values(o.LineType)),linesPalette:i.default.arrayOf(f.default),calloutMaximumVisibility:i.default.oneOf(Object.values(o.Visibility)),showCallout:i.default.bool,calloutPlacementOffset:i.default.number,defaultCalloutTemplateName:i.default.string,calloutfillColor:i.default.string,calloutBorderColor:i.default.string,calloutOffset:i.default.number,calloutCornerRadius:i.default.number,calloutPointerWidth:i.default.string,calloutLineWidth:i.default.number,calloutOpacity:i.default.number,buttonsPanelSize:i.default.number,groupTitlePanelSize:i.default.number,checkBoxPanelSize:i.default.number,groupTitlePlacementType:i.default.oneOf(Object.values(o.AdviserPlacementType)),groupTitleOrientation:i.default.oneOf(Object.values(o.TextOrientationType)),groupTitleVerticalAlignment:i.default.oneOf(Object.values(o.VerticalAlignmentType)),groupTitleHorizontalAlignment:i.default.oneOf(Object.values(o.HorizontalAlignmentType)),groupTitleFontSize:i.default.string,groupTitleFontFamily:i.default.string,groupTitleColor:i.default.string,groupTitleFontWeight:i.default.string,groupTitleFontStyle:i.default.string,onGroupTitleRender:i.default.func,levelTitlePanelSize:i.default.number,levelTitlePlacementType:i.default.oneOf(Object.values(o.AdviserPlacementType)),levelTitlePlaceInside:i.default.bool,levelTitleOrientation:i.default.oneOf(Object.values(o.TextOrientationType)),levelTitleVerticalAlignment:i.default.oneOf(Object.values(o.VerticalAlignmentType)),levelTitleHorizontalAlignment:i.default.oneOf(Object.values(o.HorizontalAlignmentType)),levelTitleFontSize:i.default.string,levelTitleFontFamily:i.default.string,levelTitleFontColor:i.default.string,levelTitleColor:i.default.string,levelTitleFontWeight:i.default.string,levelTitleFontStyle:i.default.string,onLevelTitleRender:i.default.func,onLevelBackgroundRender:i.default.func,distance:i.default.number,scale:i.default.number,minimumScale:i.default.number,maximumScale:i.default.number,showLabels:i.default.oneOf(Object.values(o.Enabled)),labelSize:i.default.shape({width:i.default.number.isRequired,height:i.default.number.isRequired}),labelOffset:i.default.number,labelOrientation:i.default.oneOf(Object.values(o.TextOrientationType)),labelPlacement:i.default.oneOf(Object.values(o.PlacementType)),labelFontSize:i.default.string,labelFontFamily:i.default.string,labelColor:i.default.string,labelFontWeight:i.default.string,labelFontStyle:i.default.string,enablePanning:i.default.bool,autoSizeMinimum:i.default.shape({width:i.default.number.isRequired,height:i.default.number.isRequired}),autoSizeMaximum:i.default.shape({width:i.default.number.isRequired,height:i.default.number.isRequired}),showFrame:i.default.bool,frameInnerPadding:i.default.shape({left:i.default.number.isRequired,top:i.default.number.isRequired,right:i.default.number.isRequired,bottom:i.default.number.isRequired}),frameOuterPadding:i.default.shape({left:i.default.number.isRequired,top:i.default.number.isRequired,right:i.default.number.isRequired,bottom:i.default.number.isRequired}),padding:i.default.shape({left:i.default.number.isRequired,top:i.default.number.isRequired,right:i.default.number.isRequired,bottom:i.default.number.isRequired})});t.default=m},8618:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(5697))&&i.__esModule?i:{default:i},r=n(9420);var a=o.default.shape({id:o.default.oneOfType([o.default.number,o.default.string]).isRequired,parents:o.default.arrayOf(o.default.oneOfType([o.default.number,o.default.string])),title:o.default.string,description:o.default.string,image:o.default.string,context:o.default.any,itemTitleColor:o.default.string,minimizedItemShapeType:o.default.oneOf(Object.values(r.ShapeType)),groupTitle:o.default.string,groupTitleColor:o.default.string,isActive:o.default.bool,hasSelectorCheckbox:o.default.oneOf(Object.values(r.Enabled)),hasButtons:o.default.oneOf(Object.values(r.Enabled)),templateName:o.default.string,showCallout:o.default.oneOf(Object.values(r.Enabled)),calloutTemplateName:o.default.string,label:o.default.string,showLabel:o.default.oneOf(Object.values(r.Enabled)),labelSize:o.default.shape({width:o.default.number.isRequired,height:o.default.number.isRequired}),labelOrientation:o.default.oneOf(Object.values(r.TextOrientationType)),labelPlacement:o.default.oneOf(Object.values(r.PlacementType)),primaryParent:o.default.oneOfType([o.default.number,o.default.string]),relativeItem:o.default.oneOfType([o.default.number,o.default.string]),position:o.default.number,placementType:o.default.oneOf(Object.values(r.AdviserPlacementType)),matrixId:o.default.string,addToMatrix:o.default.bool});t.default=a},5626:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(5697))&&i.__esModule?i:{default:i},r=n(9420);var a=o.default.shape({annotationType:o.default.oneOf([r.AnnotationType.HighlightPath]),zOrderType:o.default.oneOf(Object.values(r.ZOrderType)),items:o.default.arrayOf(o.default.oneOfType([o.default.number,o.default.string])),lineWidth:o.default.number,color:o.default.string,lineType:o.default.oneOf(Object.values(r.LineType)),opacity:o.default.number,showArrows:o.default.bool,selectItems:o.default.bool});t.default=a},3599:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(5697))&&i.__esModule?i:{default:i},r=n(9420);var a=o.default.shape({annotationType:o.default.oneOf([r.AnnotationType.Label]),fromItem:o.default.oneOfType([o.default.number,o.default.string]).isRequired,toItems:o.default.arrayOf(o.default.oneOfType([o.default.number,o.default.string])).isRequired,title:o.default.any,itemTitleColor:o.default.string,templateName:o.default.string});t.default=a},3332:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(5697))&&i.__esModule?i:{default:i},r=n(9420);var a=o.default.shape({annotationType:o.default.oneOf([r.AnnotationType.Level]),levels:o.default.arrayOf(o.default.oneOfType([o.default.number,o.default.string])),title:o.default.any,titleFontColor:o.default.string,titleColor:o.default.string,offset:o.default.shape({left:o.default.number.isRequired,top:o.default.number.isRequired,right:o.default.number.isRequired,bottom:o.default.number.isRequired}),lineWidth:o.default.shape({left:o.default.number.isRequired,top:o.default.number.isRequired,right:o.default.number.isRequired,bottom:o.default.number.isRequired}),opacity:o.default.number,borderColor:o.default.string,fillColor:o.default.string,lineType:o.default.oneOf(Object.values(r.LineType))});t.default=a},3553:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=d(n(5697)),o=n(9420),r=d(n(9352)),a=d(n(1336)),l=d(n(9461)),s=d(n(9580)),u=d(n(5626)),h=d(n(433)),c=d(n(3332));function d(e){return e&&e.__esModule?e:{default:e}}var f=i.default.shape({navigationMode:i.default.oneOf(Object.values(o.NavigationMode)),pageFitMode:i.default.oneOf(Object.values(o.PageFitMode)),alignBranches:i.default.bool,minimalVisibility:i.default.oneOf(Object.values(o.Visibility)),minimumVisibleLevels:i.default.number,orientationType:i.default.oneOf(Object.values(o.OrientationType)),horizontalAlignment:i.default.oneOf(Object.values(o.HorizontalAlignmentType)),verticalAlignment:i.default.oneOf(Object.values(o.VerticalAlignmentType)),arrowsDirection:i.default.oneOf(Object.values(o.GroupByType)),showExtraArrows:i.default.bool,extraArrowsMinimumSpace:i.default.number,showHorizontalArrows:i.default.bool,connectorType:i.default.oneOf(Object.values(o.ConnectorType)),bevelSize:i.default.number,elbowType:i.default.oneOf(Object.values(o.ElbowType)),elbowDotSize:i.default.number,emptyDiagramMessage:i.default.string,items:i.default.arrayOf(r.default),annotations:i.default.arrayOf(i.default.oneOfType([l.default,s.default,u.default,h.default,c.default])),cursorItem:i.default.oneOfType([i.default.number,i.default.string]),highlightItem:i.default.oneOfType([i.default.number,i.default.string]),highlightGravityRadius:i.default.number,selectedItems:i.default.arrayOf(i.default.oneOfType([i.default.number,i.default.string])),hasSelectorCheckbox:i.default.oneOf(Object.values(o.Enabled)),selectCheckBoxLabel:i.default.string,selectionPathMode:i.default.oneOf(Object.values(o.SelectionPathMode)),templates:i.default.arrayOf(a.default),defaultTemplateName:i.default.string,hasButtons:i.default.oneOf(Object.values(o.Enabled)),onButtonsRender:i.default.func,normalLevelShift:i.default.number,dotLevelShift:i.default.number,lineLevelShift:i.default.number,normalItemsInterval:i.default.number,dotItemsInterval:i.default.number,lineItemsInterval:i.default.number,cousinsIntervalMultiplier:i.default.number,itemTitleFirstFontColor:i.default.string,itemTitleSecondFontColor:i.default.string,minimizedItemShapeType:i.default.oneOf(Object.values(o.ShapeType)),linesColor:i.default.string,linesWidth:i.default.number,linesType:i.default.oneOf(Object.values(o.LineType)),highlightLinesColor:i.default.string,highlightLinesWidth:i.default.number,highlightLinesType:i.default.oneOf(Object.values(o.LineType)),calloutMaximumVisibility:i.default.oneOf(Object.values(o.Visibility)),showCallout:i.default.bool,calloutPlacementOffset:i.default.number,defaultCalloutTemplateName:i.default.string,calloutfillColor:i.default.string,calloutBorderColor:i.default.string,calloutOffset:i.default.number,calloutCornerRadius:i.default.number,calloutPointerWidth:i.default.string,calloutLineWidth:i.default.number,calloutOpacity:i.default.number,childrenPlacementType:i.default.oneOf(Object.values(o.ChildrenPlacementType)),leavesPlacementType:i.default.oneOf(Object.values(o.ChildrenPlacementType)),placeAssistantsAboveChildren:i.default.bool,placeAdvisersAboveChildren:i.default.bool,maximumColumnsInMatrix:i.default.number,buttonsPanelSize:i.default.number,groupTitlePanelSize:i.default.number,checkBoxPanelSize:i.default.number,groupTitlePlacementType:i.default.oneOf(Object.values(o.AdviserPlacementType)),groupTitleOrientation:i.default.oneOf(Object.values(o.TextOrientationType)),groupTitleVerticalAlignment:i.default.oneOf(Object.values(o.VerticalAlignmentType)),groupTitleHorizontalAlignment:i.default.oneOf(Object.values(o.HorizontalAlignmentType)),groupTitleFontSize:i.default.string,groupTitleFontFamily:i.default.string,groupTitleColor:i.default.string,groupTitleFontWeight:i.default.string,groupTitleFontStyle:i.default.string,onGroupTitleRender:i.default.func,levelTitlePanelSize:i.default.number,levelTitlePlacementType:i.default.oneOf(Object.values(o.AdviserPlacementType)),levelTitlePlaceInside:i.default.bool,levelTitleOrientation:i.default.oneOf(Object.values(o.TextOrientationType)),levelTitleVerticalAlignment:i.default.oneOf(Object.values(o.VerticalAlignmentType)),levelTitleHorizontalAlignment:i.default.oneOf(Object.values(o.HorizontalAlignmentType)),levelTitleFontSize:i.default.string,levelTitleFontFamily:i.default.string,levelTitleFontColor:i.default.string,levelTitleColor:i.default.string,levelTitleFontWeight:i.default.string,levelTitleFontStyle:i.default.string,onLevelTitleRender:i.default.func,onLevelBackgroundRender:i.default.func,distance:i.default.number,scale:i.default.number,minimumScale:i.default.number,maximumScale:i.default.number,showLabels:i.default.oneOf(Object.values(o.Enabled)),labelSize:i.default.shape({width:i.default.number.isRequired,height:i.default.number.isRequired}),labelOffset:i.default.number,labelOrientation:i.default.oneOf(Object.values(o.TextOrientationType)),labelPlacement:i.default.oneOf(Object.values(o.PlacementType)),labelFontSize:i.default.string,labelFontFamily:i.default.string,labelColor:i.default.string,labelFontWeight:i.default.string,labelFontStyle:i.default.string,enablePanning:i.default.bool,autoSizeMinimum:i.default.shape({width:i.default.number.isRequired,height:i.default.number.isRequired}),autoSizeMaximum:i.default.shape({width:i.default.number.isRequired,height:i.default.number.isRequired}),showFrame:i.default.bool,frameInnerPadding:i.default.shape({left:i.default.number.isRequired,top:i.default.number.isRequired,right:i.default.number.isRequired,bottom:i.default.number.isRequired}),frameOuterPadding:i.default.shape({left:i.default.number.isRequired,top:i.default.number.isRequired,right:i.default.number.isRequired,bottom:i.default.number.isRequired}),padding:i.default.shape({left:i.default.number.isRequired,top:i.default.number.isRequired,right:i.default.number.isRequired,bottom:i.default.number.isRequired})});t.default=f},9352:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(5697))&&i.__esModule?i:{default:i},r=n(9420);var a=o.default.shape({id:o.default.oneOfType([o.default.number,o.default.string]).isRequired,parent:o.default.oneOfType([o.default.number,o.default.string]),title:o.default.string,description:o.default.string,image:o.default.string,context:o.default.any,itemTitleColor:o.default.string,minimizedItemShapeType:o.default.oneOf(Object.values(r.ShapeType)),groupTitle:o.default.string,groupTitleColor:o.default.string,isVisible:o.default.bool,isActive:o.default.bool,hasSelectorCheckbox:o.default.oneOf(Object.values(r.Enabled)),hasButtons:o.default.oneOf(Object.values(r.Enabled)),itemType:o.default.oneOf(Object.values(r.ItemType)),adviserPlacementType:o.default.oneOf(Object.values(r.AdviserPlacementType)),childrenPlacementType:o.default.oneOf(Object.values(r.ChildrenPlacementType)),levelOffset:o.default.number,placeAdvisersAboveChildren:o.default.oneOf(Object.values(r.Enabled)),placeAssistantsAboveChildren:o.default.oneOf(Object.values(r.Enabled)),templateName:o.default.string,showCallout:o.default.oneOf(Object.values(r.Enabled)),calloutTemplateName:o.default.string,label:o.default.string,showLabel:o.default.oneOf(Object.values(r.Enabled)),labelSize:o.default.shape({width:o.default.number.isRequired,height:o.default.number.isRequired}),labelOrientation:o.default.oneOf(Object.values(r.TextOrientationType))});t.default=a},4683:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(9420),r=(i=n(5697))&&i.__esModule?i:{default:i};var a=r.default.shape({lineColor:r.default.string,lineWidth:r.default.number,lineType:r.default.oneOf(Object.values(o.LineType))});t.default=a},433:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(5697))&&i.__esModule?i:{default:i},r=n(9420);var a=o.default.shape({annotationType:o.default.oneOf([r.AnnotationType.Shape]),zOrderType:o.default.oneOf(Object.values(r.ZOrderType)),items:o.default.arrayOf(o.default.oneOfType([o.default.number,o.default.string])),shapeType:o.default.oneOf(Object.values(r.ShapeType)),offset:o.default.shape({left:o.default.number.isRequired,top:o.default.number.isRequired,right:o.default.number.isRequired,bottom:o.default.number.isRequired}),lineWidth:o.default.number,cornerRadius:o.default.string,opacity:o.default.number,borderColor:o.default.string,fillColor:o.default.string,lineType:o.default.oneOf(Object.values(r.LineType)),selectItems:o.default.bool,label:o.default.any,labelSize:o.default.shape({width:o.default.number.isRequired,height:o.default.number.isRequired}),labelPlacement:o.default.oneOf(Object.values(r.PlacementType)),labelOffset:o.default.number});t.default=a},1336:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(5697))&&i.__esModule?i:{default:i},r=n(9420);var a=o.default.shape({name:o.default.string,isActive:o.default.bool,itemSize:o.default.shape({width:o.default.number.isRequired,height:o.default.number.isRequired}),itemBorderWidth:o.default.number,onItemRender:o.default.func,minimizedItemShapeType:o.default.oneOf(Object.values(r.ShapeType)),minimizedItemSize:o.default.shape({width:o.default.number.isRequired,height:o.default.number.isRequired}),minimizedItemCornerRadius:o.default.number,minimizedItemLineWidth:o.default.number,minimizedItemBorderColor:o.default.string,minimizedItemLineType:o.default.oneOf(Object.values(r.LineType)),minimizedItemFillColor:o.default.string,minimizedItemOpacity:o.default.number,highlightPadding:o.default.shape({left:o.default.number.isRequired,top:o.default.number.isRequired,right:o.default.number.isRequired,bottom:o.default.number.isRequired}),highlightBorderWidth:o.default.number,onHighlightRender:o.default.func,cursorPadding:o.default.shape({left:o.default.number.isRequired,top:o.default.number.isRequired,right:o.default.number.isRequired,bottom:o.default.number.isRequired}),cursorBorderWidth:o.default.number,onCursorRender:o.default.func,onButtonsRender:o.default.func});t.default=a},3961:function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,o;return t=e,(i=[{key:"template",value:function(){}},{key:"getHashCode",value:function(){}},{key:"render",value:function(e){}}])&&n(t.prototype,i),o&&n(t,o),e}();t.default=i},8316:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var o;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,i,o=s(u);function u(){return r(this,u),o.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(e){return e.context.label}}])&&a(t.prototype,n),i&&a(t,i),u}(((o=n(3961))&&o.__esModule?o:{default:o}).default),d=c;t.default=d},1966:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var o;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,i,o=s(u);function u(){return r(this,u),o.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(e){return(0,e.onButtonsRender)(e)}}])&&a(t.prototype,n),i&&a(t,i),u}(((o=n(3961))&&o.__esModule?o:{default:o}).default),d=c;t.default=d},3222:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(7294));function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,i,r=s(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=r.call(this)).render=t.render.bind(h(t)),t.selectCheckBoxLabel=e,t}return t=u,(n=[{key:"render",value:function(e){return o.default.createElement("div",{style:{textAlign:"left"}},o.default.createElement("input",{type:"checkbox",name:"checkbox",style:{fontSize:"12px",lineHeight:"12px",verticalAlign:"middle",margin:"0px",padding:"0px"},checked:e.isSelected,onChange:function(){return null},"data-id":e.id}),o.default.createElement("span",{name:"selectiontext",style:{fontSize:"12px",lineHeight:"12px",verticalAlign:"middle",maring:"0px",paddingLeft:"2px",paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px"},"data-id":e.id},this.selectCheckBoxLabel))}}])&&a(t.prototype,n),i&&a(t,i),u}(r(n(3961)).default);t.default=d},8942:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(7294));function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,i,r=c(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=r.call(this)).options=e,n.itemTemplateConfig=t,n.render=n.render.bind(f(n)),n.style={position:"absolute",fontFamily:"Trebuchet MS, Tahoma, Verdana, Arial, sans-serif",WebkitTapHighlightColor:"rgba(0,0,0,0)",WebkitUserSelect:"none",WebkitTouchCallout:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",boxSizing:"content-box",MozBorderRadius:"4px",WebkitBorderRadius:"4px",KhtmlBorderRadius:"4px",BorderRadius:"4px",border:"2px solid #fbd850",background:"#ffffff",color:"#eb8f00",width:"100%",height:"100%",left:"-2px",top:"-2px"},n}return t=a,(n=[{key:"render",value:function(e){var t=this.itemTemplateConfig,n=t.cursorPadding,i=t.itemSize,r=t.cursorBorderWidth,a=l(l({},this.style),{},{width:i.width+n.left+n.right+"px",height:i.height+n.top+n.bottom+"px",borderWidth:r+"px"});return o.default.createElement("div",{style:a})}}])&&u(t.prototype,n),i&&u(t,i),a}(r(n(3961)).default);t.default=m},1116:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var o;function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(n,e);var t=a(n);function n(e,i){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this)).render=i,o}return n}(((o=n(3961))&&o.__esModule?o:{default:o}).default);t.default=u},4192:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(7294));function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,i,r=c(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=r.call(this)).render=n.render.bind(f(n)),n.config=t,n.style={position:"absolute",fontFamily:"Trebuchet MS, Tahoma, Verdana, Arial, sans-serif",WebkitTapHighlightColor:"rgba(0,0,0,0)",WebkitUserSelect:"none",WebkitTouchCallout:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",boxSizing:"content-box",border:"1px solid #fbcb09",background:"#fdf5ce",color:"#c77405",width:"100%",height:"100%",left:"0px",top:"0px"},n}return t=a,(n=[{key:"render",value:function(e){var t=this.config,n=t.minimizedItemCornerRadius,i=t.highlightPadding,r=t.highlightBorderWidth,a=t.minimizedItemSize,s=0;s=null===n?Math.max(a.width/2,a.height/2)+i.left:n+i.left;var u=l(l({},this.style),{},{borderWidth:r+"px",left:-r+"px",top:-r+"px",MozBorderRadius:s+"px",WebkitBorderRadius:s+"px",KhtmlBorderRadius:s+"px",borderRadius:s+"px"});return o.default.createElement("div",{style:u})}}])&&u(t.prototype,n),i&&u(t,i),a}(r(n(3961)).default);t.default=m},2729:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(n(7294)),r=s(n(3961)),a=s(n(2019)),l=n(9420);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,i,r=p(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=r.call(this)).render=t.render.bind(g(t)),t.options=e,t.style={position:"absolute",fontFamily:"Trebuchet MS, Tahoma, Verdana, Arial, sans-serif",WebkitTapHighlightColor:"rgba(0,0,0,0)",WebkitUserSelect:"none",WebkitTouchCallout:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",boxSizing:"content-box",MozBorderRadius:"4px",WebkitBorderRadius:"4px",KhtmlBorderRadius:"4px",BorderRadius:"4px",background:"royalblue",borderWidth:0,color:"white",padding:0,width:"100%",height:"100%",left:"-1px",top:"-1px"},t}return t=s,(n=[{key:"render",value:function(e){var t=this.options,n=t.groupTitleFontSize,i=t.groupTitleFontFamily,r=t.groupTitleFontWeight,s=t.groupTitleFontStyle,u=t.itemTitleSecondFontColor,c=t.itemTitleFirstFontColor,d=t.groupTitleOrientation,f=t.groupTitleHorizontalAlignment,p=t.groupTitleVerticalAlignment,m=t.groupTitleColor,g=e.context,y=e.width,v=e.height,T=g.groupTitleColor||m,w=(g.groupTitle||"").replace("\n","<br/>"),b=(0,l.highestContrast)(T,u,c),k=h(h({},this.style),{},{backgroundColor:T,color:b,fontSize:n,fontFamily:i,fontWeight:r,fontStyle:s});return o.default.createElement("div",{style:k},o.default.createElement(a.default,{width:y,height:v,orientation:["Horizontal","RotateLeft","RotateRight","Horizontal"][d],horizontalAlignment:["center","left","right"][f],verticalAlignment:["top","middle","bottom"][p]},w))}}])&&d(t.prototype,n),i&&d(t,i),s}(r.default);t.default=v},8088:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(7294));function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,i,r=c(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=r.call(this)).options=e,n.config=t,n.render=n.render.bind(f(n)),n.style={position:"absolute",fontFamily:"Trebuchet MS, Tahoma, Verdana, Arial, sans-serif",WebkitTapHighlightColor:"rgba(0,0,0,0)",WebkitUserSelect:"none",WebkitTouchCallout:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",boxSizing:"content-box",MozBorderRadius:"4px",WebkitBorderRadius:"4px",KhtmlBorderRadius:"4px",BorderRadius:"4px",border:"1px solid #fbcb09",background:"#fdf5ce",color:"#c77405",width:"100%",height:"100%",left:"-1px",top:"-1px"},n}return t=a,(n=[{key:"render",value:function(e){var t=this.config.highlightBorderWidth;return o.default.createElement("div",{style:l(l({},this.style),{},{borderWidth:t+"px"})})}}])&&u(t.prototype,n),i&&u(t,i),a}(r(n(3961)).default);t.default=m},5348:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(7294)),r=n(9420);function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,e);var t,n,i,a=d(l);function l(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=a.call(this)).options=e,n.config=t,n.render=n.render.bind(p(n));var i={position:"absolute",overflow:"visible",fontFamily:"Trebuchet MS, Tahoma, Verdana, Arial, sans-serif",WebkitTapHighlightColor:"rgba(0,0,0,0)",WebkitUserSelect:"none",WebkitTouchCallout:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",boxSizing:"content-box"},o={MozBorderRadius:"4px",WebkitBorderRadius:"4px",KhtmlBorderRadius:"4px",BorderRadius:"4px"},r={border:"1px solid #dddddd",background:"#eeeeee",color:"#333333"},u=s(s(s(s({},i),o),r),{},{width:"100%",height:"100%",left:"-1px",top:"-1px"}),h=s(s({},i),{},{textOverflow:"ellipsis",OTextOverflow:"ellipsis",whiteSpace:"nowrap",textAlign:"left",fontSize:"14px",lineHeight:"16px",color:"white",padding:0}),c=s(s(s({},i),o),r),d=s(s({},i),{},{border:"1px solid #cccccc",background:"#f6f6f6",color:"#1c94c4"});return n.styles={defaultTemplate:u,title:s(s({},h),{},{top:"2px",left:"2px",right:"2px",height:"16px"}),background:s(s({},c),{},{top:"2px",left:"2px",right:"2px",height:"20px"}),photoFrame:s(s({},d),{},{top:"26px",left:"2px",width:"50px",height:"60px"}),photo:{height:"60px",width:"50px"},description:s(s({},i),{},{overflow:"hidden",textAlign:"left",top:"26px",left:"56px",right:"2px",bottom:"2px",fontSize:"12px"})},n}return t=l,(n=[{key:"render",value:function(e){var t=e.context,n=this.styles,i=n.defaultTemplate,a=n.title,l=n.background,u=n.photoFrame,h=n.photo,c=n.description,d=null!=t.itemTitleColor?t.itemTitleColor:r.Colors.RoyalBlue,f=(0,r.highestContrast)(d,this.options.itemTitleSecondFontColor,this.options.itemTitleFirstFontColor);return o.default.createElement("div",{style:i},o.default.createElement("div",{style:s(s({},l),{},{backgroundColor:d})},o.default.createElement("div",{style:s(s({},a),{},{color:f})},t.title)),o.default.createElement("div",{style:u},o.default.createElement("img",{style:h,src:t.image,alt:t.title})),o.default.createElement("div",{style:c},t.description))}}])&&h(t.prototype,n),i&&h(t,i),l}(a(n(3961)).default);t.default=g},3677:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var o;function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,i,o=s(u);function u(){return r(this,u),o.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(e){return e.context.title}}])&&a(t.prototype,n),i&&a(t,i),u}(((o=n(3961))&&o.__esModule?o:{default:o}).default),d=c;t.default=d},3616:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=l(n(7294)),r=l(n(3961)),a=n(9420);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e){var t=null;switch(e){case a.LineType.Dotted:t="dotted";break;case a.LineType.Dashed:t="dashed";break;default:t="solid"}return t}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,e);var t,n,i,r=d(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=r.call(this)).options=e,t.render=t.render.bind(p(t)),t.style={position:"absolute",width:"100%",height:"100%"},t}return t=a,n=[{key:"render",value:function(e){var t=e.context,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({opacity:t.opacity,borderColor:t.borderColor,backgroundColor:t.fillColor,borderWidth:t.lineWidth.toString(),borderStyle:g(t.lineType)},this.style);return o.default.createElement("div",{style:n})}}],n&&h(t.prototype,n),i&&h(t,i),a}(r.default),v=y;t.default=v},422:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(n(7294)),r=s(n(3961)),a=s(n(2019)),l=n(9420);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,i,r=p(s);function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=r.call(this)).render=n.render.bind(g(n)),n.options=e,n.orientation=t,n.style={position:"absolute",fontFamily:"Trebuchet MS, Tahoma, Verdana, Arial, sans-serif",WebkitTapHighlightColor:"rgba(0,0,0,0)",WebkitUserSelect:"none",WebkitTouchCallout:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",boxSizing:"content-box",MozBorderRadius:"4px",WebkitBorderRadius:"4px",KhtmlBorderRadius:"4px",BorderRadius:"4px",background:"royalblue",borderWidth:0,color:"white",padding:0,width:"100%",height:"100%",left:"-1px",top:"-1px"},n}return t=s,(n=[{key:"render",value:function(e){var t=this.options,n=t.levelTitleFontSize,i=t.levelTitleFontFamily,r=t.levelTitleFontWeight,s=t.levelTitleFontStyle,u=t.levelTitleOrientation,c=t.levelTitleHorizontalAlignment,d=t.levelTitleVerticalAlignment,f=t.levelTitleFontColor,p=t.levelTitleColor;if(u===l.TextOrientationType.Auto)switch(this.orientation){case l.OrientationType.Top:case l.OrientationType.Bottom:u=l.TextOrientationType.RotateRight}var m=e.context,g=e.width,y=e.height,v=m.titleColor||p,T=(m.title||"").replace("\n","<br/>"),w=m.titleFontColor||f,b=h(h({},this.style),{},{backgroundColor:v,color:w,fontSize:n,fontFamily:i,fontWeight:r,fontStyle:s});return o.default.createElement("div",{style:b},o.default.createElement(a.default,{width:g,height:y,orientation:["Horizontal","RotateLeft","RotateRight","Horizontal"][u],horizontalAlignment:["center","left","right"][c],verticalAlignment:["top","middle","bottom"][d]},T))}}])&&d(t.prototype,n),i&&d(t,i),s}(r.default);t.default=v},2019:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=o?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(7294)),a=(o=n(5697))&&o.__esModule?o:{default:o};function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(a,e);var t,n,i,o=f(a);function a(){return h(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"getTransform",value:function(e){var t="";switch(e){case"RotateLeft":t="rotate(-90deg)";break;case"RotateRight":t="rotate(90deg)"}return t}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.width,i=e.height,o=e.orientation,a=e.horizontalAlignment,l=e.verticalAlignment,s=this.getTransform(o),h=u({position:"absolute",padding:0,margin:0,lineHeight:1,textAlign:a,WebkitTransformOrigin:"center center",MozTransformOrigin:"center center",OTransformOrigin:"center center",msTransformOrigin:"center center",WebkitTransform:s,MozTransform:s,OTransform:s,msTransform:s,transform:s,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",tableLayout:"fixed"},"Horizontal"===o?{width:n+"px",height:i+"px",maxWidth:n+"px",maxHeight:i+"px"}:{width:i+"px",height:n+"px",maxWidth:i+"px",maxHeight:n+"px",left:Math.round(n/2-i/2)+"px",top:Math.round(i/2-n/2)+"px"});return"top"===l?r.default.createElement("div",{style:h},t):r.default.createElement("table",{style:u(u({},h),{},{borderCollapse:"collapse"})},r.default.createElement("tbody",null,r.default.createElement("tr",null,r.default.createElement("td",{style:{verticalAlign:l,padding:0,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},t))))}}])&&c(t.prototype,n),i&&c(t,i),a}(r.Component);g(y,"propTypes",{width:a.default.number.isRequired,height:a.default.number.isRequired,orientation:a.default.oneOf(["Horizontal","RotateLeft","RotateRight"]),horizontalAlignment:a.default.oneOf(["left","center","right"]),verticalAlignment:a.default.oneOf(["top","middle","bottom"])}),g(y,"defaultProps",{orientation:"RotateRight",horizontalAlignment:"center",verticalAlignment:"middle"});var v=y;t.default=v},390:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var o;function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(n,e);var t=a(n);function n(e,i,o){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this)).render=o,r}return n}(((o=n(3961))&&o.__esModule?o:{default:o}).default);t.default=u},3269:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnnotationLabelTemplate",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ButtonsTemplate",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"CheckBoxTemplate",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"CursorTemplate",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"DotHighlightTemplate",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"GroupTitleTemplate",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"HighlightTemplate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"ItemTemplate",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"UserTemplate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"CustomRenderTemplate",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"LabelAnnotationTemplate",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"LevelTitleTemplate",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"LevelBackgroundTemplate",{enumerable:!0,get:function(){return m.default}});var i=g(n(8316)),o=g(n(1966)),r=g(n(3222)),a=g(n(8942)),l=g(n(4192)),s=g(n(2729)),u=g(n(8088)),h=g(n(5348)),c=g(n(390)),d=g(n(1116)),f=g(n(3677)),p=g(n(422)),m=g(n(3616));function g(e){return e&&e.__esModule?e:{default:e}}},9446:function(e,t,n){"use strict";Object.defineProperty(t,"Tz",{enumerable:!0,get:function(){return o.default}});var i=v(n(5203)),o=v(n(9417)),r=v(n(2019)),a=v(n(9461)),l=v(n(9580)),s=v(n(4180)),u=v(n(8618)),h=v(n(5626)),c=v(n(3599)),d=v(n(3553)),f=v(n(9352)),p=v(n(4683)),m=v(n(433)),g=v(n(3332)),y=v(n(1336));function v(e){return e&&e.__esModule?e:{default:e}}},9673:function(e,t,n){e.exports=function(){"use strict";var e=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return function(){function t(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n+=1){var o=i[n];e.call(t,o[1],o[0])}},Object.defineProperties(t.prototype,n),t}()}(),t="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},r=2,a=function(e,t){var n=!1,i=!1,a=0;function l(){n&&(n=!1,e()),i&&u()}function s(){o(l)}function u(){var e=Date.now();if(n){if(e-a<r)return;i=!0}else n=!0,i=!1,setTimeout(s,t);a=e}return u},l=20,s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,h=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=a(this.refresh.bind(this),l)};h.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},h.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},h.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},h.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},h.prototype.connect_=function(){t&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},h.prototype.disconnect_=function(){t&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},h.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),s.some((function(e){return!!~t.indexOf(e)}))&&this.refresh()},h.getInstance=function(){return this.instance_||(this.instance_=new h),this.instance_},h.instance_=null;var c=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n+=1){var o=i[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},f=C(0,0,0,0);function p(e){return parseFloat(e)||0}function m(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return t.reduce((function(t,n){return t+p(e["border-"+n+"-width"])}),0)}function g(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n+=1){var o=i[n],r=e["padding-"+o];t[o]=p(r)}return t}function y(e){var t=e.getBBox();return C(0,0,t.width,t.height)}function v(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var i=d(e).getComputedStyle(e),o=g(i),r=o.left+o.right,a=o.top+o.bottom,l=p(i.width),s=p(i.height);if("border-box"===i.boxSizing&&(Math.round(l+r)!==t&&(l-=m(i,"left","right")+r),Math.round(s+a)!==n&&(s-=m(i,"top","bottom")+a)),!w(e)){var u=Math.round(l+r)-t,h=Math.round(s+a)-n;1!==Math.abs(u)&&(l-=u),1!==Math.abs(h)&&(s-=h)}return C(o.left,o.top,l,s)}var T="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function w(e){return e===d(e).document.documentElement}function b(e){return t?T(e)?y(e):v(e):f}function k(e){var t=e.x,n=e.y,i=e.width,o=e.height,r="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(r.prototype);return c(a,{x:t,y:n,width:i,height:o,top:n,right:t+i,bottom:o+n,left:t}),a}function C(e,t,n,i){return{x:e,y:t,width:n,height:i}}var O=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=C(0,0,0,0),this.target=e};O.prototype.isActive=function(){var e=b(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},O.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var P=function(e,t){var n=k(t);c(this,{target:e,contentRect:n})},x=function(t,n,i){if(this.activeObservations_=[],this.observations_=new e,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=i};x.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new O(e)),this.controller_.addObserver(this),this.controller_.refresh())}},x.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},x.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},x.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},x.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new P(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},x.prototype.clearActive=function(){this.activeObservations_.splice(0)},x.prototype.hasActive=function(){return this.activeObservations_.length>0};var S="undefined"!=typeof WeakMap?new WeakMap:new e,L=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=h.getInstance(),i=new x(t,n,this);S.set(this,i)};return["observe","unobserve","disconnect"].forEach((function(e){L.prototype[e]=function(){return(t=S.get(this))[e].apply(t,arguments);var t}})),void 0!==i.ResizeObserver?i.ResizeObserver:(i.ResizeObserver=L,L)}()},1454:function(e,t,n){"use strict";n.d(t,{P:function(){return Z}});n(1696),n(9829);var i=n(1002),o=n(4942),r=n(7462),a=n(9439),l=n(5900),s=n.n(l),u=n(3433),h=n(7294),c=n(6872),d=n.n(c),f=n(1637),p=n(5987),m=n(1413),g=n(5934),y=h.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0});function v(e,t,n){return(e-t)/(n-t)}function T(e,t,n,i){var o=v(t,n,i),r={};switch(e){case"rtl":r.right="".concat(100*o,"%"),r.transform="translateX(50%)";break;case"btt":r.bottom="".concat(100*o,"%"),r.transform="translateY(50%)";break;case"ttb":r.top="".concat(100*o,"%"),r.transform="translateY(-50%)";break;default:r.left="".concat(100*o,"%"),r.transform="translateX(-50%)"}return r}function w(e,t){return Array.isArray(e)?e[t]:e}var b=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"];var k=h.forwardRef((function(e,t){var n,i,a=e.prefixCls,l=e.value,u=e.valueIndex,c=e.onStartMove,d=e.style,f=e.render,v=e.dragging,k=e.onOffsetChange,C=(0,p.Z)(e,b),O=h.useContext(y),P=O.min,x=O.max,S=O.direction,L=O.disabled,I=O.range,A=O.tabIndex,M=O.ariaLabelForHandle,z=O.ariaLabelledByForHandle,R=O.ariaValueTextFormatterForHandle,E="".concat(a,"-handle"),F=function(e){L||c(e,u)},B=T(S,l,P,x),D=h.createElement("div",(0,r.Z)({ref:t,className:s()(E,(n={},(0,o.Z)(n,"".concat(E,"-").concat(u+1),I),(0,o.Z)(n,"".concat(E,"-dragging"),v),n)),style:(0,m.Z)((0,m.Z)({},B),d),onMouseDown:F,onTouchStart:F,onKeyDown:function(e){if(!L){var t=null;switch(e.which||e.keyCode){case g.Z.LEFT:t="ltr"===S||"btt"===S?-1:1;break;case g.Z.RIGHT:t="ltr"===S||"btt"===S?1:-1;break;case g.Z.UP:t="ttb"!==S?1:-1;break;case g.Z.DOWN:t="ttb"!==S?-1:1;break;case g.Z.HOME:t="min";break;case g.Z.END:t="max";break;case g.Z.PAGE_UP:t=2;break;case g.Z.PAGE_DOWN:t=-2}null!==t&&(e.preventDefault(),k(t,u))}},tabIndex:L?null:w(A,u),role:"slider","aria-valuemin":P,"aria-valuemax":x,"aria-valuenow":l,"aria-disabled":L,"aria-label":w(M,u),"aria-labelledby":w(z,u),"aria-valuetext":null===(i=w(R,u))||void 0===i?void 0:i(l)},C));return f&&(D=f(D,{index:u,prefixCls:a,value:l,dragging:v})),D})),C=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"];var O=h.forwardRef((function(e,t){var n=e.prefixCls,i=e.style,o=e.onStartMove,a=e.onOffsetChange,l=e.values,s=e.handleRender,u=e.draggingIndex,c=(0,p.Z)(e,C),d=h.useRef({});return h.useImperativeHandle(t,(function(){return{focus:function(e){var t;null===(t=d.current[e])||void 0===t||t.focus()}}})),h.createElement(h.Fragment,null,l.map((function(e,t){return h.createElement(k,(0,r.Z)({ref:function(e){e?d.current[t]=e:delete d.current[t]},dragging:u===t,prefixCls:n,style:w(i,t),key:t,value:e,valueIndex:t,onStartMove:o,onOffsetChange:a,render:s},c))})))}));function P(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function x(e){var t=e.prefixCls,n=e.style,i=e.start,o=e.end,r=e.index,a=e.onStartMove,l=h.useContext(y),u=l.direction,c=l.min,d=l.max,f=l.disabled,p=l.range,g="".concat(t,"-track"),T=v(i,c,d),w=v(o,c,d),b=function(e){!f&&a&&a(e,-1)},k={};switch(u){case"rtl":k.right="".concat(100*T,"%"),k.width="".concat(100*w-100*T,"%");break;case"btt":k.bottom="".concat(100*T,"%"),k.height="".concat(100*w-100*T,"%");break;case"ttb":k.top="".concat(100*T,"%"),k.height="".concat(100*w-100*T,"%");break;default:k.left="".concat(100*T,"%"),k.width="".concat(100*w-100*T,"%")}return h.createElement("div",{className:s()(g,p&&"".concat(g,"-").concat(r+1)),style:(0,m.Z)((0,m.Z)({},k),n),onMouseDown:b,onTouchStart:b})}function S(e){var t=e.prefixCls,n=e.style,i=e.values,o=e.startPoint,r=e.onStartMove,a=h.useContext(y),l=a.included,s=a.range,u=a.min,c=h.useMemo((function(){if(!s){if(0===i.length)return[];var e=null!=o?o:u,t=i[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],r=0;r<i.length-1;r+=1)n.push({start:i[r],end:i[r+1]});return n}),[i,s,o,u]);return l?c.map((function(e,i){var o=e.start,a=e.end;return h.createElement(x,{index:i,prefixCls:t,style:w(n,i),start:o,end:a,key:i,onStartMove:r})})):null}function L(e){var t=e.prefixCls,n=e.style,i=e.children,r=e.value,a=e.onClick,l=h.useContext(y),u=l.min,c=l.max,d=l.direction,f=l.includedStart,p=l.includedEnd,g=l.included,v="".concat(t,"-text"),w=T(d,r,u,c);return h.createElement("span",{className:s()(v,(0,o.Z)({},"".concat(v,"-active"),g&&f<=r&&r<=p)),style:(0,m.Z)((0,m.Z)({},w),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){a(r)}},i)}function I(e){var t=e.prefixCls,n=e.marks,i=e.onClick,o="".concat(t,"-mark");return n.length?h.createElement("div",{className:o},n.map((function(e){var t=e.value,n=e.style,r=e.label;return h.createElement(L,{key:t,prefixCls:o,style:n,value:t,onClick:i},r)}))):null}function A(e){var t=e.prefixCls,n=e.value,i=e.style,r=e.activeStyle,a=h.useContext(y),l=a.min,u=a.max,c=a.direction,d=a.included,f=a.includedStart,p=a.includedEnd,g="".concat(t,"-dot"),v=d&&f<=n&&n<=p,w=(0,m.Z)((0,m.Z)({},T(c,n,l,u)),"function"==typeof i?i(n):i);return v&&(w=(0,m.Z)((0,m.Z)({},w),"function"==typeof r?r(n):r)),h.createElement("span",{className:s()(g,(0,o.Z)({},"".concat(g,"-active"),v)),style:w})}function M(e){var t=e.prefixCls,n=e.marks,i=e.dots,o=e.style,r=e.activeStyle,a=h.useContext(y),l=a.min,s=a.max,u=a.step,c=h.useMemo((function(){var e=new Set;if(n.forEach((function(t){e.add(t.value)})),i&&null!==u)for(var t=l;t<=s;)e.add(t),t+=u;return Array.from(e)}),[l,s,u,i,n]);return h.createElement("div",{className:"".concat(t,"-step")},c.map((function(e){return h.createElement(A,{prefixCls:t,key:e,value:e,style:o,activeStyle:r})})))}n(7840);var z=h.forwardRef((function(e,t){var n,r=e.prefixCls,l=void 0===r?"rc-slider":r,c=e.className,p=e.style,m=e.disabled,g=void 0!==m&&m,v=e.autoFocus,T=e.onFocus,w=e.onBlur,b=e.min,k=void 0===b?0:b,C=e.max,x=void 0===C?100:C,L=e.step,A=void 0===L?1:L,z=e.value,R=e.defaultValue,E=e.range,F=e.count,B=e.onChange,D=e.onBeforeChange,j=e.onAfterChange,_=e.allowCross,N=void 0===_||_,H=e.pushable,V=void 0!==H&&H,G=e.draggableTrack,W=e.reverse,Z=e.vertical,q=e.included,K=void 0===q||q,X=e.startPoint,Y=e.trackStyle,U=e.handleStyle,J=e.railStyle,Q=e.dotStyle,$=e.activeDotStyle,ee=e.marks,te=e.dots,ne=e.handleRender,ie=e.tabIndex,oe=void 0===ie?0:ie,re=e.ariaLabelForHandle,ae=e.ariaLabelledByForHandle,le=e.ariaValueTextFormatterForHandle,se=h.useRef(),ue=h.useRef(),he=h.useMemo((function(){return Z?W?"ttb":"btt":W?"rtl":"ltr"}),[W,Z]),ce=h.useMemo((function(){return isFinite(k)?k:0}),[k]),de=h.useMemo((function(){return isFinite(x)?x:100}),[x]),fe=h.useMemo((function(){return null!==A&&A<=0?1:A}),[A]),pe=h.useMemo((function(){return!0===V?fe:V>=0&&V}),[V,fe]),me=h.useMemo((function(){return Object.keys(ee||{}).map((function(e){var t=ee[e],n={value:Number(e)};return t&&"object"===(0,i.Z)(t)&&!h.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n})).filter((function(e){var t=e.label;return t||"number"==typeof t})).sort((function(e,t){return e.value-t.value}))}),[ee]),ge=function(e,t,n,i,o,r){var a=h.useCallback((function(n){var i=isFinite(n)?n:e;return i=Math.min(t,n),Math.max(e,i)}),[e,t]),l=h.useCallback((function(i){if(null!==n){var o=e+Math.round((a(i)-e)/n)*n,r=function(e){return(String(e).split(".")[1]||"").length},l=Math.max(r(n),r(t),r(e)),s=Number(o.toFixed(l));return e<=s&&s<=t?s:null}return null}),[n,e,t,a]),s=h.useCallback((function(o){var r=a(o),s=i.map((function(e){return e.value}));null!==n&&s.push(l(o)),s.push(e,t);var u=s[0],h=t-e;return s.forEach((function(e){var t=Math.abs(r-e);t<=h&&(u=e,h=t)})),u}),[e,t,i,n,a,l]),c=function o(r,a,s){var h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"==typeof a){var c,d=r[s],f=d+a,p=[];i.forEach((function(e){p.push(e.value)})),p.push(e,t),p.push(l(d));var m=a>0?1:-1;"unit"===h?p.push(l(d+m*n)):p.push(l(f)),p=p.filter((function(e){return null!==e})).filter((function(e){return a<0?e<=d:e>=d})),"unit"===h&&(p=p.filter((function(e){return e!==d})));var g="unit"===h?d:f;c=p[0];var y=Math.abs(c-g);if(p.forEach((function(e){var t=Math.abs(e-g);t<y&&(c=e,y=t)})),void 0===c)return a<0?e:t;if("dist"===h)return c;if(Math.abs(a)>1){var v=(0,u.Z)(r);return v[s]=c,o(v,a-m,s,h)}return c}return"min"===a?e:"max"===a?t:void 0},d=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",o=e[n],r=c(e,t,n,i);return{value:r,changed:r!==o}},f=function(e){return null===r&&0===e||"number"==typeof r&&e<r};return[s,function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",a=e.map(s),l=a[n],u=c(a,t,n,i);if(a[n]=u,!1===o){var h=r||0;n>0&&a[n-1]!==l&&(a[n]=Math.max(a[n],a[n-1]+h)),n<a.length-1&&a[n+1]!==l&&(a[n]=Math.min(a[n],a[n+1]-h))}else if("number"==typeof r||null===r){for(var p=n+1;p<a.length;p+=1)for(var m=!0;f(a[p]-a[p-1])&&m;){var g=d(a,1,p);a[p]=g.value,m=g.changed}for(var y=n;y>0;y-=1)for(var v=!0;f(a[y]-a[y-1])&&v;){var T=d(a,-1,y-1);a[y-1]=T.value,v=T.changed}for(var w=a.length-1;w>0;w-=1)for(var b=!0;f(a[w]-a[w-1])&&b;){var k=d(a,-1,w-1);a[w-1]=k.value,b=k.changed}for(var C=0;C<a.length-1;C+=1)for(var O=!0;f(a[C+1]-a[C])&&O;){var P=d(a,1,C+1);a[C+1]=P.value,O=P.changed}}return{value:a[n],values:a}}]}(ce,de,fe,me,N,pe),ye=(0,a.Z)(ge,2),ve=ye[0],Te=ye[1],we=(0,f.Z)(R,{value:z}),be=(0,a.Z)(we,2),ke=be[0],Ce=be[1],Oe=h.useMemo((function(){var e=null==ke?[]:Array.isArray(ke)?ke:[ke],t=(0,a.Z)(e,1)[0],n=null===ke?[]:[void 0===t?ce:t];if(E){if(n=(0,u.Z)(e),F||void 0===ke){var i=F>=0?F+1:2;for(n=n.slice(0,i);n.length<i;){var o;n.push(null!==(o=n[n.length-1])&&void 0!==o?o:ce)}}n.sort((function(e,t){return e-t}))}return n.forEach((function(e,t){n[t]=ve(e)})),n}),[ke,E,ce,F,ve]),Pe=h.useRef(Oe);Pe.current=Oe;var xe=function(e){return E?e:e[0]},Se=function(e){var t=(0,u.Z)(e).sort((function(e,t){return e-t}));B&&!d()(t,Pe.current)&&B(xe(t)),Ce(t)},Le=function(e){if(!g){var t=0,n=de-ce;Oe.forEach((function(i,o){var r=Math.abs(e-i);r<=n&&(n=r,t=o)}));var i=(0,u.Z)(Oe);i[t]=e,E&&!Oe.length&&void 0===F&&i.push(e),null==D||D(xe(i)),Se(i),null==j||j(xe(i))}},Ie=h.useState(null),Ae=(0,a.Z)(Ie,2),Me=Ae[0],ze=Ae[1];h.useEffect((function(){if(null!==Me){var e=Oe.indexOf(Me);e>=0&&se.current.focus(e)}ze(null)}),[Me]);var Re=h.useMemo((function(){return(!G||null!==fe)&&G}),[G,fe]),Ee=function(e,t,n,i,o,r,l,s,c){var d=h.useState(null),f=(0,a.Z)(d,2),p=f[0],m=f[1],g=h.useState(-1),y=(0,a.Z)(g,2),v=y[0],T=y[1],w=h.useState(n),b=(0,a.Z)(w,2),k=b[0],C=b[1],O=h.useState(n),x=(0,a.Z)(O,2),S=x[0],L=x[1],I=h.useRef(null),A=h.useRef(null);h.useEffect((function(){-1===v&&C(n)}),[n,v]),h.useEffect((function(){return function(){document.removeEventListener("mousemove",I.current),document.removeEventListener("mouseup",A.current),document.removeEventListener("touchmove",I.current),document.removeEventListener("touchend",A.current)}}),[]);var M=function(e,t){k.some((function(t,n){return t!==e[n]}))&&(void 0!==t&&m(t),C(e),l(e))},z=function(e,t){if(-1===e){var n=S[0],a=S[S.length-1],l=i-n,s=o-a,h=t*(o-i);h=Math.max(h,l),h=Math.min(h,s);var d=r(n+h);h=d-n;var f=S.map((function(e){return e+h}));M(f)}else{var p=(o-i)*t,m=(0,u.Z)(k);m[e]=S[e];var g=c(m,p,e,"dist");M(g.values,g.value)}},R=h.useRef(z);R.current=z;var E=h.useMemo((function(){var e=(0,u.Z)(n).sort((function(e,t){return e-t})),t=(0,u.Z)(k).sort((function(e,t){return e-t}));return e.every((function(e,n){return e===t[n]}))?k:n}),[n,k]);return[v,p,E,function(i,o){i.stopPropagation();var r=n[o];T(o),m(r),L(n);var a=P(i),l=a.pageX,u=a.pageY,h=function(n){n.preventDefault();var i,r=P(n),a=r.pageX,s=r.pageY,h=a-l,c=s-u,d=e.current.getBoundingClientRect(),f=d.width,p=d.height;switch(t){case"btt":i=-c/p;break;case"ttb":i=c/p;break;case"rtl":i=-h/f;break;default:i=h/f}R.current(o,i)},c=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",h),document.removeEventListener("touchend",e),document.removeEventListener("touchmove",h),I.current=null,A.current=null,T(-1),s()};document.addEventListener("mouseup",c),document.addEventListener("mousemove",h),document.addEventListener("touchend",c),document.addEventListener("touchmove",h),I.current=h,A.current=c}]}(ue,he,Oe,ce,de,ve,Se,(function(){null==j||j(xe(Pe.current))}),Te),Fe=(0,a.Z)(Ee,4),Be=Fe[0],De=Fe[1],je=Fe[2],_e=Fe[3],Ne=function(e,t){_e(e,t),null==D||D(xe(Pe.current))},He=-1!==Be;h.useEffect((function(){if(!He){var e=Oe.lastIndexOf(De);se.current.focus(e)}}),[He]);var Ve=h.useMemo((function(){return(0,u.Z)(je).sort((function(e,t){return e-t}))}),[je]),Ge=h.useMemo((function(){return E?[Ve[0],Ve[Ve.length-1]]:[ce,Ve[0]]}),[Ve,E,ce]),We=(0,a.Z)(Ge,2),Ze=We[0],qe=We[1];h.useImperativeHandle(t,(function(){return{focus:function(){se.current.focus(0)},blur:function(){var e=document.activeElement;ue.current.contains(e)&&(null==e||e.blur())}}})),h.useEffect((function(){v&&se.current.focus(0)}),[]);var Ke=h.useMemo((function(){return{min:ce,max:de,direction:he,disabled:g,step:fe,included:K,includedStart:Ze,includedEnd:qe,range:E,tabIndex:oe,ariaLabelForHandle:re,ariaLabelledByForHandle:ae,ariaValueTextFormatterForHandle:le}}),[ce,de,he,g,fe,K,Ze,qe,E,oe,re,ae,le]);return h.createElement(y.Provider,{value:Ke},h.createElement("div",{ref:ue,className:s()(l,c,(n={},(0,o.Z)(n,"".concat(l,"-disabled"),g),(0,o.Z)(n,"".concat(l,"-vertical"),Z),(0,o.Z)(n,"".concat(l,"-horizontal"),!Z),(0,o.Z)(n,"".concat(l,"-with-marks"),me.length),n)),style:p,onMouseDown:function(e){e.preventDefault();var t,n=ue.current.getBoundingClientRect(),i=n.width,o=n.height,r=n.left,a=n.top,l=n.bottom,s=n.right,u=e.clientX,h=e.clientY;switch(he){case"btt":t=(l-h)/o;break;case"ttb":t=(h-a)/o;break;case"rtl":t=(s-u)/i;break;default:t=(u-r)/i}Le(ve(ce+t*(de-ce)))}},h.createElement("div",{className:"".concat(l,"-rail"),style:J}),h.createElement(S,{prefixCls:l,style:Y,values:Ve,startPoint:X,onStartMove:Re?Ne:null}),h.createElement(M,{prefixCls:l,marks:me,dots:te,style:Q,activeStyle:$}),h.createElement(O,{ref:se,prefixCls:l,style:U,values:je,draggingIndex:Be,onStartMove:Ne,onOffsetChange:function(e,t){if(!g){var n=Te(Oe,e,t);null==D||D(xe(Oe)),Se(n.values),null==j||j(xe(n.values)),ze(n.value)}},onFocus:T,onBlur:w,handleRender:ne}),h.createElement(I,{prefixCls:l,marks:me,onClick:Le})))}));var R=z,E=n(7170),F=n(518),B=n(2275),D=n(8701),j=h.forwardRef((function(e,t){var n=e.open,i=(0,h.useRef)(null),o=(0,h.useRef)(null);function a(){F.Z.cancel(o.current),o.current=null}return h.useEffect((function(){return n?o.current=(0,F.Z)((function(){var e;null===(e=i.current)||void 0===e||e.forcePopupAlign(),o.current=null})):a(),a}),[n,e.title]),h.createElement(D.Z,(0,r.Z)({ref:(0,B.sQ)(i,t)},e))})),_=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},N=h.forwardRef((function(e,t){var n=h.useContext(E.E_),l=n.getPrefixCls,u=n.direction,c=n.getPopupContainer,d=h.useState({}),f=(0,a.Z)(d,2),p=f[0],m=f[1],g=function(e,t){m((function(n){return(0,r.Z)((0,r.Z)({},n),(0,o.Z)({},e,t))}))},y=function(e,t){return e||(t?"rtl"===u?"left":"right":"top")},v=e.prefixCls,T=e.range,w=e.className,b=_(e,["prefixCls","range","className"]),k=l("slider",v),C=s()(w,(0,o.Z)({},"".concat(k,"-rtl"),"rtl"===u));"rtl"!==u||b.vertical||(b.reverse=!b.reverse);var O=h.useMemo((function(){return T?"object"===(0,i.Z)(T)?[!0,T.draggableTrack]:[!0,!1]:[!1]}),[T]),P=(0,a.Z)(O,2),x=P[0],S=P[1];return h.createElement(R,(0,r.Z)({},b,{step:b.step,range:x,draggableTrack:S,className:C,ref:t,prefixCls:k,handleRender:function(t,n){var i,o=n.index,a=n.dragging,s=l(),u=e.tooltip,d=void 0===u?{}:u,f=e.vertical,m=(0,r.Z)({formatter:null!==(i=e.tipFormatter)&&void 0!==i?i:function(e){return"number"==typeof e?e.toString():""},open:e.tooltipVisible,placement:e.tooltipPlacement,getPopupContainer:e.getTooltipPopupContainer},d),v=m.open,T=m.placement,w=m.getPopupContainer,b=m.prefixCls,C=m.formatter,O=!!C&&(p[o]||a),P=v||void 0===v&&O,x=(0,r.Z)((0,r.Z)({},t.props),{onMouseEnter:function(){return g(o,!0)},onMouseLeave:function(){return g(o,!1)}}),S=l("tooltip",b);return h.createElement(j,{prefixCls:S,title:C?C(n.value):"",open:P,placement:y(T,f),transitionName:"".concat(s,"-zoom-down"),key:o,overlayClassName:"".concat(k,"-tooltip"),getPopupContainer:w||c},h.cloneElement(t,x))}}))}));var H=N,V=n(2350),G=n(1082),W=n(9446);function Z(e){var t=e.showGroupTitle,n=void 0===t||t,i=e.orientation,o=void 0===i?V.F7.Top:i,r=e.individuals,a=e.itemSize,l=void 0===a?void 0:a,s=e.itemRenderer,u=void 0===s?function(e){var t=e.context,n=null!=t.itemTitleColor?t.itemTitleColor:V.wL.RoyalBlue;return h.createElement("div",{className:"familyTree-module--TemplateA--d9809"},h.createElement("div",{className:"familyTree-module--titleBackground--a01b0",style:{backgroundColor:n}},h.createElement("div",{className:"familyTree-module--title--80be0"},t.title)),h.createElement("div",{className:"familyTree-module--description--d25e4"},t.description,h.createElement("br",null),h.createElement(G.Link,{to:"/individual/"+t.id},"View Profile")))}:s,c=e.showScale,d=void 0===c||c,f=e.initScale,p=void 0===f?1:f,m=e.height,g=void 0===m?"50vh":m,y=e.width,v=e.pageFitMode,T=void 0===v?V.sj.None:v,w=r.map((function(e){var t={id:e.id,itemTitleColor:"M"===e.sex?"#4169E1":"#e1160d",title:e.name.fullName,label:e.name.fullName,description:e.age?"Age: "+e.age:"",spouses:e.spouses.map((function(e){return e.id})),parents:e.parents.map((function(e){return e.id})),image:null,templateName:"templateA"};return n&&(t.groupTitle="M"===e.sex?"Male":"Female",t.groupTitleColor="M"===e.sex?"#4169E1":"#e1160d"),t})),b=(0,h.useState)(p),k=b[0],C=b[1],O={orientationType:o,scale:k,pageFitMode:T,cursorItem:2,linesWidth:1,linesColor:"black",hasSelectorCheckbox:V.xB.False,normalLevelShift:20,dotLevelShift:20,lineLevelShift:20,normalItemsInterval:10,dotItemsInterval:30,lineItemsInterval:30,showArrows:!1,items:w,templates:[{name:"templateA",onItemRender:u,itemSize:l}]};return h.createElement("div",{style:{height:g,width:y}},d&&h.createElement(h.Fragment,null,h.createElement("span",null,"Scale"),h.createElement(H,{min:.1,step:.01,max:1,value:k,tooltipVisible:!0,tipFormatter:function(e){return Math.round(100*e)+"%"},onChange:C})),h.createElement(W.Tz,{centerOnCursor:!0,config:O}))}}}]);
//# sourceMappingURL=e621254869c69f678c0a4364a37b1d62a14c59ea-9f8a85afbd524597a3d4.js.map